{
  "version": 3,
  "sources": ["../../../worker.js", "../../../node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-zXIEZU/middleware-insertion-facade.js", "../../../node_modules/wrangler/templates/middleware/common.ts", "../bundle-zXIEZU/middleware-loader.entry.ts"],
  "sourceRoot": "/app/.wrangler/tmp/dev-kAK7Ev",
  "sourcesContent": ["// @ts-nocheck\n    // CFnew - Terminal v2.9.3\n    // Version: v2.9.3\n    import { connect } from 'cloudflare:sockets';\n    let at = '';\n    let fallbackAddress = '';\n    let socks5Config = '';\n    let customPreferredIPs = [];\n    let customPreferredDomains = [];\n    let enableSocksDowngrade = false;\n    let disableNonTLS = false;\n    let disablePreferred = false;\n\n    let enableRegionMatching = true;\n    let currentWorkerRegion = '';\n    let manualWorkerRegion = '';\n    let piu = '';\n    let cp = '';\n\n    let ev = true;\n    let et = false;\n    let ex = false;\n    let evm = false;\n    let ess = false;\n    let etu = false;\n    let ehy = false;\n    let eg = false;\n    let tp = '';\n    // Enable ECH (true to enable, false to disable)\n    let enableECH = false;\n    // Custom DNS server (Default: https://dns.joeyblog.eu.org/joeyblog)\n    let customDNS = 'https://dns.joeyblog.eu.org/joeyblog';\n    // Custom ECH domain (Default: cloudflare-ech.com)\n    let customECHDomain = 'cloudflare-ech.com';\n\n    let scu = 'https://url.v1.mk/sub';\n    // Remote config URL (Hardcoded)\n    const defaultRemoteConfigUrl = 'https://raw.githubusercontent.com/byJoey/test/refs/heads/main/tist.ini';\n\n    let epd = false;   // Preferred domains disabled by default\n    let epi = true;\n    let egi = true;\n    let enableDiverseProxies = false; // Generate all supported ports for each IP\n\n    let kvStore = null;\n    let kvConfig = {};\n\n    const regionMapping = {\n        'US': ['\uD83C\uDDFA\uD83C\uDDF8 US', 'US', 'United States'],\n        'SG': ['\uD83C\uDDF8\uD83C\uDDEC SG', 'SG', 'Singapore'],\n        'JP': ['\uD83C\uDDEF\uD83C\uDDF5 JP', 'JP', 'Japan'],\n        'KR': ['\uD83C\uDDF0\uD83C\uDDF7 KR', 'KR', 'South Korea'],\n        'DE': ['\uD83C\uDDE9\uD83C\uDDEA DE', 'DE', 'Germany'],\n        'SE': ['\uD83C\uDDF8\uD83C\uDDEA SE', 'SE', 'Sweden'],\n        'NL': ['\uD83C\uDDF3\uD83C\uDDF1 NL', 'NL', 'Netherlands'],\n        'FI': ['\uD83C\uDDEB\uD83C\uDDEE FI', 'FI', 'Finland'],\n        'GB': ['\uD83C\uDDEC\uD83C\uDDE7 GB', 'GB', 'United Kingdom'],\n        'FR': ['\uD83C\uDDEB\uD83C\uDDF7 FR', 'FR', 'France'],\n        'CA': ['\uD83C\uDDE8\uD83C\uDDE6 CA', 'CA', 'Canada'],\n        'AU': ['\uD83C\uDDE6\uD83C\uDDFA AU', 'AU', 'Australia'],\n        'HK': ['\uD83C\uDDED\uD83C\uDDF0 HK', 'HK', 'Hong Kong'],\n        'TW': ['\uD83C\uDDF9\uD83C\uDDFC TW', 'TW', 'Taiwan'],\n        'IN': ['\uD83C\uDDEE\uD83C\uDDF3 IN', 'IN', 'India'],\n        'BR': ['\uD83C\uDDE7\uD83C\uDDF7 BR', 'BR', 'Brazil'],\n        'PL': ['\uD83C\uDDF5\uD83C\uDDF1 PL', 'PL', 'Poland'],\n        'RU': ['\uD83C\uDDF7\uD83C\uDDFA RU', 'RU', 'Russia'],\n        'LV': ['\uD83C\uDDF1\uD83C\uDDFB LV', 'LV', 'Latvia'],\n        'IR': ['\uD83C\uDDEE\uD83C\uDDF7 IR', 'IR', 'Iran'],\n        'Oracle': ['Oracle', 'Oracle'],\n        'DigitalOcean': ['DigitalOcean', 'DigitalOcean'],\n        'Vultr': ['Vultr', 'Vultr'],\n        'Multacom': ['Multacom', 'Multacom']\n    };\n\n    let backupIPs = [\n        { domain: 'ProxyIP.US.CMLiussss.net', region: 'US', regionCode: 'US', port: 443 },\n        { domain: 'ProxyIP.SG.CMLiussss.net', region: 'SG', regionCode: 'SG', port: 443 },\n        { domain: 'ProxyIP.JP.CMLiussss.net', region: 'JP', regionCode: 'JP', port: 443 },\n        { domain: 'ProxyIP.KR.CMLiussss.net', region: 'KR', regionCode: 'KR', port: 443 },\n        { domain: 'ProxyIP.DE.CMLiussss.net', region: 'DE', regionCode: 'DE', port: 443 },\n        { domain: 'ProxyIP.SE.CMLiussss.net', region: 'SE', regionCode: 'SE', port: 443 },\n        { domain: 'ProxyIP.NL.CMLiussss.net', region: 'NL', regionCode: 'NL', port: 443 },\n        { domain: 'ProxyIP.FI.CMLiussss.net', region: 'FI', regionCode: 'FI', port: 443 },\n        { domain: 'ProxyIP.GB.CMLiussss.net', region: 'GB', regionCode: 'GB', port: 443 },\n        { domain: 'ProxyIP.FR.CMLiussss.net', region: 'FR', regionCode: 'FR', port: 443 },\n        { domain: 'ProxyIP.CA.CMLiussss.net', region: 'CA', regionCode: 'CA', port: 443 },\n        { domain: 'ProxyIP.AU.CMLiussss.net', region: 'AU', regionCode: 'AU', port: 443 },\n        { domain: 'ProxyIP.HK.CMLiussss.net', region: 'HK', regionCode: 'HK', port: 443 },\n        { domain: 'ProxyIP.TW.CMLiussss.net', region: 'TW', regionCode: 'TW', port: 443 },\n        { domain: 'ProxyIP.IN.CMLiussss.net', region: 'IN', regionCode: 'IN', port: 443 },\n        { domain: 'ProxyIP.BR.CMLiussss.net', region: 'BR', regionCode: 'BR', port: 443 },\n        { domain: 'ProxyIP.PL.CMLiussss.net', region: 'PL', regionCode: 'PL', port: 443 },\n        { domain: 'ProxyIP.RU.CMLiussss.net', region: 'RU', regionCode: 'RU', port: 443 },\n        { domain: 'ProxyIP.LV.CMLiussss.net', region: 'LV', regionCode: 'LV', port: 443 },\n        { domain: 'ProxyIP.IR.CMLiussss.net', region: 'IR', regionCode: 'IR', port: 443 },\n        { domain: 'ProxyIP.Oracle.cmliussss.net', region: 'Oracle', regionCode: 'Oracle', port: 443 },\n        { domain: 'ProxyIP.DigitalOcean.CMLiussss.net', region: 'DigitalOcean', regionCode: 'DigitalOcean', port: 443 },\n        { domain: 'ProxyIP.Vultr.CMLiussss.net', region: 'Vultr', regionCode: 'Vultr', port: 443 },\n        { domain: 'ProxyIP.Multacom.CMLiussss.net', region: 'Multacom', regionCode: 'Multacom', port: 443 }\n    ];\n\n    const directDomains = [\n        { name: \"cloudflare.182682.xyz\", domain: \"cloudflare.182682.xyz\" }, { name: \"speed.marisalnc.com\", domain: \"speed.marisalnc.com\" },\n        { domain: \"freeyx.cloudflare88.eu.org\" }, { domain: \"bestcf.top\" }, { domain: \"cdn.2020111.xyz\" }, { domain: \"cfip.cfcdn.vip\" },\n        { domain: \"cf.0sm.com\" }, { domain: \"cf.090227.xyz\" }, { domain: \"cf.zhetengsha.eu.org\" }, { domain: \"cloudflare.9jy.cc\" },\n        { domain: \"cf.zerone-cdn.pp.ua\" }, { domain: \"cfip.1323123.xyz\" }, { domain: \"cnamefuckxxs.yuchen.icu\" }, { domain: \"cloudflare-ip.mofashi.ltd\" },\n        { domain: \"115155.xyz\" }, { domain: \"cname.xirancdn.us\" }, { domain: \"f3058171cad.002404.xyz\" }, { domain: \"8.889288.xyz\" },\n        { domain: \"cdn.tzpro.xyz\" }, { domain: \"cf.877771.xyz\" }, { domain: \"xn--b6gac.eu.org\" }\n    ];\n\n    const E_INVALID_DATA = atob('aW52YWxpZCBkYXRh');\n    const E_INVALID_USER = atob('aW52YWxpZCB1c2Vy');\n    const E_UNSUPPORTED_CMD = atob('Y29tbWFuZCBpcyBub3Qgc3VwcG9ydGVk');\n    const E_UDP_DNS_ONLY = atob('VURQIHByb3h5IG9ubHkgZW5hYmxlIGZvciBETlMgd2hpY2ggaXMgcG9ydCA1Mw==');\n    const E_INVALID_ADDR_TYPE = atob('aW52YWxpZCBhZGRyZXNzVHlwZQ==');\n    const E_EMPTY_ADDR = atob('YWRkcmVzc1ZhbHVlIGlzIGVtcHR5');\n    const E_WS_NOT_OPEN = atob('d2ViU29ja2V0LmVhZHlTdGF0ZSBpcyBub3Qgb3Blbg==');\n    const E_INVALID_ID_STR = atob('U3RyaW5naWZpZWQgaWRlbnRpZmllciBpcyBpbnZhbGlk');\n    const E_INVALID_SOCKS_ADDR = atob('SW52YWxpZCBTT0NLUyBhZGRyZXNzIGZvcm1hdA==');\n    const E_SOCKS_NO_METHOD = atob('bm8gYWNjZXB0YWJsZSBtZXRob2Rz');\n    const E_SOCKS_AUTH_NEEDED = atob('c29ja3Mgc2VydmVyIG5lZWRzIGF1dGg=');\n    const E_SOCKS_AUTH_FAIL = atob('ZmFpbCB0byBhdXRoIHNvY2tzIHNlcnZlcg==');\n    const E_SOCKS_CONN_FAIL = atob('ZmFpbCB0byBvcGVuIHNvY2tzIGNvbm5lY3Rpb24=');\n\n    let parsedSocks5Config = {};\n    let isSocksEnabled = false;\n\n    const ADDRESS_TYPE_IPV4 = 1;\n    const ADDRESS_TYPE_URL = 2;\n    const ADDRESS_TYPE_IPV6 = 3;\n\n    function isValidFormat(str) {\n        const userRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n        return userRegex.test(str);\n    }\n\n    function isValidIP(ip) {\n        const ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n        if (ipv4Regex.test(ip)) return true;\n\n        const ipv6Regex = /^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/;\n        if (ipv6Regex.test(ip)) return true;\n\n        const ipv6ShortRegex = /^::1$|^::$|^(?:[0-9a-fA-F]{1,4}:)*::(?:[0-9a-fA-F]{1,4}:)*[0-9a-fA-F]{1,4}$/;\n        if (ipv6ShortRegex.test(ip)) return true;\n\n        return false;\n    }\n\n    async function initKVStore(env) {\n\n        if (env.C) {\n            try {\n                kvStore = env.C;\n                await loadKVConfig();\n            } catch (error) {\n                kvStore = null;\n            }\n        } else {\n        }\n    }\n\n    async function loadKVConfig() {\n\n        if (!kvStore) {\n            return;\n        }\n\n        try {\n            const configData = await kvStore.get('c');\n\n            if (configData) {\n                kvConfig = JSON.parse(configData);\n            } else {\n            }\n        } catch (error) {\n            kvConfig = {};\n        }\n    }\n\n    async function saveKVConfig() {\n        if (!kvStore) {\n            return;\n        }\n\n        try {\n            const configString = JSON.stringify(kvConfig);\n            await kvStore.put('c', configString);\n        } catch (error) {\n            throw error;\n        }\n    }\n\n    function getConfigValue(key, defaultValue = '') {\n\n        if (kvConfig[key] !== undefined) {\n            return kvConfig[key];\n        }\n        return defaultValue;\n    }\n\n    async function setConfigValue(key, value) {\n        kvConfig[key] = value;\n        await saveKVConfig();\n    }\n\n    async function detectWorkerRegion(request) {\n        try {\n            const cfCountry = request.cf?.country;\n\n            if (cfCountry) {\n                const countryToRegion = {\n                    'US': 'US', 'SG': 'SG', 'JP': 'JP', 'KR': 'KR',\n                    'DE': 'DE', 'SE': 'SE', 'NL': 'NL', 'FI': 'FI', 'GB': 'GB',\n                    'FR': 'FR', 'CA': 'CA', 'AU': 'AU', 'HK': 'HK', 'TW': 'TW',\n                    'IN': 'IN', 'BR': 'BR', 'PL': 'PL', 'RU': 'RU',\n                    'CN': 'SG',\n                    'IT': 'DE', 'ES': 'DE', 'CH': 'DE', 'AT': 'DE', // Europe fallbacks\n                    'BE': 'NL', 'DK': 'SE', 'NO': 'SE', 'IE': 'GB',\n                    'NZ': 'AU', 'MY': 'SG', 'ID': 'SG', 'TH': 'SG', // APAC fallbacks\n                    'VN': 'SG', 'PH': 'SG',\n                    'BD': 'IN', 'LK': 'IN', 'NP': 'IN', 'PK': 'IN', // South Asia -> IN\n                    'AR': 'BR', 'CL': 'BR', 'CO': 'BR', 'PE': 'BR', // South America -> BR\n                    'CZ': 'PL', 'SK': 'PL', 'HU': 'PL', 'UA': 'PL', 'BY': 'PL', // Eastern Europe -> PL\n                    'KZ': 'RU', 'UZ': 'RU' // Central Asia -> RU\n                };\n\n                if (countryToRegion[cfCountry]) {\n                    return countryToRegion[cfCountry];\n                }\n            }\n\n            return 'SG';\n\n        } catch (error) {\n            return 'SG';\n        }\n    }\n\n    async function checkIPAvailability(domain, port = 443, timeout = 2000) {\n        try {\n            const controller = new AbortController();\n            const timeoutId = setTimeout(() => controller.abort(), timeout);\n\n            const response = await fetch(`https://${domain}`, {\n                method: 'HEAD',\n                signal: controller.signal,\n                headers: {\n                    'User-Agent': 'Mozilla/5.0 (compatible; CF-IP-Checker/1.0)'\n                }\n            });\n\n            clearTimeout(timeoutId);\n            return response.status < 500;\n        } catch (error) {\n            return true;\n        }\n    }\n\n    async function getBestBackupIP(workerRegion = '') {\n\n        if (backupIPs.length === 0) {\n            return null;\n        }\n\n        const availableIPs = backupIPs.map(ip => ({ ...ip, available: true }));\n\n        if (enableRegionMatching && workerRegion) {\n            const sortedIPs = getSmartRegionSelection(workerRegion, availableIPs);\n            if (sortedIPs.length > 0) {\n                const selectedIP = sortedIPs[0];\n                return selectedIP;\n            }\n        }\n\n        const selectedIP = availableIPs[0];\n        return selectedIP;\n    }\n\n    function getNearbyRegions(region) {\n        const nearbyMap = {\n            'US': ['SG', 'JP', 'KR', 'BR'],\n            'SG': ['JP', 'KR', 'US', 'IN'],\n            'JP': ['SG', 'KR', 'US'],\n            'KR': ['JP', 'SG', 'US'],\n            'DE': ['NL', 'GB', 'SE', 'FI', 'PL', 'RU'],\n            'SE': ['DE', 'NL', 'FI', 'GB', 'PL', 'RU'],\n            'NL': ['DE', 'GB', 'SE', 'FI', 'PL'],\n            'FI': ['SE', 'DE', 'NL', 'GB', 'RU'],\n            'GB': ['DE', 'NL', 'SE', 'FI'],\n            'IN': ['SG'],\n            'BR': ['US'],\n            'PL': ['DE', 'SE', 'FI', 'NL', 'RU'],\n            'RU': ['FI', 'SE', 'DE', 'PL'],\n            'LV': ['FI', 'SE', 'PL', 'RU'],\n            'IR': ['LV', 'SG', 'JP', 'KR', 'DE', 'SE', 'NL', 'FI', 'GB', 'FR', 'PL', 'RU', 'US', 'CA', 'BR', 'IN', 'AU', 'HK', 'TW']\n        };\n\n        return nearbyMap[region] || [];\n    }\n\n    function getAllRegionsByPriority(region) {\n        const nearbyRegions = getNearbyRegions(region);\n        const allRegions = ['US', 'SG', 'JP', 'KR', 'DE', 'SE', 'NL', 'FI', 'GB', 'IN', 'BR', 'PL', 'RU', 'LV', 'IR', 'AU', 'HK', 'TW'];\n\n        return [region, ...nearbyRegions, ...allRegions.filter(r => r !== region && !nearbyRegions.includes(r))];\n    }\n\n    function getSmartRegionSelection(workerRegion, availableIPs) {\n\n        if (!enableRegionMatching || !workerRegion) {\n            return availableIPs;\n        }\n\n        const priorityRegions = getAllRegionsByPriority(workerRegion);\n\n        const sortedIPs = [];\n\n        for (const region of priorityRegions) {\n            const regionIPs = availableIPs.filter(ip => ip.regionCode === region);\n            sortedIPs.push(...regionIPs);\n        }\n\n        return sortedIPs;\n    }\n\n    function parseAddressAndPort(input) {\n        if (input.includes('[') && input.includes(']')) {\n            const match = input.match(/^\\[([^\\]]+)\\](?::(\\d+))?$/);\n            if (match) {\n                return {\n                    address: match[1],\n                    port: match[2] ? parseInt(match[2], 10) : null\n                };\n            }\n        }\n\n        const lastColonIndex = input.lastIndexOf(':');\n        if (lastColonIndex > 0) {\n            const address = input.substring(0, lastColonIndex);\n            const portStr = input.substring(lastColonIndex + 1);\n            const port = parseInt(portStr, 10);\n\n            if (!isNaN(port) && port > 0 && port <= 65535) {\n                return { address, port };\n            }\n        }\n\n        return { address: input, port: null };\n    }\n\n    function normalizePathToken(token) {\n        return token ? token.trim().replace(/^\\/+|\\/+$/g, '') : '';\n    }\n\n    function splitPath(pathname) {\n        return pathname.split('/').filter(Boolean);\n    }\n\n    function pathEndsWithSegments(pathParts, tailParts, caseInsensitive = false) {\n        if (!tailParts.length || tailParts.length > pathParts.length) {\n            return false;\n        }\n\n        for (let i = 1; i <= tailParts.length; i++) {\n            const a = pathParts[pathParts.length - i];\n            const b = tailParts[tailParts.length - i];\n\n            if (caseInsensitive) {\n                if (a.toLowerCase() !== b.toLowerCase()) {\n                    return false;\n                }\n            } else if (a !== b) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function matchesCustomPath(pathParts, customPath) {\n        const token = normalizePathToken(customPath);\n        if (!token) {\n            return false;\n        }\n\n        return pathEndsWithSegments(pathParts, token.split('/'), false);\n    }\n\n    function extractUuidFromPathParts(pathParts) {\n        if (!pathParts.length) {\n            return null;\n        }\n\n        const last = pathParts[pathParts.length - 1];\n        if (!isValidFormat(last)) {\n            return null;\n        }\n\n        return last.toLowerCase();\n    }\n\n    export default {\n        async fetch(request, env, ctx) {\n            try {\n\n                await initKVStore(env);\n\n                at = (env.u || env.U || at).toLowerCase(); if (!at) { return new Response('UUID not set', { status: 500 }); }\n                const subPath = (env.d || env.D || at).toLowerCase();\n\n                const ci = getConfigValue('p', env.p || env.P);\n                let useCustomIP = false;\n\n                const manualRegion = getConfigValue('wk', env.wk || env.WK);\n                if (manualRegion && manualRegion.trim()) {\n                    manualWorkerRegion = manualRegion.trim().toUpperCase();\n                    currentWorkerRegion = manualWorkerRegion;\n            } else if (ci && ci.trim()) {\n                    useCustomIP = true;\n                    currentWorkerRegion = 'CUSTOM';\n                } else {\n                    currentWorkerRegion = await detectWorkerRegion(request);\n                }\n\n                const regionMatchingControl = env.rm || env.RM;\n                if (regionMatchingControl && regionMatchingControl.toLowerCase() === 'no') {\n                    enableRegionMatching = false;\n                }\n\n                const envFallback = getConfigValue('p', env.p || env.P);\n                if (envFallback) {\n                    fallbackAddress = envFallback.trim();\n                }\n\n                socks5Config = getConfigValue('s', env.s || env.S) || socks5Config;\n                if (socks5Config) {\n                    try {\n                        parsedSocks5Config = parseSocksConfig(socks5Config);\n                        isSocksEnabled = true;\n                    } catch (err) {\n                        isSocksEnabled = false;\n                    }\n                }\n\n                const customPreferred = getConfigValue('yx', env.yx || env.YX);\n                if (customPreferred) {\n                    try {\n                        const preferredList = customPreferred.split(',').map(item => item.trim()).filter(item => item);\n                        customPreferredIPs = [];\n                        customPreferredDomains = [];\n\n                        preferredList.forEach(item => {\n\n                            let nodeName = '';\n                            let addressPart = item;\n\n                            if (item.includes('#')) {\n                                const parts = item.split('#');\n                                addressPart = parts[0].trim();\n                                nodeName = parts[1].trim();\n                            }\n\n                            const { address, port } = parseAddressAndPort(addressPart);\n\n                            if (!nodeName) {\n                                nodeName = 'CustomPreferred-' + address + (port ? ':' + port : '');\n                            }\n\n                            if (isValidIP(address)) {\n                                customPreferredIPs.push({\n                                    ip: address,\n                                    port: port,\n                                    isp: nodeName\n                                });\n                            } else {\n                                customPreferredDomains.push({\n                                    domain: address,\n                                    port: port,\n                                    name: nodeName\n                                });\n                            }\n                        });\n                    } catch (err) {\n                        customPreferredIPs = [];\n                        customPreferredDomains = [];\n                    }\n                }\n\n                const downgradeControl = getConfigValue('qj', env.qj || env.QJ);\n                if (downgradeControl && downgradeControl.toLowerCase() === 'no') {\n                    enableSocksDowngrade = true;\n                }\n\n                const dkbyControl = getConfigValue('dkby', env.dkby || env.DKBY);\n                if (dkbyControl && dkbyControl.toLowerCase() === 'yes') {\n                    disableNonTLS = true;\n                }\n\n                const yxbyControl = env.yxby || env.YXBY;\n                if (yxbyControl && yxbyControl.toLowerCase() === 'yes') {\n                    disablePreferred = true;\n                }\n\n                const vlessControl = getConfigValue('ev', env.ev);\n                if (vlessControl !== undefined && vlessControl !== '') {\n                    ev = vlessControl === 'yes' || vlessControl === true || vlessControl === 'true';\n                }\n\n            const tjControl = getConfigValue('et', env.et);\n            if (tjControl !== undefined && tjControl !== '') {\n                et = tjControl === 'yes' || tjControl === true || tjControl === 'true';\n            }\n\n                tp = getConfigValue('tp', env.tp) || '';\n\n                const xhttpControl = getConfigValue('ex', env.ex);\n                if (xhttpControl !== undefined && xhttpControl !== '') {\n                    ex = xhttpControl === 'yes' || xhttpControl === true || xhttpControl === 'true';\n                }\n\n                const vmessControl = getConfigValue('evm', env.evm);\n                if (vmessControl !== undefined && vmessControl !== '') {\n                    evm = vmessControl === 'yes' || vmessControl === true || vmessControl === 'true';\n                }\n\n                const ssControl = getConfigValue('ess', env.ess);\n                if (ssControl !== undefined && ssControl !== '') {\n                    ess = ssControl === 'yes' || ssControl === true || ssControl === 'true';\n                }\n\n                const tuicControl = getConfigValue('etu', env.etu);\n                if (tuicControl !== undefined && tuicControl !== '') {\n                    etu = tuicControl === 'yes' || tuicControl === true || tuicControl === 'true';\n                }\n\n                const hyControl = getConfigValue('ehy', env.ehy);\n                if (hyControl !== undefined && hyControl !== '') {\n                    ehy = hyControl === 'yes' || hyControl === true || hyControl === 'true';\n                }\n\n                const grpcControl = getConfigValue('eg', env.eg);\n                if (grpcControl !== undefined && grpcControl !== '') {\n                    eg = grpcControl === 'yes' || grpcControl === true || grpcControl === 'true';\n                }\n\n                scu = getConfigValue('scu', env.scu) || 'https://url.v1.mk/sub';\n\n                const preferredDomainsControl = getConfigValue('epd', env.epd || 'no');\n                if (preferredDomainsControl !== undefined && preferredDomainsControl !== '') {\n                    epd = preferredDomainsControl !== 'no' && preferredDomainsControl !== false && preferredDomainsControl !== 'false';\n                }\n\n                const preferredIPsControl = getConfigValue('epi', env.epi);\n                if (preferredIPsControl !== undefined && preferredIPsControl !== '') {\n                    epi = preferredIPsControl !== 'no' && preferredIPsControl !== false && preferredIPsControl !== 'false';\n                }\n\n                const githubIPsControl = getConfigValue('egi', env.egi);\n                if (githubIPsControl !== undefined && githubIPsControl !== '') {\n                    egi = githubIPsControl !== 'no' && githubIPsControl !== false && githubIPsControl !== 'false';\n                }\n\n                const diverseProxiesControl = getConfigValue('edp', env.edp);\n                if (diverseProxiesControl !== undefined && diverseProxiesControl !== '') {\n                    enableDiverseProxies = diverseProxiesControl === 'yes' || diverseProxiesControl === true || diverseProxiesControl === 'true';\n                }\n\n                const echControl = getConfigValue('ech', env.ech);\n                if (echControl !== undefined && echControl !== '') {\n                    enableECH = echControl === 'yes' || echControl === true || echControl === 'true';\n                }\n\n                // Load custom DNS and ECH domain config\n                const customDNSValue = getConfigValue('customDNS', '');\n                if (customDNSValue && customDNSValue.trim()) {\n                    customDNS = customDNSValue.trim();\n                }\n\n                const customECHDomainValue = getConfigValue('customECHDomain', '');\n                if (customECHDomainValue && customECHDomainValue.trim()) {\n                    customECHDomain = customECHDomainValue.trim();\n                }\n\n                // If ECH is enabled, automatically enable TLS-only mode (avoid port 80 interference)\n                // ECH requires TLS to work, so non-TLS nodes must be disabled\n                if (enableECH) {\n                    disableNonTLS = true;\n                    // Check if dkby: yes exists in KV, if not, write it directly\n                    const currentDkby = getConfigValue('dkby', '');\n                    if (currentDkby !== 'yes') {\n                        await setConfigValue('dkby', 'yes');\n                    }\n                }\n\n                if (!ev && !et && !ex && !evm && !ess) {\n                    ev = true;\n                }\n\n            piu = getConfigValue('yxURL', env.yxURL || env.YXURL) || 'https://raw.githubusercontent.com/qwer-search/bestip/refs/heads/main/kejilandbestip.txt';\n                const rcu = getConfigValue('rcu', env.rcu || env.RCU) || defaultRemoteConfigUrl;\n\n            cp = getConfigValue('d', env.d || env.D) || '';\n\n                const defaultURL = 'https://raw.githubusercontent.com/qwer-search/bestip/refs/heads/main/kejilandbestip.txt';\n            if (piu !== defaultURL) {\n                    directDomains.length = 0;\n                    customPreferredIPs = [];\n                    customPreferredDomains = [];\n                }\n\n                const url = new URL(request.url);\n\n            if (url.pathname === '/dns-query') return await handleDoHRequest(request, env, ctx);\n            if (url.pathname === '/dns-encoding') return serveDNSEncodingExplanation();\n\n                if (url.pathname.includes('/api/config')) {\n                    const pathParts = splitPath(url.pathname);\n                    const apiIndex = pathParts.findIndex(p => p.toLowerCase() === 'api');\n\n                    if (apiIndex > 0) {\n                        const accessParts = pathParts.slice(0, apiIndex);\n\n                        let isValid = false;\n                        if (cp && cp.trim()) {\n                            isValid = matchesCustomPath(accessParts, cp);\n                        } else {\n                            const user = extractUuidFromPathParts(accessParts);\n                            isValid = !!user && user === at;\n                        }\n\n                        if (isValid) {\n                            return await handleConfigAPI(request);\n                        }\n\n                        return new Response(JSON.stringify({ error: '\u8DEF\u5F84\u9A8C\u8BC1\u5931\u8D25' }), {\n                            status: 403,\n                            headers: { 'Content-Type': 'application/json' }\n                        });\n                    }\n\n                    return new Response(JSON.stringify({ error: 'Invalid API Path' }), {\n                        status: 404,\n                        headers: { 'Content-Type': 'application/json' }\n                    });\n                }\n\n                if (url.pathname.includes('/api/preferred-ips')) {\n                    const pathParts = splitPath(url.pathname);\n                    const apiIndex = pathParts.findIndex(p => p.toLowerCase() === 'api');\n\n                    if (apiIndex > 0) {\n                        const accessParts = pathParts.slice(0, apiIndex);\n\n                        let isValid = false;\n                        if (cp && cp.trim()) {\n                            isValid = matchesCustomPath(accessParts, cp);\n                        } else {\n                            const user = extractUuidFromPathParts(accessParts);\n                            isValid = !!user && user === at;\n                        }\n\n                        if (isValid) {\n                            return await handlePreferredIPsAPI(request);\n                        }\n\n                        return new Response(JSON.stringify({ error: '\u8DEF\u5F84\u9A8C\u8BC1\u5931\u8D25' }), {\n                            status: 403,\n                            headers: { 'Content-Type': 'application/json' }\n                        });\n                    }\n\n                    return new Response(JSON.stringify({ error: 'Invalid API Path' }), {\n                        status: 404,\n                        headers: { 'Content-Type': 'application/json' }\n                    });\n                }\n\n            if (request.method === 'POST' && request.headers.get('content-type') === 'application/grpc' && eg) {\n                return await handleGrpcRequest(request);\n            }\n\n            if (request.method === 'POST' && ex) {\n                const r = await handleXhttpPost(request);\n                if (r instanceof Response) {\n                    return r;\n                }\n                if (r && typeof r === 'object' && 'readable' in r && 'closed' in r) {\n                    ctx.waitUntil(r.closed);\n                    return new Response(r.readable, {\n                        headers: {\n                            'X-Accel-Buffering': 'no',\n                            'Cache-Control': 'no-store',\n                            Connection: 'keep-alive',\n                            'User-Agent': 'Go-http-client/2.0',\n                            'Content-Type': 'application/grpc',\n                        },\n                    });\n                }\n                return new Response('Internal Server Error', { status: 500 });\n            }\n\n            if (request.headers.get('Upgrade') === atob('d2Vic29ja2V0')) {\n                return await handleWsRequest(request);\n                }\n\n                if (request.method === 'GET') {\n                    // Handle /{UUID}/region or /{CustomPath}/region\n                    if (url.pathname.endsWith('/region')) {\n                        const pathParts = splitPath(url.pathname);\n\n                        if (pathParts.length >= 2 && pathParts[pathParts.length - 1].toLowerCase() === 'region') {\n                            const accessParts = pathParts.slice(0, -1);\n                            let isValid = false;\n\n                            if (cp && cp.trim()) {\n                                isValid = matchesCustomPath(accessParts, cp);\n                            } else {\n                                const user = extractUuidFromPathParts(accessParts);\n                                isValid = !!user && user === at;\n                            }\n\n                            if (isValid) {\n                                const ci = getConfigValue('p', env.p || env.P);\n                                const manualRegion = getConfigValue('wk', env.wk || env.WK);\n\n                                if (manualRegion && manualRegion.trim()) {\n                                    return new Response(JSON.stringify({\n                                        region: manualRegion.trim().toUpperCase(),\n                                        detectionMethod: 'Manual Region',\n                                        manualRegion: manualRegion.trim().toUpperCase(),\n                                        timestamp: new Date().toISOString()\n                                    }), {\n                                        headers: { 'Content-Type': 'application/json' }\n                                    });\n                                } else if (ci && ci.trim()) {\n                                    return new Response(JSON.stringify({\n                                        region: 'CUSTOM',\n                                        detectionMethod: 'Custom ProxyIP Mode', ci: ci,\n                                        timestamp: new Date().toISOString()\n                                    }), {\n                                        headers: { 'Content-Type': 'application/json' }\n                                    });\n                                } else {\n                                    const detectedRegion = await detectWorkerRegion(request);\n                                    return new Response(JSON.stringify({\n                                        region: detectedRegion,\n                                        detectionMethod: 'API Detection',\n                                        timestamp: new Date().toISOString()\n                                    }), {\n                                        headers: { 'Content-Type': 'application/json' }\n                                    });\n                                }\n                            } else {\n                                return new Response(JSON.stringify({\n                                    error: 'Access Denied',\n                                    message: 'Path Validation Failed'\n                                }), {\n                                    status: 403,\n                                    headers: { 'Content-Type': 'application/json' }\n                                });\n                            }\n                        }\n                    }\n\n                    // Handle /{UUID}/test-api or /{CustomPath}/test-api\n                    if (url.pathname.endsWith('/test-api')) {\n                        const pathParts = splitPath(url.pathname);\n\n                        if (pathParts.length >= 2 && pathParts[pathParts.length - 1].toLowerCase() === 'test-api') {\n                            const accessParts = pathParts.slice(0, -1);\n                            let isValid = false;\n\n                            if (cp && cp.trim()) {\n                                isValid = matchesCustomPath(accessParts, cp);\n                            } else {\n                                const user = extractUuidFromPathParts(accessParts);\n                                isValid = !!user && user === at;\n                            }\n\n                            if (isValid) {\n                                try {\n                                    const testRegion = await detectWorkerRegion(request);\n                                    return new Response(JSON.stringify({\n                                        detectedRegion: testRegion,\n                                        message: 'API Test Completed',\n                                        timestamp: new Date().toISOString()\n                                    }), {\n                                        headers: { 'Content-Type': 'application/json' }\n                                    });\n                                } catch (error) {\n                                    return new Response(JSON.stringify({\n                                        error: error.message,\n                                        message: 'API Test Failed'\n                                    }), {\n                                        status: 500,\n                                        headers: { 'Content-Type': 'application/json' }\n                                    });\n                                }\n                            } else {\n                                return new Response(JSON.stringify({\n                                    error: 'Access Denied',\n                                    message: 'Path Validation Failed'\n                                }), {\n                                    status: 403,\n                                    headers: { 'Content-Type': 'application/json' }\n                                });\n                            }\n                        }\n                    }\n\n                    if (url.pathname === '/') {\n                        // Check for custom homepage URL configuration\n                        const customHomepage = getConfigValue('homepage', env.homepage || env.HOMEPAGE);\n                        if (customHomepage && customHomepage.trim()) {\n                            try {\n                const homepageUrl = new URL(customHomepage.trim());\n                if (homepageUrl.protocol !== 'https:') {\n                    throw new Error('Invalid homepage URL protocol');\n                }\n\n            if (homepageUrl.hostname === url.hostname) {\n                throw new Error('Homepage loop detected');\n            }\n\n                                // Fetch content from custom URL\n                const homepageResponse = await fetch(homepageUrl.toString(), {\n                                    method: 'GET',\n                                    headers: {\n                                        'User-Agent': request.headers.get('User-Agent') || 'Mozilla/5.0',\n                                        'Accept': request.headers.get('Accept') || '*/*',\n                                        'Accept-Language': request.headers.get('Accept-Language') || 'en-US,en;q=0.9',\n                                    },\n                                    redirect: 'follow'\n                                });\n\n                                if (homepageResponse.ok) {\n                                    // \u83B7\u53D6\u54CD\u5E94\u5185\u5BB9\n                                    const contentType = homepageResponse.headers.get('Content-Type') || 'text/html; charset=utf-8';\n                                    const content = await homepageResponse.text();\n\n                                    // Return custom homepage content\n                                    return new Response(content, {\n                                        status: homepageResponse.status,\n                                        headers: {\n                                            'Content-Type': contentType,\n                                            'Cache-Control': 'no-cache, no-store, must-revalidate',\n                                        }\n                                    });\n                                }\n                            } catch (error) {\n                                // If fetch fails, continue using default terminal page\n                                console.error('Failed to fetch custom homepage:', error);\n                            }\n                        }\n                        // Prioritize language settings from Cookie\n                        const cookieHeader = request.headers.get('Cookie') || '';\n                        let langFromCookie = null;\n                        if (cookieHeader) {\n                            const cookies = cookieHeader.split(';').map(c => c.trim());\n                            for (const cookie of cookies) {\n                                if (cookie.startsWith('preferredLanguage=')) {\n                                    langFromCookie = cookie.split('=')[1];\n                                    break;\n                                }\n                            }\n                        }\n\n                        let lang = 'en';\n\n                        if (langFromCookie) {\n                            if (langFromCookie === 'fa' || langFromCookie === 'fa-IR') {\n                                lang = 'fa';\n                            } else if (langFromCookie === 'zh' || langFromCookie === 'zh-CN' || langFromCookie === 'zh-Hans') {\n                                lang = 'zh';\n                            } else {\n                                lang = 'en';\n                            }\n                        } else {\n                            // If no Cookie, use browser language detection\n                            const acceptLanguage = request.headers.get('Accept-Language') || '';\n                            const browserLang = acceptLanguage.split(',')[0].split('-')[0].toLowerCase();\n                            if (browserLang === 'fa' || acceptLanguage.includes('fa-IR') || acceptLanguage.includes('fa')) {\n                                lang = 'fa';\n                            } else if (browserLang === 'zh' || acceptLanguage.includes('zh-CN') || acceptLanguage.includes('zh')) {\n                                lang = 'zh';\n                            } else {\n                                lang = 'en';\n                            }\n                        }\n\n                        const isFarsi = lang === 'fa';\n                        const isZh = lang === 'zh';\n                        const langAttr = isFarsi ? 'fa-IR' : (isZh ? 'zh-CN' : 'en-US');\n\n                            const translations = {\n                                en: {\n                    title: 'Terminal',\n                    congratulations: 'Congratulations, you made it!',\n                    enterU: 'Please enter the value of your U variable',\n                    enterD: 'Please enter the value of your D variable',\n                    command: 'Command: connect [',\n                    uuid: 'UUID',\n                    path: 'PATH',\n                    inputU: 'Enter content of U variable and press Enter...',\n                    inputD: 'Enter content of D variable and press Enter...',\n                    connecting: 'Connecting...',\n                    invading: 'Invading...',\n                    success: 'Connection successful! Returning result...',\n                    error: 'Error: Invalid UUID format',\n                    reenter: 'Please re-enter a valid UUID',\n\n                    // Subscription Page Translations\n                    subtitle: 'Multi-client Support \u2022 Smart Optimization \u2022 One-Click Generation',\n                    selectClient: '[ Select Client ]',\n                    systemStatus: '[ System Status ]',\n                    configManagement: '[ Config Management ]',\n                    relatedLinks: '[ Related Links ]',\n                    checking: 'Checking...',\n                    workerRegion: 'Worker Region: ',\n                    detectionMethod: 'Detection Method: ',\n                    proxyIPStatus: 'ProxyIP Status: ',\n                    currentIP: 'Current IP: ',\n                    regionMatch: 'Region Match: ',\n                    selectionLogic: 'Selection Logic: ',\n                    kvStatusChecking: 'Checking KV Status...',\n                    kvEnabled: '\u2705 KV Storage Enabled, Config Management Available',\n                    kvDisabled: '\u26A0\uFE0F KV Storage Disabled or Not Configured',\n                    specifyRegion: 'Specify Region (wk):',\n                    autoDetect: 'Auto Detect',\n                    saveRegion: 'Save Region Config',\n                    protocolSelection: 'Protocol Selection:',\n                    enableVLESS: 'Enable VLESS Protocol',\n                    enableVMess: 'Enable VMess Protocol',\n                    enableShadowsocks: 'Enable Shadowsocks Protocol',\n                    enableTrojan: 'Enable Trojan Protocol',\n                    enableXhttp: 'Enable xhttp Protocol',\n                    enableTUIC: 'Enable TUIC Protocol',\n                    enableHysteria2: 'Enable Hysteria 2 Protocol',\n                    enableVLESSgRPC: 'Enable VLESS gRPC Protocol',\n                    linkOnlyHint: 'Requires External Backend (Link-Only)',\n                    grpcHint: 'Requires Custom Domain (gRPC)',\n                    trojanPassword: 'Trojan Password (Optional):',\n                    customPath: 'Custom Path (d):',\n                    customPathPlaceholder: 'e.g., /secret-path',\n                    customIP: 'Custom ProxyIP (p):',\n                    customIPPlaceholder: 'e.g., 1.2.3.4 or proxy.example.com',\n                    preferredIPs: 'Preferred IP List (yx):',\n                    preferredIPsPlaceholder: 'e.g., 1.1.1.1:443#HongKong, 8.8.8.8:443#USA',\n                    preferredIPsURL: 'Preferred IP Source URL (yxURL):',\n                    latencyTest: 'Latency Test',\n                    latencyTestIP: 'Test IP/Domain:',\n                    latencyTestIPPlaceholder: 'Enter IP or Domain, comma separated',\n                    latencyTestPort: 'Port:',\n                    startTest: 'Start Test',\n                    stopTest: 'Stop Test',\n                    testResult: 'Test Result:',\n                    addToYx: 'Add to Preferred List',\n                    addSelectedToYx: 'Add Selected to Preferred List',\n                    selectAll: 'Select All',\n                    deselectAll: 'Deselect All',\n                    testingInProgress: 'Testing...',\n                    testComplete: 'Test Complete',\n                    latencyMs: 'Latency (HTTP Handshake)',\n                    timeout: 'Timeout',\n                    ipSource: 'IP Source:',\n                    manualInput: 'Manual Input',\n                    cfRandomIP: 'CF Random IP',\n                    urlFetch: 'Fetch from URL',\n                    randomCount: 'Generate Count:',\n                    fetchURL: 'Fetch URL:',\n                    fetchURLPlaceholder: 'Enter URL of IP list',\n                    generateIP: 'Generate IP',\n                    fetchIP: 'Fetch IP',\n                    socks5Config: 'SOCKS5 Config (s):',\n                    customHomepage: 'Custom Homepage URL (homepage):',\n                    customHomepagePlaceholder: 'e.g., https://example.com',\n                    customHomepageHint: 'Set custom URL as homepage camouflage. Content of this URL will be shown when accessing root path /. Leave empty to show default terminal page.',\n                    customPathHint: 'Only accessible via this path if set. UUID access will be disabled. Suggest using complex path to prevent scanning.',\n                    customIPHint: 'Hide Worker real IP, or solve Cloudflare Loop issue. Supports IP:Port or Domain:Port.',\n                    preferredIPsHint: 'Manually specify preferred nodes. Highest priority. Format: IP:Port#Remark.',\n                    socks5ConfigHint: 'Format: user:pass@host:port. Worker will connect to target via this proxy.',\n                    saveConfig: 'Save Config',\n                    advancedControl: 'Advanced Control',\n                    subscriptionConverter: 'Sub Converter URL:',\n                    builtinPreferred: 'Built-in Preferred Type:',\n                    enablePreferredDomain: 'Enable Preferred Domain',\n                    enablePreferredIP: 'Enable Preferred IP',\n                    enableGitHubPreferred: 'Enable GitHub Default Preferred',\n                    enableDiverseProxies: 'Enable Diverse Proxies (Generate all ports)',\n                    enableDiverseProxiesHint: 'Generate nodes for all supported ports (80, 443, 2053, etc.) for each IP. Increases subscription size significantly.',\n                    allowAPIManagement: 'Allow API Management (ae):',\n                    regionMatching: 'Region Matching (rm):',\n                    downgradeControl: 'Downgrade Control (qj):',\n                    tlsControl: 'TLS Control (dkby):',\n                    preferredControl: 'Preferred Control (yxby):',\n                    saveAdvanced: 'Save Advanced Config',\n                    loading: 'Loading...',\n                    currentConfig: '\uD83D\uDCCD Current Path Config',\n                    refreshConfig: 'Refresh Config',\n                    resetConfig: 'Reset Config',\n                    subscriptionCopied: 'Subscription Link Copied',\n                    autoSubscriptionCopied: 'Auto-detected subscription link copied. Client will be recognized by User-Agent.',\n                    trojanPasswordPlaceholder: 'Leave empty to use UUID',\n                    trojanPasswordHint: 'Set custom Trojan password. Leave empty to use UUID. Client will auto-hash password with SHA224.',\n                    protocolHint: 'Multiple protocols can be enabled.<br>\u2022 VLESS WS: Standard WebSocket protocol<br>\u2022 VMess WS: WebSocket-based VMess (link generation)<br>\u2022 Shadowsocks: WebSocket-based SS (link generation)<br>\u2022 Trojan: Uses SHA224 password auth<br>\u2022 xhttp: HTTP POST camouflage (requires custom domain & gRPC)',\n                    enableECH: 'Enable ECH (Encrypted Client Hello)',\n                    enableECHHint: 'When enabled, ECH config is fetched from DoH and added to links on every sub refresh',\n                    customDNS: 'Custom DNS Server',\n                    customDNSPlaceholder: 'e.g., https://dns.joeyblog.eu.org/joeyblog',\n                    customDNSHint: 'DNS server for ECH config query (DoH format)',\n                    customECHDomain: 'Custom ECH Domain',\n                    customECHDomainPlaceholder: 'e.g., cloudflare-ech.com',\n                    customECHDomainHint: 'Domain used in ECH config, leave empty for default',\n                    saveProtocol: 'Save Protocol Config',\n                    subscriptionConverterPlaceholder: 'Default: https://url.v1.mk/sub',\n                    subscriptionConverterHint: 'Custom subscription converter API, leave empty for default',\n                    builtinPreferredHint: 'Control which built-in preferred nodes are included. Default all enabled.',\n                    apiEnabledDefault: 'Default (API Disabled)',\n                    apiEnabledYes: 'Enable API Management',\n                    apiEnabledHint: '\u26A0\uFE0F Security Warning: Enabling API allows dynamic preferred IP addition. Use only if needed.',\n                    regionMatchingDefault: 'Default (Enable Region Match)',\n                    regionMatchingNo: 'Disable Region Match',\n                    regionMatchingHint: 'Smart region matching disabled when set to \"Disable\"',\n                    downgradeControlDefault: 'Default (Disable Downgrade)',\n                    downgradeControlNo: 'Enable Downgrade Mode',\n                    downgradeControlHint: 'When enabled: CF Direct Fail -> SOCKS5 -> Fallback',\n                    tlsControlDefault: 'Default (Keep All Nodes)',\n                    tlsControlYes: 'TLS Nodes Only',\n                    tlsControlHint: 'When set to \"TLS Nodes Only\", non-TLS nodes (e.g., port 80) are not generated',\n                    preferredControlDefault: 'Default (Enable Preferred)',\n                    preferredControlYes: 'Disable Preferred',\n                    preferredControlHint: 'When set to \"Disable Preferred\", only native address is used',\n                    regionNames: {\n                        US: '\uD83C\uDDFA\uD83C\uDDF8 US', SG: '\uD83C\uDDF8\uD83C\uDDEC Singapore', JP: '\uD83C\uDDEF\uD83C\uDDF5 Japan',\n                        KR: '\uD83C\uDDF0\uD83C\uDDF7 South Korea', DE: '\uD83C\uDDE9\uD83C\uDDEA Germany', SE: '\uD83C\uDDF8\uD83C\uDDEA Sweden', NL: '\uD83C\uDDF3\uD83C\uDDF1 Netherlands',\n                        FI: '\uD83C\uDDEB\uD83C\uDDEE Finland', GB: '\uD83C\uDDEC\uD83C\uDDE7 UK', FR: '\uD83C\uDDEB\uD83C\uDDF7 France', CA: '\uD83C\uDDE8\uD83C\uDDE6 Canada',\n                        AU: '\uD83C\uDDE6\uD83C\uDDFA Australia', HK: '\uD83C\uDDED\uD83C\uDDF0 Hong Kong', TW: '\uD83C\uDDF9\uD83C\uDDFC Taiwan'\n                    },\n                    terminal: 'Terminal v2.9.3',\n                    githubProject: 'GitHub Project',\n                    autoDetectClient: 'Auto Detect',\n                    selectionLogicText: 'Same Region -> Nearby Region -> Other Regions',\n                    customIPDisabledHint: 'Region selection disabled when using Custom ProxyIP',\n                    customIPMode: 'Custom ProxyIP Mode (p variable enabled)',\n                    customIPModeDesc: 'Custom IP Mode (Region match disabled)',\n                    usingCustomProxyIP: 'Using Custom ProxyIP: ',\n                    customIPConfig: ' (p variable config)',\n                    customIPModeDisabled: 'Custom IP Mode, region selection disabled',\n                    manualRegion: 'Manual Region',\n                    manualRegionDesc: ' (Manual)',\n                    proxyIPAvailable: '10/10 Available (ProxyIP Domain Pre-set)',\n                    smartSelection: 'Smart Nearby Selection',\n                    sameRegionIP: 'Same Region IP Available (1)',\n                    cloudflareDetection: 'Cloudflare Built-in Detection',\n                    detectionFailed: 'Detection Failed',\n                    apiTestResult: 'API Detection Result: ',\n                    apiTestTime: 'Detection Time: ',\n                    apiTestFailed: 'API Detection Failed: ',\n                    unknownError: 'Unknown Error',\n                    apiTestError: 'API Test Failed: ',\n                    kvNotConfigured: 'KV Storage not configured. Config management unavailable.\\\\n\\\\nPlease in Cloudflare Workers:\\\\n1. Create KV Namespace\\\\n2. Bind variable C\\\\n3. Redeploy',\n                    kvNotEnabled: 'KV Storage Not Configured',\n                    kvCheckFailed: 'KV Check Failed: Invalid Response',\n                    kvCheckFailedStatus: 'KV Check Failed - Status: ',\n                    kvCheckFailedError: 'KV Check Failed - Error: ',\n                    debugConsoleTitle: 'Debug Console',\n                    debugShow: 'Show',\n                    debugHide: 'Hide',\n                    debugReady: 'Console ready',\n                    debugUnknownError: 'Unknown error',\n                    debugUnhandledPromise: 'Unhandled promise rejection'\n                },\n                                fa: {\n                                    title: '\u062A\u0631\u0645\u06CC\u0646\u0627\u0644',\n                                    terminal: '\u062A\u0631\u0645\u06CC\u0646\u0627\u0644',\n                                    congratulations: '\u062A\u0628\u0631\u06CC\u06A9 \u0645\u06CC\u200C\u06AF\u0648\u06CC\u06CC\u0645 \u0628\u0647 \u0634\u0645\u0627',\n                                    enterU: '\u0644\u0637\u0641\u0627\u064B \u0645\u0642\u062F\u0627\u0631 \u0645\u062A\u063A\u06CC\u0631 U \u062E\u0648\u062F \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F',\n                                    enterD: '\u0644\u0637\u0641\u0627\u064B \u0645\u0642\u062F\u0627\u0631 \u0645\u062A\u063A\u06CC\u0631 D \u062E\u0648\u062F \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F',\n                                    command: '\u062F\u0633\u062A\u0648\u0631: connect [',\n                                    uuid: 'UUID',\n                                    path: 'PATH',\n                                    inputU: '\u0645\u062D\u062A\u0648\u06CC\u0627\u062A \u0645\u062A\u063A\u06CC\u0631 U \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0631\u062F\u0647 \u0648 Enter \u0631\u0627 \u0628\u0632\u0646\u06CC\u062F...',\n                                    inputD: '\u0645\u062D\u062A\u0648\u06CC\u0627\u062A \u0645\u062A\u063A\u06CC\u0631 D \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0631\u062F\u0647 \u0648 Enter \u0631\u0627 \u0628\u0632\u0646\u06CC\u062F...',\n                                    connecting: '\u062F\u0631 \u062D\u0627\u0644 \u0627\u062A\u0635\u0627\u0644...',\n                                    invading: '\u062F\u0631 \u062D\u0627\u0644 \u0646\u0641\u0648\u0630...',\n                                    success: '\u0627\u062A\u0635\u0627\u0644 \u0645\u0648\u0641\u0642! \u062F\u0631 \u062D\u0627\u0644 \u0628\u0627\u0632\u06AF\u0634\u062A \u0646\u062A\u06CC\u062C\u0647...',\n                                    error: '\u062E\u0637\u0627: \u0641\u0631\u0645\u062A UUID \u0646\u0627\u0645\u0639\u062A\u0628\u0631',\n                                    reenter: '\u0644\u0637\u0641\u0627\u064B UUID \u0645\u0639\u062A\u0628\u0631 \u0631\u0627 \u062F\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F',\n                                    debugConsoleTitle: '\u06A9\u0646\u0633\u0648\u0644 \u0627\u0634\u06A9\u0627\u0644\u200C\u0632\u062F\u0627\u06CC\u06CC',\n                                    debugShow: '\u0646\u0645\u0627\u06CC\u0634',\n                                    debugHide: '\u067E\u0646\u0647\u0627\u0646 \u06A9\u0631\u062F\u0646',\n                                    debugReady: '\u06A9\u0646\u0633\u0648\u0644 \u0622\u0645\u0627\u062F\u0647 \u0627\u0633\u062A',\n                                    debugUnknownError: '\u062E\u0637\u0627\u06CC \u0646\u0627\u0634\u0646\u0627\u062E\u062A\u0647',\n                                    debugUnhandledPromise: '\u0631\u062F Promise \u0628\u062F\u0648\u0646 \u0645\u062F\u06CC\u0631\u06CC\u062A'\n                                }\n                            };\n                            translations.fa = Object.assign({}, translations.en, translations.fa);\n                            translations.zh = Object.assign({}, translations.en, {\n                                title: '\u7EC8\u7AEF',\n                                terminal: '\u7EC8\u7AEF v2.9.3',\n                                congratulations: '\u606D\u559C\uFF0C\u4F60\u6210\u529F\u4E86\uFF01',\n                                enterU: '\u8BF7\u8F93\u5165\u4F60\u7684 U \u53D8\u91CF\u7684\u503C',\n                                enterD: '\u8BF7\u8F93\u5165\u4F60\u7684 D \u53D8\u91CF\u7684\u503C',\n                                command: '\u547D\u4EE4\uFF1Aconnect [',\n                                uuid: 'UUID',\n                                path: '\u8DEF\u5F84',\n                                inputU: '\u8F93\u5165 U \u53D8\u91CF\u5185\u5BB9\u5E76\u56DE\u8F66...',\n                                inputD: '\u8F93\u5165 D \u53D8\u91CF\u5185\u5BB9\u5E76\u56DE\u8F66...',\n                                connecting: '\u8FDE\u63A5\u4E2D...',\n                                invading: '\u6B63\u5728\u8FDE\u63A5...',\n                                success: '\u8FDE\u63A5\u6210\u529F\uFF01\u6B63\u5728\u8FD4\u56DE\u7ED3\u679C...',\n                                error: '\u9519\u8BEF\uFF1AUUID \u683C\u5F0F\u65E0\u6548',\n                                reenter: '\u8BF7\u91CD\u65B0\u8F93\u5165\u6709\u6548\u7684 UUID',\n                                debugConsoleTitle: '\u8C03\u8BD5\u63A7\u5236\u53F0',\n                                debugShow: '\u5C55\u5F00',\n                                debugHide: '\u6536\u8D77',\n                                debugReady: '\u63A7\u5236\u53F0\u5C31\u7EEA',\n                                debugUnknownError: '\u672A\u77E5\u9519\u8BEF',\n                                debugUnhandledPromise: '\u672A\u5904\u7406\u7684 Promise \u62D2\u7EDD'\n                            });\n\n                            const t = translations[lang] || translations.en;\n\n                        const terminalHtml = `<!DOCTYPE html>\n        <html lang=\"${langAttr}\" dir=\"${isFarsi ? 'rtl' : 'ltr'}\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>${t.title}</title>\n        <style>\n            @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600&family=Space+Mono:wght@400;700&display=swap');\n            :root {\n                --bg-0: #040806;\n                --bg-1: #071510;\n                --panel: rgba(4, 12, 8, 0.9);\n                --panel-strong: rgba(2, 10, 6, 0.95);\n                --accent: #2cff9a;\n                --accent-2: #13d0ff;\n                --accent-dim: #00aa6a;\n                --text: #d8ffef;\n                --muted: #86d4a5;\n                --danger: #ff5a5a;\n                --glow: 0 0 24px rgba(44, 255, 154, 0.35);\n                --font-sans: \"Space Grotesk\", \"Segoe UI\", \"Noto Sans\", sans-serif;\n                --font-mono: \"Space Mono\", \"Cascadia Mono\", \"Consolas\", \"Courier New\", monospace;\n            }\n            * { margin: 0; padding: 0; box-sizing: border-box; }\n            body {\n                font-family: var(--font-mono);\n                background:\n                    radial-gradient(1200px 600px at 15% -10%, rgba(44, 255, 154, 0.16), transparent 60%),\n                    radial-gradient(900px 500px at 90% 120%, rgba(19, 208, 255, 0.12), transparent 60%),\n                    linear-gradient(180deg, var(--bg-0) 0%, var(--bg-1) 100%);\n                color: var(--accent);\n                min-height: 100vh;\n                overflow-x: hidden;\n                position: relative;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n            body::before {\n                content: \"\";\n                position: fixed;\n                inset: 0;\n                background-image:\n                    linear-gradient(120deg, rgba(44, 255, 154, 0.06), transparent 40%),\n                    repeating-linear-gradient(0deg, rgba(0, 255, 170, 0.05) 0 1px, transparent 1px 3px),\n                    repeating-linear-gradient(90deg, rgba(0, 255, 170, 0.04) 0 1px, transparent 1px 4px);\n                opacity: 0.35;\n                pointer-events: none;\n                z-index: -1;\n            }\n            .matrix-bg {\n                position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n                background: var(--bg-0);\n                z-index: -1;\n            }\n            @keyframes bg-pulse {\n                0%, 100% { background: linear-gradient(45deg, #000 0%, #001100 50%, #000 100%); }\n                50% { background: linear-gradient(45deg, #000 0%, #002200 50%, #000 100%); }\n            }\n            .matrix-rain {\n                position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n                background: transparent;\n                z-index: -1;\n                display: none;\n            }\n            @keyframes matrix-fall {\n                0% { transform: translateY(-100%); }\n                100% { transform: translateY(100vh); }\n            }\n            .matrix-code-rain {\n                position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n                pointer-events: none; z-index: -1;\n                overflow: hidden;\n                display: none;\n            }\n            .matrix-column {\n                position: absolute; top: -100%; left: 0;\n                color: #00ff00; font-family: \"Courier New\", monospace;\n                font-size: 14px; line-height: 1.2;\n                text-shadow: 0 0 5px #00ff00;\n            }\n            @keyframes matrix-drop {\n                0% { top: -100%; opacity: 1; }\n                10% { opacity: 1; }\n                90% { opacity: 0.3; }\n                100% { top: 100vh; opacity: 0; }\n            }\n            .matrix-column:nth-child(odd) {\n                animation-duration: 12s;\n                animation-delay: -2s;\n            }\n            .matrix-column:nth-child(even) {\n                animation-duration: 18s;\n                animation-delay: -5s;\n            }\n            .matrix-column:nth-child(3n) {\n                animation-duration: 20s;\n                animation-delay: -8s;\n            }\n            .terminal {\n                width: 90%; max-width: 800px; height: 500px;\n                background: var(--panel);\n                border: 1px solid rgba(44, 255, 154, 0.6);\n                border-radius: 14px;\n                box-shadow: var(--glow), inset 0 0 18px rgba(44, 255, 154, 0.08);\n                backdrop-filter: blur(10px);\n                position: relative; z-index: 1;\n                overflow: hidden;\n            }\n            .terminal-header {\n                background: var(--panel-strong);\n                padding: 12px 16px;\n                border-bottom: 1px solid rgba(44, 255, 154, 0.35);\n                display: flex; align-items: center;\n            }\n            .terminal-buttons {\n                display: flex; gap: 8px;\n            }\n            .terminal-button {\n                width: 12px; height: 12px; border-radius: 50%;\n                background: #ff5f57; border: none;\n            }\n            .terminal-button:nth-child(2) { background: #ffbd2e; }\n            .terminal-button:nth-child(3) { background: #28ca42; }\n            .terminal-title {\n                margin-left: 15px;\n                color: var(--text);\n                font-size: 13px;\n                font-weight: 600;\n                font-family: var(--font-sans);\n                letter-spacing: 0.2em;\n                text-transform: uppercase;\n            }\n            .terminal-body {\n                padding: 20px; height: calc(100% - 50px);\n                overflow-y: auto; font-size: 14px;\n                line-height: 1.4;\n            }\n            .terminal-line {\n                margin-bottom: 8px; display: flex; align-items: center;\n            }\n            .terminal-prompt {\n                color: var(--accent); margin-right: 10px;\n                font-weight: bold;\n            }\n            .terminal-input {\n                background: transparent; border: none; outline: none;\n                color: var(--text); font-family: var(--font-mono);\n                font-size: 14px; flex: 1;\n                caret-color: var(--accent);\n            }\n            .terminal-input::placeholder {\n                color: var(--muted); opacity: 0.75;\n            }\n            .terminal-input:focus-visible {\n                outline: none;\n                text-shadow: 0 0 8px rgba(44, 255, 154, 0.6);\n            }\n            .terminal-cursor {\n                display: inline-block; width: 8px; height: 16px;\n                background: var(--accent);\n                margin-left: 2px;\n            }\n            @keyframes blink {\n                0%, 50% { opacity: 1; }\n                51%, 100% { opacity: 0; }\n            }\n            .terminal-output {\n                color: var(--muted); margin: 5px 0;\n            }\n            .terminal-error {\n                color: var(--danger); margin: 5px 0;\n            }\n            .terminal-success {\n                color: #44ff99; margin: 5px 0;\n            }\n            .matrix-text {\n                position: fixed; top: 20px; right: 20px;\n                color: var(--accent); font-family: var(--font-sans);\n                font-size: 0.75rem; opacity: 0.75;\n                letter-spacing: 0.2em;\n                text-transform: uppercase;\n            }\n            @keyframes matrix-flicker {\n                0%, 100% { opacity: 0.6; }\n                50% { opacity: 1; }\n            }\n            .debug-console {\n                position: fixed; right: 20px; bottom: 20px;\n                width: 360px; max-width: calc(100% - 40px);\n                background: var(--panel-strong);\n                border: 1px solid rgba(44, 255, 154, 0.5);\n                color: var(--text);\n                font-family: var(--font-mono);\n                font-size: 12px;\n                z-index: 3000;\n                box-shadow: var(--glow);\n            }\n            .debug-console-header {\n                display: flex; align-items: center; justify-content: space-between;\n                padding: 6px 8px;\n                border-bottom: 1px solid rgba(44, 255, 154, 0.35);\n                cursor: pointer;\n                user-select: none;\n            }\n            .debug-console-title {\n                font-weight: bold;\n            }\n            .debug-console-toggle {\n                background: transparent;\n                border: 1px solid rgba(44, 255, 154, 0.6);\n                color: var(--accent);\n                font-size: 11px;\n                padding: 2px 6px;\n                cursor: pointer;\n            }\n            .debug-console-body {\n                display: none;\n                max-height: 200px;\n                overflow-y: auto;\n                padding: 8px;\n            }\n            .debug-console.open .debug-console-body {\n                display: block;\n            }\n            .debug-console-line {\n                margin-bottom: 6px;\n                white-space: pre-wrap;\n                word-break: break-word;\n            }\n            .debug-console-line.error { color: #ff6666; }\n            .debug-console-line.warn { color: #ffaa00; }\n            .debug-console-line.info { color: #66ff66; }\n            @media (max-width: 720px) {\n                .terminal { height: 460px; }\n                .matrix-text { display: none; }\n            }\n            @media (prefers-reduced-motion: reduce) {\n                * { animation: none !important; transition: none !important; }\n            }\n        </style>\n    </head>\n    <body>\n        <div class=\"matrix-bg\"></div>\n        <div class=\"matrix-rain\"></div>\n        <div class=\"matrix-code-rain\" id=\"matrixCodeRain\"></div>\n            <div class=\"matrix-text\">${t.terminal}</div>\n            <div style=\"position: fixed; top: 20px; left: 20px; z-index: 1000;\">\n                <select id=\"languageSelector\" style=\"background: rgba(0, 20, 0, 0.9); border: 2px solid #00ff00; color: #00ff00; padding: 8px 12px; font-family: 'Courier New', monospace; font-size: 14px; cursor: pointer; text-shadow: 0 0 5px #00ff00; box-shadow: 0 0 15px rgba(0, 255, 0, 0.4);\" onchange=\"changeLanguage(this.value)\">\n                    <option value=\"en\" ${lang === 'en' ? 'selected' : ''}>\uD83C\uDDFA\uD83C\uDDF8 English</option>\n                    <option value=\"zh\" ${lang === 'zh' ? 'selected' : ''}>\uD83C\uDDE8\uD83C\uDDF3 \u4E2D\u6587</option>\n                    <option value=\"fa\" ${lang === 'fa' ? 'selected' : ''}>\uD83C\uDDEE\uD83C\uDDF7 \u0641\u0627\u0631\u0633\u06CC</option>\n                </select>\n            </div>\n        <div class=\"terminal\">\n            <div class=\"terminal-header\">\n                <div class=\"terminal-buttons\">\n                    <div class=\"terminal-button\"></div>\n                    <div class=\"terminal-button\"></div>\n                    <div class=\"terminal-button\"></div>\n                </div>\n                    <div class=\"terminal-title\">${t.terminal}</div>\n            </div>\n            <div class=\"terminal-body\" id=\"terminalBody\">\n                <div class=\"terminal-line\">\n                    <span class=\"terminal-prompt\">root:~$</span>\n                        <span class=\"terminal-output\">${t.congratulations}</span>\n                </div>\n                <div class=\"terminal-line\">\n                    <span class=\"terminal-prompt\">root:~$</span>\n                        <span class=\"terminal-output\">${cp && cp.trim() ? t.enterD : t.enterU}</span>\n                </div>\n                <div class=\"terminal-line\">\n                    <span class=\"terminal-prompt\">root:~$</span>\n                        <span class=\"terminal-output\">${t.command}${cp && cp.trim() ? t.path : t.uuid}]</span>\n                </div>\n                <div class=\"terminal-line\">\n                    <span class=\"terminal-prompt\">root:~$</span>\n                        <input type=\"text\" class=\"terminal-input\" id=\"uuidInput\" placeholder=\"${cp && cp.trim() ? t.inputD : t.inputU}\" autofocus>\n                    <span class=\"terminal-cursor\"></span>\n                </div>\n            </div>\n        </div>\n        <div id=\"debugConsole\" class=\"debug-console\">\n            <div class=\"debug-console-header\" id=\"debugConsoleHeader\">\n                <span class=\"debug-console-title\">${t.debugConsoleTitle}</span>\n                <button type=\"button\" class=\"debug-console-toggle\" id=\"debugConsoleToggle\">${t.debugShow}</button>\n            </div>\n            <div class=\"debug-console-body\" id=\"debugConsoleBody\"></div>\n        </div>\n        <script>\n            const translations = ${JSON.stringify(translations)};\n\n            function safeLocalStorageGet(key) {\n                try {\n                    if (typeof localStorage === 'undefined') return null;\n                    return window.localStorage.getItem(key);\n                } catch (e) {\n                    return null;\n                }\n            }\n\n            function safeLocalStorageSet(key, value) {\n                try {\n                    if (typeof localStorage === 'undefined') return false;\n                    window.localStorage.setItem(key, value);\n                    return true;\n                } catch (e) {\n                    return false;\n                }\n            }\n\n            function getCookie(name) {\n                const value = '; ' + document.cookie;\n                const parts = value.split('; ' + name + '=');\n                if (parts.length === 2) {\n                    const part = parts.pop();\n                    if (part) return part.split(';').shift();\n                }\n                return null;\n            }\n\n            function getPreferredLanguage() {\n                const savedLang = safeLocalStorageGet('preferredLanguage') || getCookie('preferredLanguage') || '';\n                const browserLang = (navigator.language || navigator.userLanguage || '').toLowerCase();\n\n                if (savedLang) {\n                    if (savedLang === 'fa' || savedLang === 'fa-IR') return 'fa';\n                    if (savedLang === 'zh' || savedLang === 'zh-CN' || savedLang === 'zh-Hans') return 'zh';\n                    return 'en';\n                }\n\n                if (browserLang.startsWith('fa')) return 'fa';\n                if (browserLang.startsWith('zh')) return 'zh';\n                return 'en';\n            }\n\n            function getTranslations() {\n                const lang = getPreferredLanguage();\n                const base = translations.en || {};\n                const current = translations[lang] || {};\n                return Object.assign({}, base, current);\n            }\n\n            const t = getTranslations();\n            var DEBUG_LOG_QUEUE = [];\n            var DEBUG_CONSOLE_READY = false;\n            var DEBUG_AUTO_OPEN = false;\n\n            function stringifyConsoleValue(value) {\n                if (value === null) return 'null';\n                if (value === undefined) return 'undefined';\n                if (value instanceof Error) return value.stack || value.message || String(value);\n                if (typeof value === 'string') return value;\n                if (typeof value === 'object') {\n                    try { return JSON.stringify(value); } catch (error) { return String(value); }\n                }\n                return String(value);\n            }\n\n            function formatConsoleArgs(args) {\n                return Array.prototype.map.call(args, stringifyConsoleValue).join(' ');\n            }\n\n            function ensureDebugConsoleOpen(level) {\n                if (level !== 'error' && level !== 'warn') return;\n                var consoleEl = document.getElementById('debugConsole');\n                var toggleBtn = document.getElementById('debugConsoleToggle');\n                if (!consoleEl || !toggleBtn) {\n                    DEBUG_AUTO_OPEN = true;\n                    return;\n                }\n                if (!consoleEl.classList.contains('open')) {\n                    consoleEl.classList.add('open');\n                    toggleBtn.textContent = t.debugHide || 'Hide';\n                }\n            }\n\n            function debugConsolePush(message, level) {\n                var entry = {\n                    time: new Date().toISOString(),\n                    level: level || 'info',\n                    message: typeof message === 'string' ? message : stringifyConsoleValue(message)\n                };\n                DEBUG_LOG_QUEUE.push(entry);\n                ensureDebugConsoleOpen(entry.level);\n                if (DEBUG_CONSOLE_READY) {\n                    debugConsoleFlush();\n                }\n            }\n\n            function debugConsoleFlush() {\n                if (!DEBUG_CONSOLE_READY) return;\n                var body = document.getElementById('debugConsoleBody');\n                if (!body) return;\n                while (DEBUG_LOG_QUEUE.length) {\n                    var entry = DEBUG_LOG_QUEUE.shift();\n                    var line = document.createElement('div');\n                    line.className = 'debug-console-line ' + entry.level;\n                    line.textContent = '[' + entry.time + '] ' + entry.message;\n                    body.appendChild(line);\n                }\n                body.scrollTop = body.scrollHeight;\n            }\n\n            function initDebugConsole() {\n                var consoleEl = document.getElementById('debugConsole');\n                var body = document.getElementById('debugConsoleBody');\n                var toggleBtn = document.getElementById('debugConsoleToggle');\n                var header = document.getElementById('debugConsoleHeader');\n                if (!consoleEl || !body || !toggleBtn || !header) return;\n\n                function toggle() {\n                    consoleEl.classList.toggle('open');\n                    toggleBtn.textContent = consoleEl.classList.contains('open') ? t.debugHide : t.debugShow;\n                }\n\n                header.addEventListener('click', toggle);\n                toggleBtn.addEventListener('click', function(e) {\n                    e.stopPropagation();\n                    toggle();\n                });\n\n                DEBUG_CONSOLE_READY = true;\n                debugConsoleFlush();\n                debugConsolePush(t.debugReady, 'info');\n                if (DEBUG_AUTO_OPEN) {\n                    consoleEl.classList.add('open');\n                    toggleBtn.textContent = t.debugHide || 'Hide';\n                }\n            }\n\n            window.addEventListener('error', function(event) {\n                var message = event.message || t.debugUnknownError || 'Unknown error';\n                var location = '';\n                if (event.filename) {\n                    location = event.filename + ':' + (event.lineno || 0) + ':' + (event.colno || 0);\n                }\n                debugConsolePush(message + (location ? ' @ ' + location : ''), 'error');\n                if (event.error && event.error.stack) {\n                    debugConsolePush(event.error.stack, 'error');\n                }\n            });\n\n            window.addEventListener('unhandledrejection', function(event) {\n                var reason = event.reason;\n                if (reason && reason.stack) {\n                    debugConsolePush(reason.stack, 'error');\n                } else {\n                    debugConsolePush(String(reason || t.debugUnhandledPromise), 'error');\n                }\n            });\n\n            (function() {\n                if (!window.console) return;\n                var originalLog = console.log;\n                var originalInfo = console.info;\n                var originalDebug = console.debug;\n                var originalError = console.error;\n                var originalWarn = console.warn;\n                console.log = function() {\n                    debugConsolePush(formatConsoleArgs(arguments), 'info');\n                    if (originalLog) originalLog.apply(console, arguments);\n                };\n                console.info = function() {\n                    debugConsolePush(formatConsoleArgs(arguments), 'info');\n                    if (originalInfo) originalInfo.apply(console, arguments);\n                };\n                console.debug = function() {\n                    debugConsolePush(formatConsoleArgs(arguments), 'info');\n                    if (originalDebug) originalDebug.apply(console, arguments);\n                };\n                console.error = function() {\n                    debugConsolePush(formatConsoleArgs(arguments), 'error');\n                    if (originalError) originalError.apply(console, arguments);\n                };\n                console.warn = function() {\n                    debugConsolePush(formatConsoleArgs(arguments), 'warn');\n                    if (originalWarn) originalWarn.apply(console, arguments);\n                };\n            })();\n            function createMatrixRain() {\n                const matrixContainer = document.getElementById('matrixCodeRain');\n                const matrixChars = '01ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n                const columns = Math.floor(window.innerWidth / 18);\n\n                for (let i = 0; i < columns; i++) {\n                    const column = document.createElement('div');\n                    column.className = 'matrix-column';\n                    column.style.left = (i * 18) + 'px';\n                    column.style.animationDelay = Math.random() * 15 + 's';\n                    column.style.animationDuration = (Math.random() * 15 + 8) + 's';\n                    column.style.fontSize = (Math.random() * 4 + 12) + 'px';\n                    column.style.opacity = Math.random() * 0.8 + 0.2;\n\n                    let text = '';\n                    const charCount = Math.floor(Math.random() * 30 + 20);\n                    for (let j = 0; j < charCount; j++) {\n                        const char = matrixChars[Math.floor(Math.random() * matrixChars.length)];\n                        const brightness = Math.random() > 0.1 ? '#00ff00' : '#00aa00';\n                        text += '<span style=\"color: ' + brightness + ';\">' + char + '</span><br>';\n                    }\n                    column.innerHTML = text;\n                    matrixContainer.appendChild(column);\n                }\n\n                setInterval(function() {\n                    const columns = matrixContainer.querySelectorAll('.matrix-column');\n                    columns.forEach(function(column) {\n                        if (Math.random() > 0.95) {\n                            const chars = column.querySelectorAll('span');\n                            if (chars.length > 0) {\n                                const randomChar = chars[Math.floor(Math.random() * chars.length)];\n                                randomChar.style.color = '#ffffff';\n                                setTimeout(function() {\n                                    randomChar.style.color = '#00ff00';\n                                }, 200);\n                            }\n                        }\n                    });\n                }, 100);\n            }\n\n            function isValidUUID(uuid) {\n                const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n                return uuidRegex.test(uuid);\n            }\n\n            function addTerminalLine(content, type = 'output') {\n                const terminalBody = document.getElementById('terminalBody');\n                const line = document.createElement('div');\n                line.className = 'terminal-line';\n\n                const prompt = document.createElement('span');\n                prompt.className = 'terminal-prompt';\n                prompt.textContent = 'root:~$';\n\n                const output = document.createElement('span');\n                output.className = 'terminal-' + type;\n                output.textContent = content;\n\n                line.appendChild(prompt);\n                line.appendChild(output);\n                terminalBody.appendChild(line);\n\n                terminalBody.scrollTop = terminalBody.scrollHeight;\n            }\n\n            function handleUUIDInput() {\n                const input = document.getElementById('uuidInput');\n                const inputValue = input.value.trim();\n                const cp = '${ cp }';\n\n                if (inputValue) {\n                    const basePath = window.location.pathname.replace(/\\/$/, '');\n                    const prefixPath = basePath === '/' ? '' : basePath;\n                    const buildTarget = (suffix) => (prefixPath || '') + suffix;\n\n                    addTerminalLine(atob('Y29ubmVjdCA=') + inputValue, 'output');\n\n                        const translations = {\n                            en: {\n                    title: 'Terminal',\n                    congratulations: 'Congratulations, you made it!',\n                    enterU: 'Please enter the value of your U variable',\n                    enterD: 'Please enter the value of your D variable',\n                    command: 'Command: connect [',\n                    uuid: 'UUID',\n                    path: 'PATH',\n                    inputU: 'Enter content of U variable and press Enter...',\n                    inputD: 'Enter content of D variable and press Enter...',\n                    connecting: 'Connecting...',\n                    invading: 'Invading...',\n                    success: 'Connection successful! Returning result...',\n                    error: 'Error: Invalid UUID format',\n                    reenter: 'Please re-enter a valid UUID',\n\n                    // Subscription Page Translations\n                    subtitle: 'Multi-client Support \u2022 Smart Optimization \u2022 One-Click Generation',\n                    selectClient: '[ Select Client ]',\n                    systemStatus: '[ System Status ]',\n                    configManagement: '[ Config Management ]',\n                    relatedLinks: '[ Related Links ]',\n                    checking: 'Checking...',\n                    workerRegion: 'Worker Region: ',\n                    detectionMethod: 'Detection Method: ',\n                    proxyIPStatus: 'ProxyIP Status: ',\n                    currentIP: 'Current IP: ',\n                    regionMatch: 'Region Match: ',\n                    selectionLogic: 'Selection Logic: ',\n                    kvStatusChecking: 'Checking KV Status...',\n                    kvEnabled: '\u2705 KV Storage Enabled, Config Management Available',\n                    kvDisabled: '\u26A0\uFE0F KV Storage Disabled or Not Configured',\n                    specifyRegion: 'Specify Region (wk):',\n                    autoDetect: 'Auto Detect',\n                    saveRegion: 'Save Region Config',\n                    protocolSelection: 'Protocol Selection:',\n                    enableVLESS: 'Enable VLESS Protocol',\n                    enableVMess: 'Enable VMess Protocol',\n                    enableShadowsocks: 'Enable Shadowsocks Protocol',\n                    enableTrojan: 'Enable Trojan Protocol',\n                    enableXhttp: 'Enable xhttp Protocol',\n                    enableTUIC: 'Enable TUIC Protocol',\n                    enableHysteria2: 'Enable Hysteria 2 Protocol',\n                    enableVLESSgRPC: 'Enable VLESS gRPC Protocol',\n                    linkOnlyHint: 'Requires External Backend (Link-Only)',\n                    grpcHint: 'Requires Custom Domain (gRPC)',\n                    trojanPassword: 'Trojan Password (Optional):',\n                    customPath: 'Custom Path (d):',\n                    customPathPlaceholder: 'e.g., /secret-path',\n                    customIP: 'Custom ProxyIP (p):',\n                    customIPPlaceholder: 'e.g., 1.2.3.4 or proxy.example.com',\n                    preferredIPs: 'Preferred IP List (yx):',\n                    preferredIPsPlaceholder: 'e.g., 1.1.1.1:443#HongKong, 8.8.8.8:443#USA',\n                    preferredIPsURL: 'Preferred IP Source URL (yxURL):',\n                    latencyTest: 'Latency Test',\n                    latencyTestIP: 'Test IP/Domain:',\n                    latencyTestIPPlaceholder: 'Enter IP or Domain, comma separated',\n                    latencyTestPort: 'Port:',\n                    startTest: 'Start Test',\n                    stopTest: 'Stop Test',\n                    testResult: 'Test Result:',\n                    addToYx: 'Add to Preferred List',\n                    addSelectedToYx: 'Add Selected to Preferred List',\n                    selectAll: 'Select All',\n                    deselectAll: 'Deselect All',\n                    testingInProgress: 'Testing...',\n                    testComplete: 'Test Complete',\n                    latencyMs: 'Latency (HTTP Handshake)',\n                    timeout: 'Timeout',\n                    ipSource: 'IP Source:',\n                    manualInput: 'Manual Input',\n                    cfRandomIP: 'CF Random IP',\n                    urlFetch: 'Fetch from URL',\n                    randomCount: 'Generate Count:',\n                    fetchURL: 'Fetch URL:',\n                    fetchURLPlaceholder: 'Enter URL of IP list',\n                    generateIP: 'Generate IP',\n                    fetchIP: 'Fetch IP',\n                    socks5Config: 'SOCKS5 Config (s):',\n                    customHomepage: 'Custom Homepage URL (homepage):',\n                    customHomepagePlaceholder: 'e.g., https://example.com',\n                    customHomepageHint: 'Set custom URL as homepage camouflage. Content of this URL will be shown when accessing root path /. Leave empty to show default terminal page.',\n                    customPathHint: 'Only accessible via this path if set. UUID access will be disabled. Suggest using complex path to prevent scanning.',\n                    customIPHint: 'Hide Worker real IP, or solve Cloudflare Loop issue. Supports IP:Port or Domain:Port.',\n                    preferredIPsHint: 'Manually specify preferred nodes. Highest priority. Format: IP:Port#Remark.',\n                    socks5ConfigHint: 'Format: user:pass@host:port. Worker will connect to target via this proxy.',\n                    saveConfig: 'Save Config',\n                    advancedControl: 'Advanced Control',\n                    subscriptionConverter: 'Sub Converter URL:',\n                    builtinPreferred: 'Built-in Preferred Type:',\n                    enablePreferredDomain: 'Enable Preferred Domain',\n                    enablePreferredIP: 'Enable Preferred IP',\n                    enableGitHubPreferred: 'Enable GitHub Default Preferred',\n                    allowAPIManagement: 'Allow API Management (ae):',\n                    regionMatching: 'Region Matching (rm):',\n                    downgradeControl: 'Downgrade Control (qj):',\n                    tlsControl: 'TLS Control (dkby):',\n                    preferredControl: 'Preferred Control (yxby):',\n                    saveAdvanced: 'Save Advanced Config',\n                    loading: 'Loading...',\n                    currentConfig: '\uD83D\uDCCD Current Path Config',\n                    refreshConfig: 'Refresh Config',\n                    resetConfig: 'Reset Config',\n                    subscriptionCopied: 'Subscription Link Copied',\n                    autoSubscriptionCopied: 'Auto-detected subscription link copied. Client will be recognized by User-Agent.',\n                    trojanPasswordPlaceholder: 'Leave empty to use UUID',\n                    trojanPasswordHint: 'Set custom Trojan password. Leave empty to use UUID. Client will auto-hash password with SHA224.',\n                    protocolHint: 'Multiple protocols can be enabled.<br>\u2022 VLESS WS: Standard WebSocket protocol<br>\u2022 VMess WS: WebSocket-based VMess (link generation)<br>\u2022 Shadowsocks: WebSocket-based SS (link generation)<br>\u2022 Trojan: Uses SHA224 password auth<br>\u2022 xhttp: HTTP POST camouflage (requires custom domain & gRPC)',\n                    enableECH: 'Enable ECH (Encrypted Client Hello)',\n                    enableECHHint: 'When enabled, ECH config is fetched from DoH and added to links on every sub refresh',\n                    customDNS: 'Custom DNS Server',\n                    customDNSPlaceholder: 'e.g., https://dns.joeyblog.eu.org/joeyblog',\n                    customDNSHint: 'DNS server for ECH config query (DoH format)',\n                    customECHDomain: 'Custom ECH Domain',\n                    customECHDomainPlaceholder: 'e.g., cloudflare-ech.com',\n                    customECHDomainHint: 'Domain used in ECH config, leave empty for default',\n                    saveProtocol: 'Save Protocol Config',\n                    subscriptionConverterPlaceholder: 'Default: https://url.v1.mk/sub',\n                    subscriptionConverterHint: 'Custom subscription converter API, leave empty for default',\n                    builtinPreferredHint: 'Control which built-in preferred nodes are included. Default all enabled.',\n                    apiEnabledDefault: 'Default (API Disabled)',\n                    apiEnabledYes: 'Enable API Management',\n                    apiEnabledHint: '\u26A0\uFE0F Security Warning: Enabling API allows dynamic preferred IP addition. Use only if needed.',\n                    regionMatchingDefault: 'Default (Enable Region Match)',\n                    regionMatchingNo: 'Disable Region Match',\n                    regionMatchingHint: 'Smart region matching disabled when set to \"Disable\"',\n                    downgradeControlDefault: 'Default (Disable Downgrade)',\n                    downgradeControlNo: 'Enable Downgrade Mode',\n                    downgradeControlHint: 'When enabled: CF Direct Fail -> SOCKS5 -> Fallback',\n                    tlsControlDefault: 'Default (Keep All Nodes)',\n                    tlsControlYes: 'TLS Nodes Only',\n                    tlsControlHint: 'When set to \"TLS Nodes Only\", non-TLS nodes (e.g., port 80) are not generated',\n                    preferredControlDefault: 'Default (Enable Preferred)',\n                    preferredControlYes: 'Disable Preferred',\n                    preferredControlHint: 'When set to \"Disable Preferred\", only native address is used',\n                    regionNames: {\n                        US: '\uD83C\uDDFA\uD83C\uDDF8 US', SG: '\uD83C\uDDF8\uD83C\uDDEC Singapore', JP: '\uD83C\uDDEF\uD83C\uDDF5 Japan',\n                        KR: '\uD83C\uDDF0\uD83C\uDDF7 South Korea', DE: '\uD83C\uDDE9\uD83C\uDDEA Germany', SE: '\uD83C\uDDF8\uD83C\uDDEA Sweden', NL: '\uD83C\uDDF3\uD83C\uDDF1 Netherlands',\n                        FI: '\uD83C\uDDEB\uD83C\uDDEE Finland', GB: '\uD83C\uDDEC\uD83C\uDDE7 UK', FR: '\uD83C\uDDEB\uD83C\uDDF7 France', CA: '\uD83C\uDDE8\uD83C\uDDE6 Canada',\n                        AU: '\uD83C\uDDE6\uD83C\uDDFA Australia', HK: '\uD83C\uDDED\uD83C\uDDF0 Hong Kong', TW: '\uD83C\uDDF9\uD83C\uDDFC Taiwan'\n                    },\n                    terminal: 'Terminal v2.9.3',\n                    githubProject: 'GitHub Project',\n                    autoDetectClient: 'Auto Detect',\n                    selectionLogicText: 'Same Region -> Nearby Region -> Other Regions',\n                    customIPDisabledHint: 'Region selection disabled when using Custom ProxyIP',\n                    customIPMode: 'Custom ProxyIP Mode (p variable enabled)',\n                    customIPModeDesc: 'Custom IP Mode (Region match disabled)',\n                    usingCustomProxyIP: 'Using Custom ProxyIP: ',\n                    customIPConfig: ' (p variable config)',\n                    customIPModeDisabled: 'Custom IP Mode, region selection disabled',\n                    manualRegion: 'Manual Region',\n                    manualRegionDesc: ' (Manual)',\n                    proxyIPAvailable: '10/10 Available (ProxyIP Domain Pre-set)',\n                    smartSelection: 'Smart Nearby Selection',\n                    sameRegionIP: 'Same Region IP Available (1)',\n                    cloudflareDetection: 'Cloudflare Built-in Detection',\n                    detectionFailed: 'Detection Failed',\n                    apiTestResult: 'API Detection Result: ',\n                    apiTestTime: 'Detection Time: ',\n                    apiTestFailed: 'API Detection Failed: ',\n                    unknownError: 'Unknown Error',\n                    apiTestError: 'API Test Failed: ',\n                    kvNotConfigured: 'KV Storage not configured. Config management unavailable.\\n\\nPlease in Cloudflare Workers:\\n1. Create KV Namespace\\n2. Bind variable C\\n3. Redeploy',\n                    kvNotEnabled: 'KV Storage Not Configured',\n                    kvCheckFailed: 'KV Check Failed: Invalid Response',\n                    kvCheckFailedStatus: 'KV Check Failed - Status: ',\n                    kvCheckFailedError: 'KV Check Failed - Error: ',\n                    preferredIPsURLPlaceholder: 'e.g., https://example.com/ips.txt',\n                    preferredIPsURLHint: 'Fetch preferred IPs from a URL; supports plain text or CSV.',\n                    preferredIPFilterTitle: 'Preferred IP Filters',\n                    ipVersionSelection: 'IP Version',\n                    ispSelection: 'ISP',\n                    ispMobile: 'Mobile',\n                    ispUnicom: 'Unicom',\n                    ispTelecom: 'Telecom',\n                    ipFilterHint: 'Filters only apply to parsed lists; manual entries are unaffected.',\n                    threadsLabel: 'Threads',\n                    cityFilterAll: 'All cities',\n                    cityFilterFastest10: 'Fastest 10',\n                    overwriteAdd: 'Replace',\n                    appendAdd: 'Append',\n                    socks5ConfigPlaceholder: 'e.g., user:pass@host:port',\n                    generated: 'Generated',\n                    cfRandomIPs: 'CF Random IPs',\n                    pleaseEnterUrl: 'Please enter a URL',\n                    fetching: 'Fetching...',\n                    fetched: 'Fetched',\n                    ipCountSuffix: 'IPs',\n                    noDataFound: 'No data found',\n                    fetchFailed: 'Fetch failed',\n                    pleaseEnterIPOrDomain: 'Please enter an IP or domain',\n                    testing: 'Testing',\n                    testStopped: 'Test stopped',\n                    selectAtLeastOne: 'Please select at least one option',\n                    saving: 'Saving...',\n                    overwritten: 'Replaced',\n                    itemsSaved: ' items',\n                    appended: 'Appended',\n                    saveFailed: 'Save failed',\n                    timeoutLabel: 'Timeout',\n                    configNotConfigured: 'KV storage not configured. Unable to load config.',\n                    configLoadFailed: 'Failed to load config',\n                    configLoadFailedStatus: 'Failed to load config: ',\n                    currentConfigLabel: 'Current config:\\\\n',\n                    currentConfigEmpty: '(No config)',\n                    currentConfigUnset: '(Unset)',\n                    pathTypeCustom: 'Usage: Custom Path (d)',\n                    pathTypeUUID: 'Usage: UUID Path (u)',\n                    currentPathLabel: 'Current path',\n                    accessUrlLabel: 'Access URL',\n                    echStatusLabel: 'ECH status:',\n                    statusEnabled: 'Enabled',\n                    statusDisabled: 'Disabled',\n                    statusCheckFailed: 'Check failed',\n                    configLengthLabel: 'Config length',\n                    debugConsoleTitle: 'Debug Console',\n                    debugShow: 'Show',\n                    debugHide: 'Hide',\n                    debugReady: 'Console ready',\n                    debugUnknownError: 'Unknown error',\n                    debugUnhandledPromise: 'Unhandled promise rejection',\n                    kvNotConfiguredSave: 'KV not configured, cannot save. Please configure KV in Cloudflare Workers.',\n                    kvNotConfiguredReset: 'KV not configured, cannot reset.',\n                    resetConfirm: 'Are you sure you want to reset all configs? This clears KV and reverts to env vars.',\n                    resetFailed: 'Reset failed',\n                    resetSuccess: 'Config reset',\n                    unknown: 'Unknown'\n                },\n                            fa: {\n                                connecting: '\u062F\u0631 \u062D\u0627\u0644 \u0627\u062A\u0635\u0627\u0644...',\n                                invading: '\u062F\u0631 \u062D\u0627\u0644 \u0646\u0641\u0648\u0630...',\n                                success: '\u0627\u062A\u0635\u0627\u0644 \u0645\u0648\u0641\u0642! \u062F\u0631 \u062D\u0627\u0644 \u0628\u0627\u0632\u06AF\u0634\u062A \u0646\u062A\u06CC\u062C\u0647...',\n                                error: '\u062E\u0637\u0627: \u0641\u0631\u0645\u062A UUID \u0646\u0627\u0645\u0639\u062A\u0628\u0631',\n                                reenter: '\u0644\u0637\u0641\u0627\u064B UUID \u0645\u0639\u062A\u0628\u0631 \u0631\u0627 \u062F\u0648\u0628\u0627\u0631\u0647 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F'\n                            }\n                        };\n                        const browserLang = navigator.language || navigator.userLanguage || '';\n                        const isFarsi = browserLang.includes('fa') || browserLang.includes('fa-IR');\n                        const t = getTranslations();\n\n                    if (cp) {\n                        const cleanInput = inputValue.startsWith('/') ? inputValue : '/' + inputValue;\n                        addTerminalLine(t.connecting, 'output');\n                        setTimeout(() => {\n                            addTerminalLine(t.success, 'success');\n                            setTimeout(() => {\n                                window.location.href = buildTarget(cleanInput);\n                            }, 1000);\n                        }, 500);\n                    } else {\n                        const normalizedInput = inputValue.toLowerCase();\n                        if (isValidUUID(normalizedInput)) {\n                            addTerminalLine(t.invading, 'output');\n                            setTimeout(() => {\n                                addTerminalLine(t.success, 'success');\n                                setTimeout(() => {\n                                    window.location.href = buildTarget('/' + normalizedInput);\n                                }, 1000);\n                            }, 500);\n                        } else {\n                            addTerminalLine(t.error, 'error');\n                            addTerminalLine(t.reenter, 'output');\n                        }\n                    }\n\n                    input.value = '';\n                }\n            }\n\n                function changeLanguage(lang) {\n                    safeLocalStorageSet('preferredLanguage', lang);\n                    // Set Cookie (valid for 1 year)\n                    const expiryDate = new Date();\n                    expiryDate.setFullYear(expiryDate.getFullYear() + 1);\n                    document.cookie = 'preferredLanguage=' + lang + '; path=/; expires=' + expiryDate.toUTCString() + '; SameSite=Lax';\n                    // Reload page, do not use URL parameters\n                    window.location.reload();\n                }\n\n                // Check localStorage and Cookie on page load, and clean up URL parameters\n                window.addEventListener('DOMContentLoaded', function() {\n                    function getCookie(name) {\n                        const value = '; ' + document.cookie;\n                        const parts = value.split('; ' + name + '=');\n                        if (parts.length === 2) {\n                            const part = parts.pop();\n                            if (part) return part.split(';').shift();\n                        }\n                        return null;\n                    }\n\n                    const savedLang = safeLocalStorageGet('preferredLanguage') || getCookie('preferredLanguage');\n                    const urlParams = new URLSearchParams(window.location.search);\n                    const urlLang = urlParams.get('lang');\n\n                    // If URL has language parameter, remove it and set Cookie\n                    if (urlLang) {\n                        const currentUrl = new URL(window.location.href);\n                        currentUrl.searchParams.delete('lang');\n                        const newUrl = currentUrl.toString();\n\n                        // \u8BBE\u7F6ECookie\n                        const expiryDate = new Date();\n                        expiryDate.setFullYear(expiryDate.getFullYear() + 1);\n                        document.cookie = 'preferredLanguage=' + urlLang + '; path=/; expires=' + expiryDate.toUTCString() + '; SameSite=Lax';\n                        safeLocalStorageSet('preferredLanguage', urlLang);\n\n                        // Use history API to remove URL parameter, do not reload page\n                        window.history.replaceState({}, '', newUrl);\n                    } else if (savedLang) {\n                        // If present in localStorage but not in Cookie, sync to Cookie\n                        const expiryDate = new Date();\n                        expiryDate.setFullYear(expiryDate.getFullYear() + 1);\n                        document.cookie = 'preferredLanguage=' + savedLang + '; path=/; expires=' + expiryDate.toUTCString() + '; SameSite=Lax';\n                    }\n                });\n\n            document.addEventListener('DOMContentLoaded', function() {\n                initDebugConsole();\n                createMatrixRain();\n                const input = document.getElementById('uuidInput');\n                input.focus();\n                input.addEventListener('keydown', function(e) {\n                    if (e.key === 'Enter' || e.keyCode === 13) {\n                        handleUUIDInput();\n                    }\n                });\n            });\n        </script>\n    </body>\n    </html>`;\n                        return new Response(terminalHtml, { status: 200, headers: { 'Content-Type': 'text/html; charset=utf-8' } });\n                    }\n\n            if (cp && cp.trim()) {\n                const pathParts = splitPath(url.pathname.replace(/\\/+$/, ''));\n                const isSubRequest = pathParts.length > 0 && pathParts[pathParts.length - 1].toLowerCase() === 'sub';\n\n                if (isSubRequest) {\n                    const accessParts = pathParts.slice(0, -1);\n                    if (matchesCustomPath(accessParts, cp)) {\n                        return await handleSubscriptionRequest(request, at, url);\n                    }\n                }\n\n                if (matchesCustomPath(pathParts, cp)) {\n                    return await handleSubscriptionPage(request, at, rcu);\n                }\n\n                const user = extractUuidFromPathParts(pathParts);\n                if (user) {\n                    return new Response(JSON.stringify({\n                        error: 'Access Denied',\n                        message: 'Custom path mode enabled, UUID access disabled'\n                    }), {\n                        status: 403,\n                        headers: { 'Content-Type': 'application/json' }\n                    });\n                }\n            } else {\n                const pathParts = splitPath(url.pathname.replace(/\\/+$/, ''));\n                const isSubRequest = pathParts.length > 0 && pathParts[pathParts.length - 1].toLowerCase() === 'sub';\n\n                if (isSubRequest) {\n                    const user = extractUuidFromPathParts(pathParts.slice(0, -1));\n                    if (user) {\n                        if (user === at) {\n                            return await handleSubscriptionRequest(request, user, url);\n                        } else {\n                            return new Response(JSON.stringify({ error: 'UUID Error' }), {\n                                status: 403,\n                                headers: { 'Content-Type': 'application/json' }\n                            });\n                        }\n                    }\n                } else if (pathParts.length > 0) {\n                    const user = extractUuidFromPathParts(pathParts);\n                    if (user) {\n                        if (user === at) {\n                            return await handleSubscriptionPage(request, user, rcu);\n                        } else {\n                            return new Response(JSON.stringify({ error: 'UUID Error: Please note the variable name is u, not uuid' }), {\n                                status: 403,\n                                headers: { 'Content-Type': 'application/json' }\n                            });\n                        }\n                    }\n                }\n            }\n                    const normalizedPathname = url.pathname.replace(/\\/+$/, '').toLowerCase();\n                    const normalizedSubPath = `/${subPath}`.toLowerCase();\n                    if (normalizedPathname === normalizedSubPath) {\n                        return await handleSubscriptionRequest(request, at);\n                    }\n                }\n                return new Response(JSON.stringify({ error: 'Not Found' }), {\n                    status: 404,\n                    headers: { 'Content-Type': 'application/json' }\n                });\n            } catch (err) {\n                return new Response(err.toString(), { status: 500 });\n            }\n        },\n    };\n\n    function generateQuantumultConfig(links) {\n        return btoa(links.join('\\n'));\n    }\n\n    // Parse VLESS/Trojan links and generate Clash node config\n    function parseLinkToClashNode(link) {\n        try {\n            // Parse VLESS link\n            if (link.startsWith('vless://')) {\n                const url = new URL(link);\n                const name = decodeURIComponent(url.hash.substring(1));\n                const uuid = url.username;\n                const server = url.hostname;\n                const port = parseInt(url.port) || 443;\n                const params = new URLSearchParams(url.search);\n\n                const tls = params.get('security') === 'tls' || params.get('tls') === 'true';\n                const network = params.get('type') || 'ws';\n                const path = params.get('path') || '/?ed=2048';\n                const host = params.get('host') || server;\n                const servername = params.get('sni') || host;\n                const alpn = params.get('alpn') || 'h3,h2,http/1.1';\n                const fingerprint = params.get('fp') || params.get('client-fingerprint') || 'chrome';\n                const ech = params.get('ech');\n\n                const node = {\n                    name: name,\n                    type: 'vless',\n                    server: server,\n                    port: port,\n                    uuid: uuid,\n                    tls: tls,\n                    network: network,\n                    'client-fingerprint': fingerprint\n                };\n\n                if (tls) {\n                    node.servername = servername;\n                    node.alpn = alpn.split(',').map(a => a.trim());\n                    node['skip-cert-verify'] = false;\n                }\n\n                if (network === 'ws') {\n                    node['ws-opts'] = {\n                        path: path,\n                        headers: {\n                            Host: host\n                        }\n                    };\n                }\n\n                if (ech) {\n                    const echDomain = customECHDomain || 'cloudflare-ech.com';\n                    node['ech-opts'] = {\n                        enable: true,\n                        'query-server-name': echDomain\n                    };\n                }\n\n                return node;\n            }\n\n            // Parse Trojan link\n            if (link.startsWith('trojan://')) {\n                const url = new URL(link);\n                const name = decodeURIComponent(url.hash.substring(1));\n                const password = url.username;\n                const server = url.hostname;\n                const port = parseInt(url.port) || 443;\n                const params = new URLSearchParams(url.search);\n\n                const network = params.get('type') || 'ws';\n                const path = params.get('path') || '/?ed=2048';\n                const host = params.get('host') || server;\n                const sni = params.get('sni') || host;\n                const alpn = params.get('alpn') || 'h3,h2,http/1.1';\n                const ech = params.get('ech');\n\n                const node = {\n                    name: name,\n                    type: 'trojan',\n                    server: server,\n                    port: port,\n                    password: password,\n                    network: network,\n                    sni: sni,\n                    alpn: alpn.split(',').map(a => a.trim()),\n                    'skip-cert-verify': false\n                };\n\n                if (network === 'ws') {\n                    node['ws-opts'] = {\n                        path: path,\n                        headers: {\n                            Host: host\n                        }\n                    };\n                }\n\n                if (ech) {\n                    const echDomain = customECHDomain || 'cloudflare-ech.com';\n                    node['ech-opts'] = {\n                        enable: true,\n                        'query-server-name': echDomain\n                    };\n                }\n\n                return node;\n            }\n        } catch (e) {\n            return null;\n        }\n        return null;\n    }\n\n    // Generate Clash config\n    async function generateClashConfig(links, request, user) {\n        // Get Clash config via subscription converter\n        const subscriptionUrl = new URL(request.url);\n        subscriptionUrl.pathname = subscriptionUrl.pathname.replace(/\\/sub$/, '') + '/sub';\n        subscriptionUrl.searchParams.set('target', 'base64');\n        const encodedUrl = encodeURIComponent(subscriptionUrl.toString());\n        const converterUrl = `${scu}?target=clash&url=${encodedUrl}&insert=false&emoji=true&list=false&xudp=false&udp=false&tfo=false&expand=true&scv=false&fdn=false&new_name=true`;\n\n        try {\n            const response = await fetch(converterUrl);\n            if (!response.ok) {\n                throw new Error('\u8BA2\u9605\u8F6C\u6362\u670D\u52A1\u5931\u8D25');\n            }\n\n            let clashConfig = await response.text();\n\n            // If ECH is enabled, add ECH parameters to all nodes\n            if (enableECH) {\n                // Handle single-line format nodes: - {name: ..., server: ..., ...}\n                // Correctly handle nested braces (e.g., ws-opts: {path: \"...\", headers: {Host: ...}})\n                clashConfig = clashConfig.split('\\n').map(line => {\n                    // Check if it is a node line (starts with \"  - {\" and contains name: and server:)\n                    if (/^\\s*-\\s*\\{/.test(line) && line.includes('name:') && line.includes('server:')) {\n                        // Check if ech-opts already exists\n                        if (line.includes('ech-opts')) {\n                            return line; // \u5DF2\u6709 ech-opts\uFF0C\u4E0D\u4FEE\u6539\n                        }\n                        // Find the position of the last } (search from right to left, handle nested braces)\n                        const lastBraceIndex = line.lastIndexOf('}');\n                        if (lastBraceIndex > 0) {\n                            // Check if there is content before the last }, ensure correct format\n                            const beforeBrace = line.substring(0, lastBraceIndex).trim();\n                            if (beforeBrace.length > 0) {\n                                // Add , ech-opts: {enable: true, query-server-name: ...} before the last }\n                                // Ensure there is a space before the comma\n                                const echDomain = customECHDomain || 'cloudflare-ech.com';\n                                const needsComma = !beforeBrace.endsWith(',') && !beforeBrace.endsWith('{');\n                                return line.substring(0, lastBraceIndex) + (needsComma ? ', ' : ' ') + `ech-opts: {enable: true, query-server-name: ${echDomain}}` + line.substring(lastBraceIndex);\n                            }\n                        }\n                    }\n                    return line;\n                }).join('\\n');\n\n                // Handle multi-line format nodes (if any)\n                // Only handle single-line format, multi-line format is handled by subscription converter, no extra modification needed\n                // If subscription converter returns multi-line format, it is usually already correct\n            }\n\n            // Replace DNS nameserver with AliDNS DoH\n            clashConfig = clashConfig.replace(/^(\\s*nameserver:\\s*\\n)((?:\\s*-\\s*[^\\n]+\\n)*)/m, (match, header, items) => {\n                // Replace all nameserver items with AliDNS DoH\n                const dnsServer = customDNS || 'https://dns.joeyblog.eu.org/joeyblog';\n                return header + `    - ${dnsServer}\\n`;\n            });\n\n            return clashConfig;\n        } catch (e) {\n            // If subscription conversion fails, return error\n            throw new Error('\u65E0\u6CD5\u83B7\u53D6 Clash \u914D\u7F6E: ' + e.message);\n        }\n    }\n\n    function generateBase64Config(links) {\n        const joinedLinks = links.join('\\n');\n        // To handle Unicode characters, first encode the string to UTF-8 percent-encoding,\n        // then convert the percent-encodings into raw bytes that btoa can process.\n        const utf8Bytes = encodeURIComponent(joinedLinks).replace(/%([0-9A-F]{2})/g,\n            (match, p1) => String.fromCharCode(parseInt(p1, 16))\n        );\n        return btoa(utf8Bytes);\n    }\n\n    const generateSurgeConfig = generateBase64Config;\n    const generateSSConfig = generateBase64Config;\n    const generateV2RayConfig = generateBase64Config;\n    const generateLoonConfig = generateBase64Config;\n\n    // Global variable to store ECH debug info\n    let echDebugInfo = '';\n\n    async function fetchECHConfig(domain) {\n        if (!enableECH) {\n            echDebugInfo = 'ECH\u529F\u80FD\u5DF2\u7981\u7528';\n            return null;\n        }\n\n        echDebugInfo = '';\n        const debugSteps = [];\n\n        try {\n            // Prioritize using Google DNS to query ECH config for cloudflare-ech.com\n            debugSteps.push('\u5C1D\u8BD5\u4F7F\u7528 Google DNS \u67E5\u8BE2 cloudflare-ech.com...');\n            const echDomainUrl = `https://v.recipes/dns/dns.google/dns-query?name=cloudflare-ech.com&type=65`;\n            const echResponse = await fetch(echDomainUrl, {\n                headers: {\n                    'Accept': 'application/json'\n                }\n            });\n\n            debugSteps.push(`Google DNS \u54CD\u5E94\u72B6\u6001: ${echResponse.status}`);\n\n            if (echResponse.ok) {\n                const echData = await echResponse.json();\n                debugSteps.push(`Google DNS \u8FD4\u56DE\u6570\u636E: ${JSON.stringify(echData).substring(0, 200)}...`);\n\n                if (echData.Answer && echData.Answer.length > 0) {\n                    debugSteps.push(`\u627E\u5230 ${echData.Answer.length} \u6761\u7B54\u6848\u8BB0\u5F55`);\n                    for (const answer of echData.Answer) {\n                        if (answer.data) {\n                            debugSteps.push(`\u89E3\u6790\u7B54\u6848\u6570\u636E: ${typeof answer.data}, \u957F\u5EA6: ${String(answer.data).length}`);\n                            // Google DNS \u8FD4\u56DE\u7684\u6570\u636E\u683C\u5F0F\u53EF\u80FD\u4E0D\u540C\uFF0C\u9700\u8981\u89E3\u6790\n                            const dataStr = typeof answer.data === 'string' ? answer.data : JSON.stringify(answer.data);\n                            const echMatch = dataStr.match(/ech=([^\\s\"']+)/);\n                            if (echMatch && echMatch[1]) {\n                                echDebugInfo = debugSteps.join('\\\\n') + '\\\\n\u2705 \u6210\u529F\u4ECE Google DNS \u83B7\u53D6 ECH \u914D\u7F6E';\n                                return echMatch[1];\n                            }\n                            // If not found, try using data directly (might be base64 encoded)\n                            if (answer.data && !dataStr.includes('ech=')) {\n                                try {\n                                    const decoded = atob(answer.data);\n                                    debugSteps.push(`\u5C1D\u8BD5 base64 \u89E3\u7801\uFF0C\u89E3\u7801\u540E\u957F\u5EA6: ${decoded.length}`);\n                                    const decodedMatch = decoded.match(/ech=([^\\s\"']+)/);\n                                    if (decodedMatch && decodedMatch[1]) {\n                                        echDebugInfo = debugSteps.join('\\\\n') + '\\\\n\u2705 \u6210\u529F\u4ECE Google DNS (base64\u89E3\u7801) \u83B7\u53D6 ECH \u914D\u7F6E';\n                                        return decodedMatch[1];\n                                    }\n                                } catch (e) {\n                                    debugSteps.push(`base64 \u89E3\u7801\u5931\u8D25: ${e.message}`);\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    debugSteps.push('Google DNS \u672A\u8FD4\u56DE\u7B54\u6848\u8BB0\u5F55');\n                }\n            } else {\n                debugSteps.push(`Google DNS \u8BF7\u6C42\u5931\u8D25: ${echResponse.status}`);\n            }\n\n            // If cloudflare-ech.com query fails, try using Google DNS to query HTTPS record of target domain\n            debugSteps.push(`\u5C1D\u8BD5\u4F7F\u7528 Google DNS \u67E5\u8BE2\u76EE\u6807\u57DF\u540D ${domain}...`);\n            const dohUrl = `https://v.recipes/dns/dns.google/dns-query?name=${encodeURIComponent(domain)}&type=65`;\n            const response = await fetch(dohUrl, {\n                headers: {\n                    'Accept': 'application/json'\n                }\n            });\n\n            debugSteps.push(`Google DNS (\u76EE\u6807\u57DF\u540D) \u54CD\u5E94\u72B6\u6001: ${response.status}`);\n\n            if (response.ok) {\n                const data = await response.json();\n                debugSteps.push(`Google DNS (\u76EE\u6807\u57DF\u540D) \u8FD4\u56DE\u6570\u636E: ${JSON.stringify(data).substring(0, 200)}...`);\n\n                if (data.Answer && data.Answer.length > 0) {\n                    debugSteps.push(`\u627E\u5230 ${data.Answer.length} \u6761\u7B54\u6848\u8BB0\u5F55`);\n                    for (const answer of data.Answer) {\n                        if (answer.data) {\n                            const dataStr = typeof answer.data === 'string' ? answer.data : JSON.stringify(answer.data);\n                            const echMatch = dataStr.match(/ech=([^\\s\"']+)/);\n                            if (echMatch && echMatch[1]) {\n                                echDebugInfo = debugSteps.join('\\\\n') + '\\\\n\u2705 \u6210\u529F\u4ECE Google DNS (\u76EE\u6807\u57DF\u540D) \u83B7\u53D6 ECH \u914D\u7F6E';\n                                return echMatch[1];\n                            }\n                            // Try base64 decoding\n                            try {\n                                const decoded = atob(answer.data);\n                                const decodedMatch = decoded.match(/ech=([^\\s\"']+)/);\n                                if (decodedMatch && decodedMatch[1]) {\n                                    echDebugInfo = debugSteps.join('\\\\n') + '\\\\n\u2705 \u6210\u529F\u4ECE Google DNS (\u76EE\u6807\u57DF\u540D, base64\u89E3\u7801) \u83B7\u53D6 ECH \u914D\u7F6E';\n                                    return decodedMatch[1];\n                                }\n                            } catch (e) {\n                                debugSteps.push(`base64 \u89E3\u7801\u5931\u8D25: ${e.message}`);\n                            }\n                        }\n                    }\n                } else {\n                    debugSteps.push('Google DNS (\u76EE\u6807\u57DF\u540D) \u672A\u8FD4\u56DE\u7B54\u6848\u8BB0\u5F55');\n                }\n            } else {\n                debugSteps.push(`Google DNS (\u76EE\u6807\u57DF\u540D) \u8BF7\u6C42\u5931\u8D25: ${response.status}`);\n            }\n\n            // If Google DNS fails, try Cloudflare DNS as fallback\n            debugSteps.push('\u5C1D\u8BD5\u4F7F\u7528 Cloudflare DNS \u4F5C\u4E3A\u5907\u9009...');\n            const cfEchUrl = `https://cloudflare-dns.com/dns-query?name=cloudflare-ech.com&type=65`;\n            const cfResponse = await fetch(cfEchUrl, {\n                headers: {\n                    'Accept': 'application/dns-json'\n                }\n            });\n\n            debugSteps.push(`Cloudflare DNS \u54CD\u5E94\u72B6\u6001: ${cfResponse.status}`);\n\n            if (cfResponse.ok) {\n                const cfData = await cfResponse.json();\n                debugSteps.push(`Cloudflare DNS \u8FD4\u56DE\u6570\u636E: ${JSON.stringify(cfData).substring(0, 200)}...`);\n\n                if (cfData.Answer && cfData.Answer.length > 0) {\n                    debugSteps.push(`\u627E\u5230 ${cfData.Answer.length} \u6761\u7B54\u6848\u8BB0\u5F55`);\n                    for (const answer of cfData.Answer) {\n                        if (answer.data) {\n                            const echMatch = answer.data.match(/ech=([^\\s\"']+)/);\n                            if (echMatch && echMatch[1]) {\n                                echDebugInfo = debugSteps.join('\\\\n') + '\\\\n\u2705 \u6210\u529F\u4ECE Cloudflare DNS \u83B7\u53D6 ECH \u914D\u7F6E';\n                                return echMatch[1];\n                            }\n                        }\n                    }\n                } else {\n                    debugSteps.push('Cloudflare DNS \u672A\u8FD4\u56DE\u7B54\u6848\u8BB0\u5F55');\n                }\n            } else {\n                debugSteps.push(`Cloudflare DNS \u8BF7\u6C42\u5931\u8D25: ${cfResponse.status}`);\n            }\n\n            echDebugInfo = debugSteps.join('\\\\n') + '\\\\n\u274C \u6240\u6709DNS\u67E5\u8BE2\u5747\u5931\u8D25\uFF0C\u672A\u83B7\u53D6\u5230ECH\u914D\u7F6E';\n            return null;\n        } catch (error) {\n            echDebugInfo = debugSteps.join('\\\\n') + '\\\\n\u274C \u83B7\u53D6ECH\u914D\u7F6E\u65F6\u53D1\u751F\u9519\u8BEF: ' + error.message;\n            return null;\n        }\n    }\n\n    async function handleSubscriptionRequest(request, user, url = null) {\n        if (!url) url = new URL(request.url);\n\n        const finalLinks = [];\n        const workerDomain = url.hostname;\n        const target = url.searchParams.get('target') || 'base64';\n\n        // If ECH is enabled, use custom value\n        let echConfig = null;\n        if (enableECH) {\n            const dnsServer = customDNS || 'https://dns.joeyblog.eu.org/joeyblog';\n            const echDomain = customECHDomain || 'cloudflare-ech.com';\n            echConfig = `${echDomain}+${dnsServer}`;\n        }\n\n        async function addNodesFromList(list) {\n            if (ev) {\n                finalLinks.push(...generateLinksFromSource(list, user, workerDomain, echConfig));\n            }\n            if (et) {\n                finalLinks.push(...await generateTrojanLinksFromSource(list, user, workerDomain, echConfig));\n            }\n            if (ex) {\n                finalLinks.push(...generateXhttpLinksFromSource(list, user, workerDomain, echConfig));\n            }\n            if (evm) {\n                finalLinks.push(...generateVMessLinksFromSource(list, user, workerDomain));\n            }\n            if (ess) {\n                finalLinks.push(...generateShadowsocksLinksFromSource(list, user, workerDomain));\n            }\n            if (etu) {\n                finalLinks.push(...generateTuicLinksFromSource(list, user, workerDomain));\n            }\n            if (ehy) {\n                finalLinks.push(...generateHysteria2LinksFromSource(list, user, workerDomain));\n            }\n            if (eg) {\n                finalLinks.push(...generateVlessGrpcLinksFromSource(list, user, workerDomain));\n            }\n        }\n\n        if (currentWorkerRegion === 'CUSTOM') {\n            const nativeList = [{ ip: workerDomain, isp: 'Native Address' }];\n            await addNodesFromList(nativeList);\n        } else {\n            try {\n                const nativeList = [{ ip: workerDomain, isp: 'Native Address' }];\n                await addNodesFromList(nativeList);\n            } catch (error) {\n                if (!currentWorkerRegion) {\n                    currentWorkerRegion = await detectWorkerRegion(request);\n                }\n\n                const bestBackupIP = await getBestBackupIP(currentWorkerRegion);\n                if (bestBackupIP) {\n                    fallbackAddress = bestBackupIP.domain + ':' + bestBackupIP.port;\n                    const backupList = [{ ip: bestBackupIP.domain, isp: 'ProxyIP-' + currentWorkerRegion }];\n                    await addNodesFromList(backupList);\n                } else {\n                    const nativeList = [{ ip: workerDomain, isp: 'Native Address' }];\n                    await addNodesFromList(nativeList);\n                }\n            }\n        }\n\n        const hasCustomPreferred = customPreferredIPs.length > 0 || customPreferredDomains.length > 0;\n\n        if (!disablePreferred && hasCustomPreferred) {\n\n            if (customPreferredIPs.length > 0 && epi) {\n                await addNodesFromList(customPreferredIPs);\n            }\n\n            if (customPreferredDomains.length > 0 && epd) {\n                const customDomainList = customPreferredDomains.map(d => ({ ip: d.domain, isp: d.name || d.domain }));\n                await addNodesFromList(customDomainList);\n            }\n        } else if (!disablePreferred) {\n\n            if (epd) {\n            const domainList = directDomains.map(d => ({ ip: d.domain, isp: d.name || d.domain }));\n                await addNodesFromList(domainList);\n            }\n\n            if (epi) {\n            const defaultURL = 'https://raw.githubusercontent.com/qwer-search/bestip/refs/heads/main/kejilandbestip.txt';\n                if (piu === defaultURL) {\n                try {\n                    const dynamicIPList = await fetchDynamicIPs();\n                    if (dynamicIPList.length > 0) {\n                            await addNodesFromList(dynamicIPList);\n                    }\n                } catch (error) {\n                    if (!currentWorkerRegion) {\n                        currentWorkerRegion = await detectWorkerRegion(request);\n                    }\n\n                    const bestBackupIP = await getBestBackupIP(currentWorkerRegion);\n                    if (bestBackupIP) {\n                        fallbackAddress = bestBackupIP.domain + ':' + bestBackupIP.port;\n\n                        const backupList = [{ ip: bestBackupIP.domain, isp: 'ProxyIP-' + currentWorkerRegion }];\n                            await addNodesFromList(backupList);\n                        }\n                    }\n                }\n            }\n\n            if (egi) {\n            try {\n                const newIPList = await fetchAndParseNewIPs();\n                if (newIPList.length > 0) {\n                        if (ev) {\n                    finalLinks.push(...generateLinksFromNewIPs(newIPList, user, workerDomain, echConfig));\n                        }\n                        if (et) {\n                            finalLinks.push(...await generateTrojanLinksFromNewIPs(newIPList, user, workerDomain, echConfig));\n                        }\n                        if (evm) {\n                            finalLinks.push(...generateVMessLinksFromNewIPs(newIPList, user, workerDomain));\n                        }\n                        if (ess) {\n                            finalLinks.push(...generateShadowsocksLinksFromNewIPs(newIPList, user, workerDomain));\n                        }\n                        if (etu) {\n                            finalLinks.push(...generateTuicLinksFromNewIPs(newIPList, user, workerDomain));\n                        }\n                        if (ehy) {\n                            finalLinks.push(...generateHysteria2LinksFromNewIPs(newIPList, user, workerDomain));\n                        }\n                        if (eg) {\n                            finalLinks.push(...generateVlessGrpcLinksFromNewIPs(newIPList, user, workerDomain));\n                        }\n                }\n            } catch (error) {\n                if (!currentWorkerRegion) {\n                    currentWorkerRegion = await detectWorkerRegion(request);\n                }\n\n                const bestBackupIP = await getBestBackupIP(currentWorkerRegion);\n                if (bestBackupIP) {\n                    fallbackAddress = bestBackupIP.domain + ':' + bestBackupIP.port;\n\n                    const backupList = [{ ip: bestBackupIP.domain, isp: 'ProxyIP-' + currentWorkerRegion }];\n                        await addNodesFromList(backupList);\n                    }\n                }\n            }\n        }\n\n        if (finalLinks.length === 0) {\n            const errorRemark = \"\u6240\u6709\u8282\u70B9\u83B7\u53D6\u5931\u8D25\";\n            const proto = atob('dmxlc3M=');\n            const errorLink = `${proto}://00000000-0000-0000-0000-000000000000@127.0.0.1:80?encryption=none&security=none&type=ws&host=error.com&path=%2F#${encodeURIComponent(errorRemark)}`;\n            finalLinks.push(errorLink);\n        }\n\n        let subscriptionContent;\n        let contentType = 'text/plain; charset=utf-8';\n\n        switch (target.toLowerCase()) {\n            case atob('Y2xhc2g='):\n            case atob('Y2xhc2hy'):\n                subscriptionContent = await generateClashConfig(finalLinks, request, user);\n                contentType = 'text/yaml; charset=utf-8';\n                break;\n            case atob('c3VyZ2U='):\n            case atob('c3VyZ2Uy'):\n            case atob('c3VyZ2Uz'):\n            case atob('c3VyZ2U0'):\n                subscriptionContent = generateSurgeConfig(finalLinks);\n                break;\n            case atob('cXVhbnR1bXVsdA=='):\n            case atob('cXVhbng='):\n            case 'quanx':\n                subscriptionContent = generateQuantumultConfig(finalLinks);\n                break;\n            case atob('c3M='):\n            case atob('c3Ny'):\n                subscriptionContent = generateSSConfig(finalLinks);\n                break;\n            case atob('djJyYXk='):\n                subscriptionContent = generateV2RayConfig(finalLinks);\n                break;\n            case atob('bG9vbg=='):\n                subscriptionContent = generateLoonConfig(finalLinks);\n                break;\n            default:\n                subscriptionContent = btoa(finalLinks.join('\\n'));\n        }\n\n        const responseHeaders = {\n            'Content-Type': contentType,\n            'Cache-Control': 'no-store, no-cache, must-revalidate, max-age=0',\n        };\n\n        // \u6DFB\u52A0ECH\u72B6\u6001\u5230\u54CD\u5E94\u5934\n        if (enableECH) {\n            responseHeaders['X-ECH-Status'] = 'ENABLED';\n            if (echConfig) {\n                responseHeaders['X-ECH-Config-Length'] = String(echConfig.length);\n            }\n        }\n\n        return new Response(subscriptionContent, {\n            headers: responseHeaders,\n        });\n    }\n\n    function generateLinksFromSource(list, user, workerDomain, echConfig = null) {\n\n        const CF_HTTP_PORTS = [80, 8080, 8880, 2052, 2082, 2086, 2095];\n        const CF_HTTPS_PORTS = [443, 2053, 2083, 2087, 2096, 8443];\n\n        const defaultHttpsPorts = [443];\n        const defaultHttpPorts = disableNonTLS ? [] : [80];\n        const links = [];\n        const wsPath = '/?ed=2048';\n        const proto = atob('dmxlc3M=');\n\n        list.forEach(item => {\n            let nodeNameBase = item.isp.replace(/\\s/g, '_');\n            if (item.colo && item.colo.trim()) {\n                nodeNameBase = `${nodeNameBase}-${item.colo.trim()}`;\n            }\n            const safeIP = item.ip.includes(':') ? `[${item.ip}]` : item.ip;\n\n            let portsToGenerate = [];\n\n            if (enableDiverseProxies) {\n                CF_HTTPS_PORTS.forEach(port => {\n                    portsToGenerate.push({ port: port, tls: true });\n                });\n                if (!disableNonTLS) {\n                    CF_HTTP_PORTS.forEach(port => {\n                        portsToGenerate.push({ port: port, tls: false });\n                    });\n                }\n            } else {\n                if (item.port) {\n                    const port = item.port;\n                    if (CF_HTTPS_PORTS.includes(port)) {\n                        portsToGenerate.push({ port: port, tls: true });\n                    } else if (CF_HTTP_PORTS.includes(port)) {\n                        if (!disableNonTLS) {\n                            portsToGenerate.push({ port: port, tls: false });\n                        }\n                    } else {\n                        portsToGenerate.push({ port: port, tls: true });\n                    }\n                } else {\n                    defaultHttpsPorts.forEach(port => {\n                        portsToGenerate.push({ port: port, tls: true });\n                    });\n                    defaultHttpPorts.forEach(port => {\n                        portsToGenerate.push({ port: port, tls: false });\n                    });\n                }\n            }\n\n            portsToGenerate.forEach(({ port, tls }) => {\n                if (tls) {\n\n                    const wsNodeName = `${nodeNameBase}-${port}-WS-TLS`;\n                    const wsParams = new URLSearchParams({\n                        encryption: 'none',\n                        security: 'tls',\n                        sni: workerDomain,\n                        fp: enableECH ? 'chrome' : 'randomized',\n                        type: 'ws',\n                        host: workerDomain,\n                        path: wsPath\n                    });\n\n                    // If ECH is enabled, add ech parameter (ECH requires masquerading as Chrome browser)\n                    if (enableECH) {\n                        const dnsServer = customDNS || 'https://dns.joeyblog.eu.org/joeyblog';\n                        const echDomain = customECHDomain || 'cloudflare-ech.com';\n                        wsParams.set('alpn', 'h3,h2,http/1.1');\n                        wsParams.set('ech', `${echDomain}+${dnsServer}`);\n                    }\n\n                    links.push(`${proto}://${user}@${safeIP}:${port}?${wsParams.toString()}#${encodeURIComponent(wsNodeName)}`);\n                } else {\n\n                    const wsNodeName = `${nodeNameBase}-${port}-WS`;\n                    const wsParams = new URLSearchParams({\n                        encryption: 'none',\n                        security: 'none',\n                        type: 'ws',\n                        host: workerDomain,\n                        path: wsPath\n                    });\n                    links.push(`${proto}://${user}@${safeIP}:${port}?${wsParams.toString()}#${encodeURIComponent(wsNodeName)}`);\n                }\n            });\n        });\n        return links;\n    }\n\n    function generateTuicLinksFromSource(list, user, workerDomain) {\n        const links = [];\n        list.forEach(item => {\n            const nodeName = item.isp.replace(/\\s/g, '_') + (item.colo ? `-${item.colo}` : '');\n            const port = item.port || 443;\n            links.push(`tuic://${user}:${user}@${item.ip}:${port}?congestion_control=bbr&alpn=h3&sni=${workerDomain}&udp_relay_mode=native&allow_insecure=1#${encodeURIComponent(nodeName)}`);\n        });\n        return links;\n    }\n\n    function generateTuicLinksFromNewIPs(list, user, workerDomain) {\n        const links = [];\n        list.forEach(item => {\n            const nodeName = item.name.replace(/\\s/g, '_');\n            const port = item.port || 443;\n            links.push(`tuic://${user}:${user}@${item.ip}:${port}?congestion_control=bbr&alpn=h3&sni=${workerDomain}&udp_relay_mode=native&allow_insecure=1#${encodeURIComponent(nodeName)}`);\n        });\n        return links;\n    }\n\n    function generateHysteria2LinksFromSource(list, user, workerDomain) {\n        const links = [];\n        list.forEach(item => {\n            const nodeName = item.isp.replace(/\\s/g, '_') + (item.colo ? `-${item.colo}` : '');\n            const port = item.port || 443;\n            links.push(`hy2://${user}@${item.ip}:${port}?insecure=1&sni=${workerDomain}#${encodeURIComponent(nodeName)}`);\n        });\n        return links;\n    }\n\n    function generateHysteria2LinksFromNewIPs(list, user, workerDomain) {\n        const links = [];\n        list.forEach(item => {\n            const nodeName = item.name.replace(/\\s/g, '_');\n            const port = item.port || 443;\n            links.push(`hy2://${user}@${item.ip}:${port}?insecure=1&sni=${workerDomain}#${encodeURIComponent(nodeName)}`);\n        });\n        return links;\n    }\n\n    function generateVlessGrpcLinksFromSource(list, user, workerDomain) {\n        const links = [];\n        const serviceName = 'grpc';\n        const CF_HTTPS_PORTS = [443, 2053, 2083, 2087, 2096, 8443];\n\n        list.forEach(item => {\n            let nodeName = item.isp.replace(/\\s/g, '_');\n            if (item.colo && item.colo.trim()) nodeName += `-${item.colo.trim()}`;\n            const port = parseInt(item.port || 443);\n\n            if (CF_HTTPS_PORTS.includes(port)) {\n                const link = `vless://${user}@${item.ip}:${port}?encryption=none&security=tls&type=grpc&serviceName=${serviceName}&sni=${workerDomain}&fp=chrome#${encodeURIComponent(nodeName + '-gRPC')}`;\n                links.push(link);\n            }\n        });\n        return links;\n    }\n\n    function generateVlessGrpcLinksFromNewIPs(list, user, workerDomain) {\n        const links = [];\n        const serviceName = 'grpc';\n        const CF_HTTPS_PORTS = [443, 2053, 2083, 2087, 2096, 8443];\n\n        list.forEach(item => {\n            const nodeName = item.name.replace(/\\s/g, '_');\n            const port = parseInt(item.port);\n\n            if (CF_HTTPS_PORTS.includes(port)) {\n                const link = `vless://${user}@${item.ip}:${port}?encryption=none&security=tls&type=grpc&serviceName=${serviceName}&sni=${workerDomain}&fp=chrome#${encodeURIComponent(nodeName + '-gRPC')}`;\n                links.push(link);\n            }\n        });\n        return links;\n    }\n\n    async function handleGrpcRequest(request) {\n        if (!fallbackAddress) return new Response('No backend for gRPC', { status: 503 });\n\n        const url = new URL(request.url);\n        const { address, port } = parseAddressAndPort(fallbackAddress);\n\n        const targetUrl = `https://${address}:${port || 443}${url.pathname}${url.search}`;\n\n        try {\n            const proxyReq = new Request(targetUrl, {\n                method: request.method,\n                headers: request.headers,\n                body: request.body,\n                redirect: 'follow'\n            });\n\n            const response = await fetch(proxyReq);\n            return response;\n        } catch (e) {\n            return new Response('gRPC Proxy Error: ' + e.message, { status: 502 });\n        }\n    }\n\n    async function generateTrojanLinksFromSource(list, user, workerDomain, echConfig = null) {\n\n        const CF_HTTP_PORTS = [80, 8080, 8880, 2052, 2082, 2086, 2095];\n        const CF_HTTPS_PORTS = [443, 2053, 2083, 2087, 2096, 8443];\n\n        const defaultHttpsPorts = [443];\n        const defaultHttpPorts = disableNonTLS ? [] : [80];\n        const links = [];\n        const wsPath = '/?ed=2048';\n\n        const password = tp || user;\n\n        list.forEach(item => {\n            let nodeNameBase = item.isp.replace(/\\s/g, '_');\n            if (item.colo && item.colo.trim()) {\n                nodeNameBase = `${nodeNameBase}-${item.colo.trim()}`;\n            }\n            const safeIP = item.ip.includes(':') ? `[${item.ip}]` : item.ip;\n\n            let portsToGenerate = [];\n\n            if (item.port) {\n                const port = item.port;\n\n                if (CF_HTTPS_PORTS.includes(port)) {\n                    portsToGenerate.push({ port: port, tls: true });\n                } else if (CF_HTTP_PORTS.includes(port)) {\n                    if (!disableNonTLS) {\n                        portsToGenerate.push({ port: port, tls: false });\n                    }\n                } else {\n                    portsToGenerate.push({ port: port, tls: true });\n                }\n            } else {\n                defaultHttpsPorts.forEach(port => {\n                    portsToGenerate.push({ port: port, tls: true });\n                });\n                defaultHttpPorts.forEach(port => {\n                    portsToGenerate.push({ port: port, tls: false });\n                });\n            }\n\n            portsToGenerate.forEach(({ port, tls }) => {\n                if (tls) {\n\n                    const wsNodeName = `${nodeNameBase}-${port}-${atob('VHJvamFu')}-WS-TLS`;\n                    const wsParams = new URLSearchParams({\n                        security: 'tls',\n                        sni: workerDomain,\n                        fp: 'chrome',\n                        type: 'ws',\n                        host: workerDomain,\n                        path: wsPath\n                    });\n\n                    // If ECH is enabled, add ech parameter (ECH requires masquerading as Chrome browser)\n                    if (enableECH) {\n                        const dnsServer = customDNS || 'https://dns.joeyblog.eu.org/joeyblog';\n                        const echDomain = customECHDomain || 'cloudflare-ech.com';\n                        wsParams.set('alpn', 'h3,h2,http/1.1');\n                        wsParams.set('ech', `${echDomain}+${dnsServer}`);\n                    }\n\n                    links.push(`${atob('dHJvamFuOi8v')}${password}@${safeIP}:${port}?${wsParams.toString()}#${encodeURIComponent(wsNodeName)}`);\n                } else {\n\n                    const wsNodeName = `${nodeNameBase}-${port}-${atob('VHJvamFu')}-WS`;\n                    const wsParams = new URLSearchParams({\n                        security: 'none',\n                        type: 'ws',\n                        host: workerDomain,\n                        path: wsPath\n                    });\n                    links.push(`${atob('dHJvamFuOi8v')}${password}@${safeIP}:${port}?${wsParams.toString()}#${encodeURIComponent(wsNodeName)}`);\n                }\n            });\n        });\n        return links;\n    }\n\n    async function fetchDynamicIPs() {\n        const v4Url1 = \"https://www.wetest.vip/page/cloudflare/address_v4.html\";\n        const v6Url1 = \"https://www.wetest.vip/page/cloudflare/address_v6.html\";\n        let results = [];\n\n        // Read filter config (default all enabled)\n        const ipv4Enabled = getConfigValue('ipv4', '') === '' || getConfigValue('ipv4', 'yes') !== 'no';\n        const ipv6Enabled = getConfigValue('ipv6', '') === '' || getConfigValue('ipv6', 'yes') !== 'no';\n        const ispMobile = getConfigValue('ispMobile', '') === '' || getConfigValue('ispMobile', 'yes') !== 'no';\n        const ispUnicom = getConfigValue('ispUnicom', '') === '' || getConfigValue('ispUnicom', 'yes') !== 'no';\n        const ispTelecom = getConfigValue('ispTelecom', '') === '' || getConfigValue('ispTelecom', 'yes') !== 'no';\n\n        try {\n            const fetchPromises = [];\n            if (ipv4Enabled) {\n                fetchPromises.push(fetchAndParseWetest(v4Url1));\n            } else {\n                fetchPromises.push(Promise.resolve([]));\n            }\n            if (ipv6Enabled) {\n                fetchPromises.push(fetchAndParseWetest(v6Url1));\n            } else {\n                fetchPromises.push(Promise.resolve([]));\n            }\n\n            const [ipv4List, ipv6List] = await Promise.all(fetchPromises);\n            results = [...ipv4List, ...ipv6List];\n\n            // Filter by ISP\n            if (results.length > 0) {\n                results = results.filter(item => {\n                    const isp = item.isp || '';\n                    if (isp.includes('\u79FB\u52A8') && !ispMobile) return false;\n                    if (isp.includes('\u8054\u901A') && !ispUnicom) return false;\n                    if (isp.includes('\u7535\u4FE1') && !ispTelecom) return false;\n                    return true;\n                });\n            }\n\n            if (results.length > 0) {\n                return results;\n            }\n        } catch (e) {\n        }\n\n                return [];\n            }\n\n    async function fetchAndParseWetest(url) {\n        try {\n            const response = await fetch(url, { headers: { 'User-Agent': 'Mozilla/5.0' } });\n            if (!response.ok) {\n                return [];\n            }\n            const html = await response.text();\n            const results = [];\n            const rowRegex = /<tr[\\s\\S]*?<\\/tr>/g;\n            const cellRegex = /<td data-label=\"\u7EBF\u8DEF\u540D\u79F0\">(.+?)<\\/td>[\\s\\S]*?<td data-label=\"\u4F18\u9009\u5730\u5740\">([\\d.:a-fA-F]+)<\\/td>[\\s\\S]*?<td data-label=\"\u6570\u636E\u4E2D\u5FC3\">(.+?)<\\/td>/;\n\n            let match;\n            while ((match = rowRegex.exec(html)) !== null) {\n                const rowHtml = match[0];\n                const cellMatch = rowHtml.match(cellRegex);\n                if (cellMatch && cellMatch[1] && cellMatch[2]) {\n                    const colo = cellMatch[3] ? cellMatch[3].trim().replace(/<.*?>/g, '') : '';\n                    let isp = cellMatch[1].trim().replace(/<.*?>/g, '');\n                    if (isp === '\u79FB\u52A8') isp = 'Mobile';\n                    if (isp === '\u8054\u901A') isp = 'Unicom';\n                    if (isp === '\u7535\u4FE1') isp = 'Telecom';\n                    results.push({\n                        isp: isp,\n                        ip: cellMatch[2].trim(),\n                        colo: colo\n                    });\n                }\n            }\n\n            if (results.length === 0) {\n            }\n\n            return results;\n        } catch (error) {\n            return [];\n        }\n    }\n\n    async function handleWsRequest(request) {\n        // Detect and set current Worker region, ensure WebSocket requests are correctly matched to nearest region\n        if (!currentWorkerRegion || currentWorkerRegion === '') {\n            if (manualWorkerRegion && manualWorkerRegion.trim()) {\n                currentWorkerRegion = manualWorkerRegion.trim().toUpperCase();\n            } else {\n                currentWorkerRegion = await detectWorkerRegion(request);\n            }\n        }\n\n        const wsPair = new WebSocketPair();\n        const [clientSock, serverSock] = Object.values(wsPair);\n        serverSock.accept();\n\n        let remoteConnWrapper = { socket: null };\n        let isDnsQuery = false;\n        let protocolType = null;\n\n        const earlyData = request.headers.get(atob('c2VjLXdlYnNvY2tldC1wcm90b2NvbA==')) || '';\n        const readable = makeReadableStream(serverSock, earlyData);\n        const url = new URL(request.url);\n\n        readable.pipeTo(new WritableStream({\n            async write(chunk) {\n                if (isDnsQuery) return await forwardUDP(chunk, serverSock, null);\n                if (remoteConnWrapper.socket) {\n                    const writer = remoteConnWrapper.socket.writable.getWriter();\n                    await writer.write(chunk);\n                    writer.releaseLock();\n                    return;\n                }\n\n                if (!protocolType) {\n\n                    // VMess and Shadowsocks fallback handling (Reverse Proxy Mode)\n                    // If EVM/ESS is enabled and path matches, forward traffic directly to fallbackAddress\n                    const isVMess = evm && url.pathname.startsWith('/vm');\n                    const isSS = ess && url.pathname.startsWith('/ss');\n\n                    if (isVMess || isSS) {\n                        protocolType = isVMess ? 'vmess' : 'shadowsocks';\n\n                        let targetAddress = fallbackAddress;\n                        // If fallbackAddress is not configured, try using preferred IP (might be incompatible, but as a last resort)\n                        if (!targetAddress && currentWorkerRegion) {\n                            const best = await getBestBackupIP(currentWorkerRegion);\n                            if (best) targetAddress = best.domain + ':' + best.port;\n                        }\n\n                        if (targetAddress) {\n                            const { address, port } = parseAddressAndPort(targetAddress);\n                            // Use URL type (2) as generic fallback\n                            await forwardTCP(2, address, port || 80, chunk, serverSock, null, remoteConnWrapper);\n                            return;\n                        } else {\n                            throw new Error('No backend configured for VMess/SS relay');\n                        }\n                    }\n\n                    if (ev && chunk.byteLength >= 24) {\n                        const vlessResult = parseWsPacketHeader(chunk, at);\n                        if (!vlessResult.hasError) {\n                            protocolType = 'vless';\n                            const { addressType, port, hostname, rawIndex, version, isUDP } = vlessResult;\n                if (isUDP) {\n                    if (port === 53) isDnsQuery = true;\n                    else throw new Error(E_UDP_DNS_ONLY);\n                }\n                const respHeader = new Uint8Array([version[0], 0]);\n                const rawData = chunk.slice(rawIndex);\n                if (isDnsQuery) return forwardUDP(rawData, serverSock, respHeader);\n                await forwardTCP(addressType, hostname, port, rawData, serverSock, respHeader, remoteConnWrapper);\n                            return;\n                        }\n                    }\n\n                    if (et && chunk.byteLength >= 56) {\n                        const tjResult = await parseTrojanHeader(chunk, at);\n                        if (!tjResult.hasError) {\n                            protocolType = atob('dHJvamFu');\n                            const { addressType, port, hostname, rawClientData } = tjResult;\n                            await forwardTCP(addressType, hostname, port, rawClientData, serverSock, null, remoteConnWrapper);\n                            return;\n                        }\n                    }\n\n                    throw new Error('Invalid protocol or authentication failed');\n                }\n            },\n        })).catch((err) => { });\n\n        return new Response(null, { status: 101, webSocket: clientSock });\n    }\n\n    async function forwardTCP(addrType, host, portNum, rawData, ws, respHeader, remoteConnWrapper) {\n        async function connectAndSend(address, port, useSocks = false) {\n            const remoteSock = useSocks ?\n                await establishSocksConnection(addrType, address, port) :\n                connect({ hostname: address, port: port });\n            const writer = remoteSock.writable.getWriter();\n            await writer.write(rawData);\n            writer.releaseLock();\n            return remoteSock;\n        }\n\n        async function retryConnection() {\n            if (enableSocksDowngrade && isSocksEnabled) {\n                try {\n                    const socksSocket = await connectAndSend(host, portNum, true);\n                    remoteConnWrapper.socket = socksSocket;\n                    socksSocket.closed.catch(() => {}).finally(() => closeSocketQuietly(ws));\n                    connectStreams(socksSocket, ws, respHeader, null);\n                    return;\n                } catch (socksErr) {\n                    let backupHost, backupPort;\n                    if (fallbackAddress && fallbackAddress.trim()) {\n                        const parsed = parseAddressAndPort(fallbackAddress);\n                        backupHost = parsed.address;\n                        backupPort = parsed.port || portNum;\n                    } else {\n                        const bestBackupIP = await getBestBackupIP(currentWorkerRegion);\n                        backupHost = bestBackupIP ? bestBackupIP.domain : host;\n                        backupPort = bestBackupIP ? bestBackupIP.port : portNum;\n                    }\n\n                    try {\n                        const fallbackSocket = await connectAndSend(backupHost, backupPort, false);\n                        remoteConnWrapper.socket = fallbackSocket;\n                        fallbackSocket.closed.catch(() => {}).finally(() => closeSocketQuietly(ws));\n                        connectStreams(fallbackSocket, ws, respHeader, null);\n                    } catch (fallbackErr) {\n                        closeSocketQuietly(ws);\n                    }\n                }\n            } else {\n                let backupHost, backupPort;\n                if (fallbackAddress && fallbackAddress.trim()) {\n                    const parsed = parseAddressAndPort(fallbackAddress);\n                    backupHost = parsed.address;\n                    backupPort = parsed.port || portNum;\n                } else {\n                    const bestBackupIP = await getBestBackupIP(currentWorkerRegion);\n                    backupHost = bestBackupIP ? bestBackupIP.domain : host;\n                    backupPort = bestBackupIP ? bestBackupIP.port : portNum;\n                }\n\n                try {\n                    const fallbackSocket = await connectAndSend(backupHost, backupPort, isSocksEnabled);\n                    remoteConnWrapper.socket = fallbackSocket;\n                    fallbackSocket.closed.catch(() => {}).finally(() => closeSocketQuietly(ws));\n                    connectStreams(fallbackSocket, ws, respHeader, null);\n                } catch (fallbackErr) {\n                    closeSocketQuietly(ws);\n                }\n            }\n        }\n\n        try {\n            const initialSocket = await connectAndSend(host, portNum, enableSocksDowngrade ? false : isSocksEnabled);\n            remoteConnWrapper.socket = initialSocket;\n            connectStreams(initialSocket, ws, respHeader, retryConnection);\n        } catch (err) {\n            retryConnection();\n        }\n    }\n\n    function parseWsPacketHeader(chunk, token) {\n        if (chunk.byteLength < 24) return { hasError: true, message: E_INVALID_DATA };\n        const version = new Uint8Array(chunk.slice(0, 1));\n        if (formatIdentifier(new Uint8Array(chunk.slice(1, 17))) !== token) return { hasError: true, message: E_INVALID_USER };\n        const optLen = new Uint8Array(chunk.slice(17, 18))[0];\n        const cmd = new Uint8Array(chunk.slice(18 + optLen, 19 + optLen))[0];\n        let isUDP = false;\n        if (cmd === 2) {\n            isUDP = true;\n        } else if (cmd !== 1) {\n            return { hasError: true, message: E_UNSUPPORTED_CMD };\n        }\n        const portIdx = 19 + optLen;\n        const port = new DataView(chunk.slice(portIdx, portIdx + 2)).getUint16(0);\n        let addrIdx = portIdx + 2, addrLen = 0, addrValIdx = addrIdx + 1, hostname = '';\n        const addressType = new Uint8Array(chunk.slice(addrIdx, addrValIdx))[0];\n        switch (addressType) {\n            case ADDRESS_TYPE_IPV4: addrLen = 4; hostname = new Uint8Array(chunk.slice(addrValIdx, addrValIdx + addrLen)).join('.'); break;\n            case ADDRESS_TYPE_URL: addrLen = new Uint8Array(chunk.slice(addrValIdx, addrValIdx + 1))[0]; addrValIdx += 1; hostname = new TextDecoder().decode(chunk.slice(addrValIdx, addrValIdx + addrLen)); break;\n            case ADDRESS_TYPE_IPV6: addrLen = 16; const ipv6 = []; const ipv6View = new DataView(chunk.slice(addrValIdx, addrValIdx + addrLen)); for (let i = 0; i < 8; i++) ipv6.push(ipv6View.getUint16(i * 2).toString(16)); hostname = ipv6.join(':'); break;\n            default: return { hasError: true, message: `${E_INVALID_ADDR_TYPE}: ${addressType}` };\n        }\n        if (!hostname) return { hasError: true, message: `${E_EMPTY_ADDR}: ${addressType}` };\n        return { hasError: false, addressType, port, hostname, isUDP, rawIndex: addrValIdx + addrLen, version };\n    }\n\n    function makeReadableStream(socket, earlyDataHeader) {\n        let cancelled = false;\n        return new ReadableStream({\n            start(controller) {\n                socket.addEventListener('message', (event) => { if (!cancelled) controller.enqueue(event.data); });\n                socket.addEventListener('close', () => { if (!cancelled) { closeSocketQuietly(socket); controller.close(); } });\n                socket.addEventListener('error', (err) => controller.error(err));\n                const { earlyData, error } = base64ToArray(earlyDataHeader);\n                if (error) controller.error(error); else if (earlyData) controller.enqueue(earlyData);\n            },\n            cancel() { cancelled = true; closeSocketQuietly(socket); }\n        });\n    }\n\n    async function connectStreams(remoteSocket, webSocket, headerData, retryFunc) {\n        let header = headerData, hasData = false;\n        await remoteSocket.readable.pipeTo(\n            new WritableStream({\n                async write(chunk, controller) {\n                    hasData = true;\n                    if (webSocket.readyState !== 1) controller.error(E_WS_NOT_OPEN);\n                    if (header) { webSocket.send(await new Blob([header, chunk]).arrayBuffer()); header = null; }\n                    else { webSocket.send(chunk); }\n                },\n                abort(reason) { },\n            })\n        ).catch((error) => { closeSocketQuietly(webSocket); });\n        if (!hasData && retryFunc) retryFunc();\n    }\n\n    async function forwardUDP(udpChunk, webSocket, respHeader) {\n        try {\n            const tcpSocket = connect({ hostname: '8.8.4.4', port: 53 });\n            let header = respHeader;\n            const writer = tcpSocket.writable.getWriter();\n            await writer.write(udpChunk);\n            writer.releaseLock();\n            await tcpSocket.readable.pipeTo(new WritableStream({\n                async write(chunk) {\n                    if (webSocket.readyState === 1) {\n                        if (header) { webSocket.send(await new Blob([header, chunk]).arrayBuffer()); header = null; }\n                        else { webSocket.send(chunk); }\n                    }\n                },\n            }));\n        } catch (error) { }\n    }\n\n    async function establishSocksConnection(addrType, address, port) {\n        const { username, password, hostname, socksPort } = parsedSocks5Config;\n        const socket = connect({ hostname, port: socksPort });\n        const writer = socket.writable.getWriter();\n        await writer.write(new Uint8Array(username ? [5, 2, 0, 2] : [5, 1, 0]));\n        const reader = socket.readable.getReader();\n        let res = (await reader.read()).value;\n        if (res[0] !== 5 || res[1] === 255) throw new Error(E_SOCKS_NO_METHOD);\n        if (res[1] === 2) {\n            if (!username || !password) throw new Error(E_SOCKS_AUTH_NEEDED);\n            const encoder = new TextEncoder();\n            const authRequest = new Uint8Array([1, username.length, ...encoder.encode(username), password.length, ...encoder.encode(password)]);\n            await writer.write(authRequest);\n            res = (await reader.read()).value;\n            if (res[0] !== 1 || res[1] !== 0) throw new Error(E_SOCKS_AUTH_FAIL);\n        }\n        const encoder = new TextEncoder(); let DSTADDR;\n        switch (addrType) {\n            case ADDRESS_TYPE_IPV4: DSTADDR = new Uint8Array([1, ...address.split('.').map(Number)]); break;\n            case ADDRESS_TYPE_URL: DSTADDR = new Uint8Array([3, address.length, ...encoder.encode(address)]); break;\n            case ADDRESS_TYPE_IPV6: DSTADDR = new Uint8Array([4, ...address.split(':').flatMap(x => [parseInt(x.slice(0, 2), 16), parseInt(x.slice(2), 16)])]); break;\n            default: throw new Error(E_INVALID_ADDR_TYPE);\n        }\n        await writer.write(new Uint8Array([5, 1, 0, ...DSTADDR, port >> 8, port & 255]));\n        res = (await reader.read()).value;\n        if (res[1] !== 0) throw new Error(E_SOCKS_CONN_FAIL);\n        writer.releaseLock(); reader.releaseLock();\n        return socket;\n    }\n\n    function parseSocksConfig(address) {\n        let [latter, former] = address.split(\"@\").reverse();\n        let username, password, hostname, socksPort;\n\n        if (former) {\n            const formers = former.split(\":\");\n            if (formers.length !== 2) throw new Error(E_INVALID_SOCKS_ADDR);\n            [username, password] = formers;\n        }\n\n        const latters = latter.split(\":\");\n        socksPort = Number(latters.pop());\n        if (isNaN(socksPort)) throw new Error(E_INVALID_SOCKS_ADDR);\n\n        hostname = latters.join(\":\");\n        if (hostname.includes(\":\") && !/^\\[.*\\]$/.test(hostname)) throw new Error(E_INVALID_SOCKS_ADDR);\n\n        return { username, password, hostname, socksPort };\n    }\n\n    async function handleSubscriptionPage(request, user = null, remoteConfigUrl = defaultRemoteConfigUrl) {\n        if (!user) user = at;\n\n        const url = new URL(request.url);\n        // Prioritize language settings from Cookie\n        const cookieHeader = request.headers.get('Cookie') || '';\n        let langFromCookie = null;\n        if (cookieHeader) {\n            const cookies = cookieHeader.split(';').map(c => c.trim());\n            for (const cookie of cookies) {\n                if (cookie.startsWith('preferredLanguage=')) {\n                    langFromCookie = cookie.split('=')[1];\n                    break;\n                }\n            }\n        }\n\n        let lang = 'en';\n\n        if (langFromCookie) {\n            if (langFromCookie === 'fa' || langFromCookie === 'fa-IR') {\n                lang = 'fa';\n            } else if (langFromCookie === 'zh' || langFromCookie === 'zh-CN' || langFromCookie === 'zh-Hans') {\n                lang = 'zh';\n            } else {\n                lang = 'en';\n            }\n        } else {\n            // If no Cookie, use browser language detection\n            const acceptLanguage = request.headers.get('Accept-Language') || '';\n            const browserLang = acceptLanguage.split(',')[0].split('-')[0].toLowerCase();\n            if (browserLang === 'fa' || acceptLanguage.includes('fa-IR') || acceptLanguage.includes('fa')) {\n                lang = 'fa';\n            } else if (browserLang === 'zh' || acceptLanguage.includes('zh-CN') || acceptLanguage.includes('zh')) {\n                lang = 'zh';\n            } else {\n                lang = 'en';\n            }\n        }\n\n        const isFarsi = lang === 'fa';\n        const isZh = lang === 'zh';\n        const langAttr = isFarsi ? 'fa-IR' : (isZh ? 'zh-CN' : 'en-US');\n\n            const translations = {\n                en: {\n                    title: 'Terminal',\n                    congratulations: 'Congratulations, you made it!',\n                    enterU: 'Please enter the value of your U variable',\n                    enterD: 'Please enter the value of your D variable',\n                    command: 'Command: connect [',\n                    uuid: 'UUID',\n                    path: 'PATH',\n                    inputU: 'Enter content of U variable and press Enter...',\n                    inputD: 'Enter content of D variable and press Enter...',\n                    connecting: 'Connecting...',\n                    invading: 'Invading...',\n                    success: 'Connection successful! Returning result...',\n                    error: 'Error: Invalid UUID format',\n                    reenter: 'Please re-enter a valid UUID',\n\n                    // Subscription Page Translations\n                    subtitle: 'Multi-client Support \u2022 Smart Optimization \u2022 One-Click Generation',\n                    selectClient: '[ Select Client ]',\n                    systemStatus: '[ System Status ]',\n                    configManagement: '[ Config Management ]',\n                    relatedLinks: '[ Related Links ]',\n                    checking: 'Checking...',\n                    workerRegion: 'Worker Region: ',\n                    detectionMethod: 'Detection Method: ',\n                    proxyIPStatus: 'ProxyIP Status: ',\n                    currentIP: 'Current IP: ',\n                    regionMatch: 'Region Match: ',\n                    selectionLogic: 'Selection Logic: ',\n                    kvStatusChecking: 'Checking KV Status...',\n                    kvEnabled: '\u2705 KV Storage Enabled, Config Management Available',\n                    kvDisabled: '\u26A0\uFE0F KV Storage Disabled or Not Configured',\n                    specifyRegion: 'Specify Region (wk):',\n                    autoDetect: 'Auto Detect',\n                    saveRegion: 'Save Region Config',\n                    protocolSelection: 'Protocol Selection:',\n                    enableVLESS: 'Enable VLESS Protocol',\n                    enableVMess: 'Enable VMess Protocol',\n                    enableShadowsocks: 'Enable Shadowsocks Protocol',\n                    enableTrojan: 'Enable Trojan Protocol',\n                    enableXhttp: 'Enable xhttp Protocol',\n                    enableTUIC: 'Enable TUIC Protocol',\n                    enableHysteria2: 'Enable Hysteria 2 Protocol',\n                    enableVLESSgRPC: 'Enable VLESS gRPC Protocol',\n                    linkOnlyHint: 'Requires External Backend (Link-Only)',\n                    grpcHint: 'Requires Custom Domain (gRPC)',\n                    trojanPassword: 'Trojan Password (Optional):',\n                    customPath: 'Custom Path (d):',\n                    customPathPlaceholder: 'e.g., /secret-path',\n                    customIP: 'Custom ProxyIP (p):',\n                    customIPPlaceholder: 'e.g., 1.2.3.4 or proxy.example.com',\n                    preferredIPs: 'Preferred IP List (yx):',\n                    preferredIPsPlaceholder: 'e.g., 1.1.1.1:443#HongKong, 8.8.8.8:443#USA',\n                    preferredIPsURL: 'Preferred IP Source URL (yxURL):',\n                    latencyTest: 'Latency Test',\n                    latencyTestIP: 'Test IP/Domain:',\n                    latencyTestIPPlaceholder: 'Enter IP or Domain, comma separated',\n                    latencyTestPort: 'Port:',\n                    startTest: 'Start Test',\n                    stopTest: 'Stop Test',\n                    testResult: 'Test Result:',\n                    addToYx: 'Add to Preferred List',\n                    addSelectedToYx: 'Add Selected to Preferred List',\n                    selectAll: 'Select All',\n                    deselectAll: 'Deselect All',\n                    testingInProgress: 'Testing...',\n                    testComplete: 'Test Complete',\n                    latencyMs: 'Latency (HTTP Handshake)',\n                    timeout: 'Timeout',\n                    ipSource: 'IP Source:',\n                    manualInput: 'Manual Input',\n                    cfRandomIP: 'CF Random IP',\n                    urlFetch: 'Fetch from URL',\n                    randomCount: 'Generate Count:',\n                    fetchURL: 'Fetch URL:',\n                    fetchURLPlaceholder: 'Enter URL of IP list',\n                    generateIP: 'Generate IP',\n                    fetchIP: 'Fetch IP',\n                    socks5Config: 'SOCKS5 Config (s):',\n                    customHomepage: 'Custom Homepage URL (homepage):',\n                    customHomepagePlaceholder: 'e.g., https://example.com',\n                    customHomepageHint: 'Set custom URL as homepage camouflage. Content of this URL will be shown when accessing root path /. Leave empty to show default terminal page.',\n                    customPathHint: 'Only accessible via this path if set. UUID access will be disabled. Suggest using complex path to prevent scanning.',\n                    customIPHint: 'Hide Worker real IP, or solve Cloudflare Loop issue. Supports IP:Port or Domain:Port.',\n                    preferredIPsHint: 'Manually specify preferred nodes. Highest priority. Format: IP:Port#Remark.',\n                    socks5ConfigHint: 'Format: user:pass@host:port. Worker will connect to target via this proxy.',\n                    saveConfig: 'Save Config',\n                    advancedControl: 'Advanced Control',\n                    subscriptionConverter: 'Sub Converter URL:',\n                    builtinPreferred: 'Built-in Preferred Type:',\n                    enablePreferredDomain: 'Enable Preferred Domain',\n                    enablePreferredIP: 'Enable Preferred IP',\n                    enableGitHubPreferred: 'Enable GitHub Default Preferred',\n                    allowAPIManagement: 'Allow API Management (ae):',\n                    regionMatching: 'Region Matching (rm):',\n                    downgradeControl: 'Downgrade Control (qj):',\n                    tlsControl: 'TLS Control (dkby):',\n                    preferredControl: 'Preferred Control (yxby):',\n                    saveAdvanced: 'Save Advanced Config',\n                    loading: 'Loading...',\n                    currentConfig: '\uD83D\uDCCD Current Path Config',\n                    refreshConfig: 'Refresh Config',\n                    resetConfig: 'Reset Config',\n                    subscriptionCopied: 'Subscription Link Copied',\n                    autoSubscriptionCopied: 'Auto-detected subscription link copied. Client will be recognized by User-Agent.',\n                    trojanPasswordPlaceholder: 'Leave empty to use UUID',\n                    trojanPasswordHint: 'Set custom Trojan password. Leave empty to use UUID. Client will auto-hash password with SHA224.',\n                    protocolHint: 'Multiple protocols can be enabled.<br>\u2022 VLESS WS: Standard WebSocket protocol<br>\u2022 VMess WS: WebSocket-based VMess (link generation)<br>\u2022 Shadowsocks: WebSocket-based SS (link generation)<br>\u2022 Trojan: Uses SHA224 password auth<br>\u2022 xhttp: HTTP POST camouflage (requires custom domain & gRPC)',\n                    enableECH: 'Enable ECH (Encrypted Client Hello)',\n                    enableECHHint: 'When enabled, ECH config is fetched from DoH and added to links on every sub refresh',\n                    customDNS: 'Custom DNS Server',\n                    customDNSPlaceholder: 'e.g., https://dns.joeyblog.eu.org/joeyblog',\n                    customDNSHint: 'DNS server for ECH config query (DoH format)',\n                    customECHDomain: 'Custom ECH Domain',\n                    customECHDomainPlaceholder: 'e.g., cloudflare-ech.com',\n                    customECHDomainHint: 'Domain used in ECH config, leave empty for default',\n                    saveProtocol: 'Save Protocol Config',\n                    subscriptionConverterPlaceholder: 'Default: https://url.v1.mk/sub',\n                    subscriptionConverterHint: 'Custom subscription converter API, leave empty for default',\n                    builtinPreferredHint: 'Control which built-in preferred nodes are included. Default all enabled.',\n                    apiEnabledDefault: 'Default (API Disabled)',\n                    apiEnabledYes: 'Enable API Management',\n                    apiEnabledHint: '\u26A0\uFE0F Security Warning: Enabling API allows dynamic preferred IP addition. Use only if needed.',\n                    regionMatchingDefault: 'Default (Enable Region Match)',\n                    regionMatchingNo: 'Disable Region Match',\n                    regionMatchingHint: 'Smart region matching disabled when set to \"Disable\"',\n                    downgradeControlDefault: 'Default (Disable Downgrade)',\n                    downgradeControlNo: 'Enable Downgrade Mode',\n                    downgradeControlHint: 'When enabled: CF Direct Fail -> SOCKS5 -> Fallback',\n                    tlsControlDefault: 'Default (Keep All Nodes)',\n                    tlsControlYes: 'TLS Nodes Only',\n                    tlsControlHint: 'When set to \"TLS Nodes Only\", non-TLS nodes (e.g., port 80) are not generated',\n                    preferredControlDefault: 'Default (Enable Preferred)',\n                    preferredControlYes: 'Disable Preferred',\n                    preferredControlHint: 'When set to \"Disable Preferred\", only native address is used',\n                    regionNames: {\n                        US: '\uD83C\uDDFA\uD83C\uDDF8 US', SG: '\uD83C\uDDF8\uD83C\uDDEC Singapore', JP: '\uD83C\uDDEF\uD83C\uDDF5 Japan',\n                        KR: '\uD83C\uDDF0\uD83C\uDDF7 South Korea', DE: '\uD83C\uDDE9\uD83C\uDDEA Germany', SE: '\uD83C\uDDF8\uD83C\uDDEA Sweden', NL: '\uD83C\uDDF3\uD83C\uDDF1 Netherlands',\n                        FI: '\uD83C\uDDEB\uD83C\uDDEE Finland', GB: '\uD83C\uDDEC\uD83C\uDDE7 UK', FR: '\uD83C\uDDEB\uD83C\uDDF7 France', CA: '\uD83C\uDDE8\uD83C\uDDE6 Canada',\n                        AU: '\uD83C\uDDE6\uD83C\uDDFA Australia', HK: '\uD83C\uDDED\uD83C\uDDF0 Hong Kong', TW: '\uD83C\uDDF9\uD83C\uDDFC Taiwan'\n                    },\n                    terminal: 'Terminal v2.9.3',\n                    githubProject: 'GitHub Project',\n                    autoDetectClient: 'Auto Detect',\n                    selectionLogicText: 'Same Region -> Nearby Region -> Other Regions',\n                    customIPDisabledHint: 'Region selection disabled when using Custom ProxyIP',\n                    customIPMode: 'Custom ProxyIP Mode (p variable enabled)',\n                    customIPModeDesc: 'Custom IP Mode (Region match disabled)',\n                    usingCustomProxyIP: 'Using Custom ProxyIP: ',\n                    customIPConfig: ' (p variable config)',\n                    customIPModeDisabled: 'Custom IP Mode, region selection disabled',\n                    manualRegion: 'Manual Region',\n                    manualRegionDesc: ' (Manual)',\n                    proxyIPAvailable: '10/10 Available (ProxyIP Domain Pre-set)',\n                    smartSelection: 'Smart Nearby Selection',\n                    sameRegionIP: 'Same Region IP Available (1)',\n                    cloudflareDetection: 'Cloudflare Built-in Detection',\n                    detectionFailed: 'Detection Failed',\n                    apiTestResult: 'API Detection Result: ',\n                    apiTestTime: 'Detection Time: ',\n                    apiTestFailed: 'API Detection Failed: ',\n                    unknownError: 'Unknown Error',\n                    apiTestError: 'API Test Failed: ',\n                    kvNotConfigured: 'KV Storage not configured. Config management unavailable.\\n\\nPlease in Cloudflare Workers:\\n1. Create KV Namespace\\n2. Bind variable C\\n3. Redeploy',\n                    kvNotEnabled: 'KV Storage Not Configured',\n                    kvCheckFailed: 'KV Check Failed: Invalid Response',\n                    kvCheckFailedStatus: 'KV Check Failed - Status: ',\n                    kvCheckFailedError: 'KV Check Failed - Error: '\n                },\n                fa: {\n                    title: '\u0645\u0631\u06A9\u0632 \u0627\u0634\u062A\u0631\u0627\u06A9',\n                    subtitle: '\u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0686\u0646\u062F \u06A9\u0644\u0627\u06CC\u0646\u062A \u2022 \u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u0648\u0634\u0645\u0646\u062F \u2022 \u062A\u0648\u0644\u06CC\u062F \u06CC\u06A9 \u06A9\u0644\u06CC\u06A9\u06CC',\n                    selectClient: '[ \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0644\u0627\u06CC\u0646\u062A ]',\n                    systemStatus: '[ \u0648\u0636\u0639\u06CC\u062A \u0633\u06CC\u0633\u062A\u0645 ]',\n                    configManagement: '[ \u0645\u062F\u06CC\u0631\u06CC\u062A \u062A\u0646\u0638\u06CC\u0645\u0627\u062A ]',\n                    relatedLinks: '[ \u0644\u06CC\u0646\u06A9\u200C\u0647\u0627\u06CC \u0645\u0631\u062A\u0628\u0637 ]',\n                    checking: '\u062F\u0631 \u062D\u0627\u0644 \u0628\u0631\u0631\u0633\u06CC...',\n                    workerRegion: '\u0645\u0646\u0637\u0642\u0647 Worker: ',\n                    detectionMethod: '\u0631\u0648\u0634 \u062A\u0634\u062E\u06CC\u0635: ',\n                    proxyIPStatus: '\u0648\u0636\u0639\u06CC\u062A ProxyIP: ',\n                    currentIP: 'IP \u0641\u0639\u0644\u06CC: ',\n                    regionMatch: '\u062A\u0637\u0628\u06CC\u0642 \u0645\u0646\u0637\u0642\u0647: ',\n                    selectionLogic: '\u0645\u0646\u0637\u0642 \u0627\u0646\u062A\u062E\u0627\u0628: ',\n                    kvStatusChecking: '\u062F\u0631 \u062D\u0627\u0644 \u0628\u0631\u0631\u0633\u06CC \u0648\u0636\u0639\u06CC\u062A KV...',\n                    kvEnabled: '\u2705 \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0641\u0639\u0627\u0644 \u0627\u0633\u062A\u060C \u0645\u06CC\u200C\u062A\u0648\u0627\u0646\u06CC\u062F \u0627\u0632 \u0645\u062F\u06CC\u0631\u06CC\u062A \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u06A9\u0646\u06CC\u062F',\n                    kvDisabled: '\u26A0\uFE0F \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0641\u0639\u0627\u0644 \u0646\u06CC\u0633\u062A \u06CC\u0627 \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0646\u0634\u062F\u0647 \u0627\u0633\u062A',\n                    specifyRegion: '\u062A\u0639\u06CC\u06CC\u0646 \u0645\u0646\u0637\u0642\u0647 (wk):',\n                    autoDetect: '\u062A\u0634\u062E\u06CC\u0635 \u062E\u0648\u062F\u06A9\u0627\u0631',\n                    saveRegion: '\u0630\u062E\u06CC\u0631\u0647 \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u0645\u0646\u0637\u0642\u0647',\n                    protocolSelection: '\u0627\u0646\u062A\u062E\u0627\u0628 \u067E\u0631\u0648\u062A\u06A9\u0644:',\n                    enableVLESS: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u067E\u0631\u0648\u062A\u06A9\u0644 VLESS',\n                    enableVMess: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u067E\u0631\u0648\u062A\u06A9\u0644 VMess',\n                    enableShadowsocks: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u067E\u0631\u0648\u062A\u06A9\u0644 Shadowsocks',\n                    enableTrojan: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u067E\u0631\u0648\u062A\u06A9\u0644 Trojan',\n                    enableXhttp: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u067E\u0631\u0648\u062A\u06A9\u0644 xhttp',\n                    enableTUIC: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u067E\u0631\u0648\u062A\u06A9\u0644 TUIC',\n                    enableHysteria2: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u067E\u0631\u0648\u062A\u06A9\u0644 Hysteria 2',\n                    enableVLESSgRPC: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u067E\u0631\u0648\u062A\u06A9\u0644 VLESS gRPC',\n                    linkOnlyHint: '\u0646\u06CC\u0627\u0632 \u0628\u0647 \u0633\u0631\u0648\u0631 \u0628\u06A9\u200C\u0627\u0646\u062F (Link-Only)',\n                    grpcHint: '\u0646\u06CC\u0627\u0632\u0645\u0646\u062F \u062F\u0627\u0645\u0646\u0647 \u0634\u062E\u0635\u06CC (gRPC)',\n                    enableECH: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC ECH (Encrypted Client Hello)',\n                    enableECHHint: '\u067E\u0633 \u0627\u0632 \u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC\u060C \u062F\u0631 \u0647\u0631 \u0628\u0627\u0631 \u062A\u0627\u0632\u0647\u200C\u0633\u0627\u0632\u06CC \u0627\u0634\u062A\u0631\u0627\u06A9\u060C \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC ECH \u0628\u0647\u200C\u0631\u0648\u0632 \u0628\u0647\u200C\u0637\u0648\u0631 \u062E\u0648\u062F\u06A9\u0627\u0631 \u0627\u0632 DoH \u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F\u0647 \u0648 \u0628\u0647 \u0644\u06CC\u0646\u06A9\u200C\u0647\u0627 \u0627\u0636\u0627\u0641\u0647 \u0645\u06CC\u200C\u0634\u0648\u062F',\n                    customDNS: '\u0633\u0631\u0648\u0631 DNS \u0633\u0641\u0627\u0631\u0634\u06CC',\n                    customDNSPlaceholder: '\u0645\u062B\u0627\u0644: https://dns.joeyblog.eu.org/joeyblog',\n                    customDNSHint: '\u0622\u062F\u0631\u0633 \u0633\u0631\u0648\u0631 DNS \u0628\u0631\u0627\u06CC \u062C\u0633\u062A\u062C\u0648\u06CC \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC ECH (\u0641\u0631\u0645\u062A DoH)',\n                    customECHDomain: '\u062F\u0627\u0645\u0646\u0647 ECH \u0633\u0641\u0627\u0631\u0634\u06CC',\n                    customECHDomainPlaceholder: '\u0645\u062B\u0627\u0644: cloudflare-ech.com',\n                    customECHDomainHint: '\u062F\u0627\u0645\u0646\u0647 \u0645\u0648\u0631\u062F \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u062F\u0631 \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC ECH\u060C \u0627\u06AF\u0631 \u062E\u0627\u0644\u06CC \u0628\u0627\u0634\u062F \u0627\u0632 \u067E\u06CC\u0634\u200C\u0641\u0631\u0636 \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0645\u06CC\u200C\u0634\u0648\u062F',\n                    trojanPassword: '\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 Trojan (\u0627\u062E\u062A\u06CC\u0627\u0631\u06CC):',\n                    customPath: '\u0645\u0633\u06CC\u0631 \u0633\u0641\u0627\u0631\u0634\u06CC (d):',\n                    customPathPlaceholder: '\u0645\u062B\u0627\u0644: /secret-path',\n                    customIP: 'ProxyIP \u0633\u0641\u0627\u0631\u0634\u06CC (p):',\n                    customIPPlaceholder: '\u0645\u062B\u0627\u0644: 1.2.3.4 \u06CC\u0627 proxy.example.com',\n                    preferredIPs: '\u0644\u06CC\u0633\u062A IP \u062A\u0631\u062C\u06CC\u062D\u06CC (yx):',\n                    preferredIPsPlaceholder: '\u0645\u062B\u0627\u0644: 1.1.1.1:443#HongKong, 8.8.8.8:443#USA',\n                    preferredIPsURL: 'URL \u0645\u0646\u0628\u0639 IP \u062A\u0631\u062C\u06CC\u062D\u06CC (yxURL):',\n                    latencyTest: '\u062A\u0633\u062A \u062A\u0627\u062E\u06CC\u0631',\n                    latencyTestIP: 'IP/\u062F\u0627\u0645\u0646\u0647 \u062A\u0633\u062A:',\n                    latencyTestIPPlaceholder: 'IP \u06CC\u0627 \u062F\u0627\u0645\u0646\u0647 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F\u060C \u0686\u0646\u062F \u0645\u0648\u0631\u062F \u0628\u0627 \u06A9\u0627\u0645\u0627 \u062C\u062F\u0627 \u0634\u0648\u0646\u062F',\n                    latencyTestPort: '\u067E\u0648\u0631\u062A:',\n                    startTest: '\u0634\u0631\u0648\u0639 \u062A\u0633\u062A',\n                    stopTest: '\u062A\u0648\u0642\u0641 \u062A\u0633\u062A',\n                    testResult: '\u0646\u062A\u06CC\u062C\u0647 \u062A\u0633\u062A:',\n                    addToYx: '\u0627\u0641\u0632\u0648\u062F\u0646 \u0628\u0647 \u0644\u06CC\u0633\u062A \u062A\u0631\u062C\u06CC\u062D\u06CC',\n                    addSelectedToYx: '\u0627\u0641\u0632\u0648\u062F\u0646 \u0645\u0648\u0627\u0631\u062F \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647',\n                    selectAll: '\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u0645\u0647',\n                    deselectAll: '\u0644\u063A\u0648 \u0627\u0646\u062A\u062E\u0627\u0628',\n                    testingInProgress: '\u062F\u0631 \u062D\u0627\u0644 \u062A\u0633\u062A...',\n                    testComplete: '\u062A\u0633\u062A \u06A9\u0627\u0645\u0644 \u0634\u062F',\n                    latencyMs: '\u062A\u0627\u062E\u06CC\u0631 (\u0647\u0646\u062F\u0634\u06CC\u06A9)',\n                    timeout: '\u0632\u0645\u0627\u0646 \u062A\u0645\u0627\u0645 \u0634\u062F',\n                    ipSource: '\u0645\u0646\u0628\u0639 IP:',\n                    manualInput: '\u0648\u0631\u0648\u062F\u06CC \u062F\u0633\u062A\u06CC',\n                    cfRandomIP: 'IP \u062A\u0635\u0627\u062F\u0641\u06CC CF',\n                    urlFetch: '\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0632 URL',\n                    randomCount: '\u062A\u0639\u062F\u0627\u062F \u062A\u0648\u0644\u06CC\u062F:',\n                    fetchURL: 'URL \u062F\u0631\u06CC\u0627\u0641\u062A:',\n                    fetchURLPlaceholder: '\u0622\u062F\u0631\u0633 URL \u0644\u06CC\u0633\u062A IP \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F',\n                    generateIP: '\u062A\u0648\u0644\u06CC\u062F IP',\n                    fetchIP: '\u062F\u0631\u06CC\u0627\u0641\u062A IP',\n                    socks5Config: '\u062A\u0646\u0638\u06CC\u0645\u0627\u062A SOCKS5 (s):',\n                    customHomepage: 'URL \u0635\u0641\u062D\u0647 \u0627\u0635\u0644\u06CC \u0633\u0641\u0627\u0631\u0634\u06CC (homepage):',\n                    customHomepagePlaceholder: '\u0645\u062B\u0627\u0644: https://example.com',\n                    customHomepageHint: '\u062A\u0646\u0638\u06CC\u0645 URL \u0633\u0641\u0627\u0631\u0634\u06CC \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0627\u0633\u062A\u062A\u0627\u0631 \u0635\u0641\u062D\u0647 \u0627\u0635\u0644\u06CC. \u0647\u0646\u06AF\u0627\u0645 \u062F\u0633\u062A\u0631\u0633\u06CC \u0628\u0647 \u0645\u0633\u06CC\u0631 \u0627\u0635\u0644\u06CC / \u0645\u062D\u062A\u0648\u0627\u06CC \u0627\u06CC\u0646 URL \u0646\u0645\u0627\u06CC\u0634 \u062F\u0627\u062F\u0647 \u0645\u06CC\u200C\u0634\u0648\u062F. \u0627\u06AF\u0631 \u062E\u0627\u0644\u06CC \u0628\u06AF\u0630\u0627\u0631\u06CC\u062F \u0635\u0641\u062D\u0647 \u062A\u0631\u0645\u06CC\u0646\u0627\u0644 \u067E\u06CC\u0634\u200C\u0641\u0631\u0636 \u0646\u0645\u0627\u06CC\u0634 \u062F\u0627\u062F\u0647 \u0645\u06CC\u200C\u0634\u0648\u062F.',\n                    customPathHint: '\u067E\u0633 \u0627\u0632 \u062A\u0646\u0638\u06CC\u0645\u060C \u0641\u0642\u0637 \u0627\u0632 \u0637\u0631\u06CC\u0642 \u0627\u06CC\u0646 \u0645\u0633\u06CC\u0631 \u0642\u0627\u0628\u0644 \u062F\u0633\u062A\u0631\u0633\u06CC \u062E\u0648\u0627\u0647\u062F \u0628\u0648\u062F. \u067E\u06CC\u0634\u0646\u0647\u0627\u062F \u0645\u06CC\u200C\u0634\u0648\u062F \u0628\u0631\u0627\u06CC \u0627\u0645\u0646\u06CC\u062A \u0628\u06CC\u0634\u062A\u0631 \u0627\u0632 \u0645\u0633\u06CC\u0631 \u067E\u06CC\u0686\u06CC\u062F\u0647 \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u06A9\u0646\u06CC\u062F.',\n                    customIPHint: '\u0645\u062E\u0641\u06CC \u06A9\u0631\u062F\u0646 IP \u0627\u0635\u0644\u06CC Worker \u06CC\u0627 \u062D\u0644 \u0645\u0634\u06A9\u0644 Cloudflare Loop. \u0641\u0631\u0645\u062A: IP:Port \u06CC\u0627 Domain:Port.',\n                    preferredIPsHint: '\u062A\u0639\u06CC\u06CC\u0646 \u062F\u0633\u062A\u06CC \u0646\u0648\u062F\u0647\u0627\u06CC \u062A\u0631\u062C\u06CC\u062D\u06CC. \u0628\u0627\u0644\u0627\u062A\u0631\u06CC\u0646 \u0627\u0648\u0644\u0648\u06CC\u062A. \u0641\u0631\u0645\u062A: IP:Port#\u062A\u0648\u0636\u06CC\u062D\u0627\u062A.',\n                    socks5ConfigHint: '\u0641\u0631\u0645\u062A: user:pass@host:port. Worker \u0627\u0632 \u0637\u0631\u06CC\u0642 \u0627\u06CC\u0646 \u067E\u0631\u0648\u06A9\u0633\u06CC \u0628\u0647 \u0647\u062F\u0641 \u0645\u062A\u0635\u0644 \u0645\u06CC\u200C\u0634\u0648\u062F.',\n                    saveConfig: '\u0630\u062E\u06CC\u0631\u0647 \u062A\u0646\u0638\u06CC\u0645\u0627\u062A',\n                    advancedControl: '\u06A9\u0646\u062A\u0631\u0644 \u067E\u06CC\u0634\u0631\u0641\u062A\u0647',\n                    subscriptionConverter: '\u0622\u062F\u0631\u0633 \u062A\u0628\u062F\u06CC\u0644 \u0627\u0634\u062A\u0631\u0627\u06A9:',\n                    builtinPreferred: '\u0646\u0648\u0639 \u062A\u0631\u062C\u06CC\u062D\u06CC \u062F\u0627\u062E\u0644\u06CC:',\n                    enablePreferredDomain: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u062F\u0627\u0645\u0646\u0647 \u062A\u0631\u062C\u06CC\u062D\u06CC',\n                    enablePreferredIP: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC IP \u062A\u0631\u062C\u06CC\u062D\u06CC',\n                    enableGitHubPreferred: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u062A\u0631\u062C\u06CC\u062D \u067E\u06CC\u0634\u200C\u0641\u0631\u0636 GitHub',\n                    enableDiverseProxies: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u06AF\u0631\u0647\u200C\u0647\u0627\u06CC \u0686\u0646\u062F\u067E\u0648\u0631\u062A\u06CC (\u062A\u0648\u0644\u06CC\u062F \u0647\u0645\u0647 \u067E\u0648\u0631\u062A\u200C\u0647\u0627)',\n                    enableDiverseProxiesHint: '\u0628\u0631\u0627\u06CC \u0647\u0631 IP \u0647\u0645\u0647 \u067E\u0648\u0631\u062A\u200C\u0647\u0627\u06CC \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC\u200C\u0634\u062F\u0647 (80\u060C 443\u060C 2053 \u0648 ...) \u0631\u0627 \u062A\u0648\u0644\u06CC\u062F \u0645\u06CC\u200C\u06A9\u0646\u062F.',\n                    allowAPIManagement: '\u0627\u062C\u0627\u0632\u0647 \u0645\u062F\u06CC\u0631\u06CC\u062A API (ae):',\n                    regionMatching: '\u062A\u0637\u0628\u06CC\u0642 \u0645\u0646\u0637\u0642\u0647 (rm):',\n                    downgradeControl: '\u06A9\u0646\u062A\u0631\u0644 \u06A9\u0627\u0647\u0634 \u0633\u0637\u062D (qj):',\n                    tlsControl: '\u06A9\u0646\u062A\u0631\u0644 TLS (dkby):',\n                    preferredControl: '\u06A9\u0646\u062A\u0631\u0644 \u062A\u0631\u062C\u06CC\u062D\u06CC (yxby):',\n                    saveAdvanced: '\u0630\u062E\u06CC\u0631\u0647 \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u067E\u06CC\u0634\u0631\u0641\u062A\u0647',\n                    loading: '\u062F\u0631 \u062D\u0627\u0644 \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC...',\n                    currentConfig: '\uD83D\uDCCD \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0645\u0633\u06CC\u0631 \u0641\u0639\u0644\u06CC',\n                    refreshConfig: '\u062A\u0627\u0632\u0647\u200C\u0633\u0627\u0632\u06CC \u062A\u0646\u0638\u06CC\u0645\u0627\u062A',\n                    resetConfig: '\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC \u062A\u0646\u0638\u06CC\u0645\u0627\u062A',\n                    subscriptionCopied: '\u0644\u06CC\u0646\u06A9 \u0627\u0634\u062A\u0631\u0627\u06A9 \u06A9\u067E\u06CC \u0634\u062F',\n                    autoSubscriptionCopied: '\u0644\u06CC\u0646\u06A9 \u0627\u0634\u062A\u0631\u0627\u06A9 \u062A\u0634\u062E\u06CC\u0635 \u062E\u0648\u062F\u06A9\u0627\u0631 \u06A9\u067E\u06CC \u0634\u062F\u060C \u06A9\u0644\u0627\u06CC\u0646\u062A \u0647\u0646\u06AF\u0627\u0645 \u062F\u0633\u062A\u0631\u0633\u06CC \u0628\u0631 \u0627\u0633\u0627\u0633 User-Agent \u0628\u0647 \u0637\u0648\u0631 \u062E\u0648\u062F\u06A9\u0627\u0631 \u062A\u0634\u062E\u06CC\u0635 \u062F\u0627\u062F\u0647 \u0648 \u0642\u0627\u0644\u0628 \u0645\u0631\u0628\u0648\u0637\u0647 \u0631\u0627 \u0628\u0631\u0645\u06CC\u200C\u06AF\u0631\u062F\u0627\u0646\u062F',\n                    trojanPasswordPlaceholder: '\u062E\u0627\u0644\u06CC \u0628\u06AF\u0630\u0627\u0631\u06CC\u062F \u062A\u0627 \u0627\u0632 UUID \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0634\u0648\u062F',\n                    trojanPasswordHint: '\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 Trojan \u0633\u0641\u0627\u0631\u0634\u06CC \u0631\u0627 \u062A\u0646\u0638\u06CC\u0645 \u06A9\u0646\u06CC\u062F. \u0627\u06AF\u0631 \u062E\u0627\u0644\u06CC \u0628\u06AF\u0630\u0627\u0631\u06CC\u062F \u0627\u0632 UUID \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0645\u06CC\u200C\u0634\u0648\u062F. \u06A9\u0644\u0627\u06CC\u0646\u062A \u0628\u0647 \u0637\u0648\u0631 \u062E\u0648\u062F\u06A9\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0628\u0627 SHA224 \u0647\u0634 \u0645\u06CC\u200C\u06A9\u0646\u062F.',\n                    protocolHint: '\u0645\u06CC\u200C\u062A\u0648\u0627\u0646\u06CC\u062F \u0686\u0646\u062F\u06CC\u0646 \u067E\u0631\u0648\u062A\u06A9\u0644 \u0631\u0627 \u0647\u0645\u0632\u0645\u0627\u0646 \u0641\u0639\u0627\u0644 \u06A9\u0646\u06CC\u062F. \u0627\u0634\u062A\u0631\u0627\u06A9 \u06AF\u0631\u0647\u200C\u0647\u0627\u06CC \u067E\u0631\u0648\u062A\u06A9\u0644\u200C\u0647\u0627\u06CC \u0627\u0646\u062A\u062E\u0627\u0628 \u0634\u062F\u0647 \u0631\u0627 \u062A\u0648\u0644\u06CC\u062F \u0645\u06CC\u200C\u06A9\u0646\u062F.<br>\u2022 VLESS WS: \u067E\u0631\u0648\u062A\u06A9\u0644 \u0627\u0633\u062A\u0627\u0646\u062F\u0627\u0631\u062F \u0645\u0628\u062A\u0646\u06CC \u0628\u0631 WebSocket<br>\u2022 VMess WS: \u067E\u0631\u0648\u062A\u06A9\u0644 VMess \u0645\u0628\u062A\u0646\u06CC \u0628\u0631 WebSocket (\u062A\u0648\u0644\u06CC\u062F \u0644\u06CC\u0646\u06A9)<br>\u2022 Shadowsocks: \u067E\u0631\u0648\u062A\u06A9\u0644 SS \u0645\u0628\u062A\u0646\u06CC \u0628\u0631 WebSocket (\u062A\u0648\u0644\u06CC\u062F \u0644\u06CC\u0646\u06A9)<br>\u2022 Trojan: \u0627\u062D\u0631\u0627\u0632 \u0647\u0648\u06CC\u062A \u0628\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 SHA224<br>\u2022 xhttp: \u067E\u0631\u0648\u062A\u06A9\u0644 \u0627\u0633\u062A\u062A\u0627\u0631 \u0645\u0628\u062A\u0646\u06CC \u0628\u0631 HTTP POST (\u0646\u06CC\u0627\u0632 \u0628\u0647 \u0627\u062A\u0635\u0627\u0644 \u062F\u0627\u0645\u0646\u0647 \u0633\u0641\u0627\u0631\u0634\u06CC \u0648 \u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC gRPC \u062F\u0627\u0631\u062F)',\n                    saveProtocol: '\u0630\u062E\u06CC\u0631\u0647 \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u067E\u0631\u0648\u062A\u06A9\u0644',\n                    subscriptionConverterPlaceholder: '\u067E\u06CC\u0634\u200C\u0641\u0631\u0636: https://url.v1.mk/sub',\n                    subscriptionConverterHint: '\u0622\u062F\u0631\u0633 API \u062A\u0628\u062F\u06CC\u0644 \u0627\u0634\u062A\u0631\u0627\u06A9 \u0633\u0641\u0627\u0631\u0634\u06CC\u060C \u0627\u06AF\u0631 \u062E\u0627\u0644\u06CC \u0628\u06AF\u0630\u0627\u0631\u06CC\u062F \u0627\u0632 \u0622\u062F\u0631\u0633 \u067E\u06CC\u0634\u200C\u0641\u0631\u0636 \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0645\u06CC\u200C\u0634\u0648\u062F',\n                    builtinPreferredHint: '\u06A9\u0646\u062A\u0631\u0644 \u0627\u06CC\u0646\u06A9\u0647 \u06A9\u062F\u0627\u0645 \u06AF\u0631\u0647\u200C\u0647\u0627\u06CC \u062A\u0631\u062C\u06CC\u062D\u06CC \u062F\u0627\u062E\u0644\u06CC \u062F\u0631 \u0627\u0634\u062A\u0631\u0627\u06A9 \u06AF\u0646\u062C\u0627\u0646\u062F\u0647 \u0634\u0648\u0646\u062F. \u0628\u0647 \u0637\u0648\u0631 \u067E\u06CC\u0634\u200C\u0641\u0631\u0636 \u0647\u0645\u0647 \u0641\u0639\u0627\u0644 \u0647\u0633\u062A\u0646\u062F.',\n                    apiEnabledDefault: '\u067E\u06CC\u0634\u200C\u0641\u0631\u0636 (API \u063A\u06CC\u0631\u0641\u0639\u0627\u0644)',\n                    apiEnabledYes: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u0645\u062F\u06CC\u0631\u06CC\u062A API',\n                    apiEnabledHint: '\u26A0\uFE0F \u0647\u0634\u062F\u0627\u0631 \u0627\u0645\u0646\u06CC\u062A\u06CC: \u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u0627\u06CC\u0646 \u06AF\u0632\u06CC\u0646\u0647 \u0627\u062C\u0627\u0632\u0647 \u0645\u06CC\u200C\u062F\u0647\u062F IP \u0647\u0627\u06CC \u062A\u0631\u062C\u06CC\u062D\u06CC \u0627\u0632 \u0637\u0631\u06CC\u0642 API \u0628\u0647 \u0637\u0648\u0631 \u067E\u0648\u06CC\u0627 \u0627\u0636\u0627\u0641\u0647 \u0634\u0648\u0646\u062F. \u062A\u0648\u0635\u06CC\u0647 \u0645\u06CC\u200C\u0634\u0648\u062F \u0641\u0642\u0637 \u062F\u0631 \u0635\u0648\u0631\u062A \u0646\u06CC\u0627\u0632 \u0641\u0639\u0627\u0644 \u06A9\u0646\u06CC\u062F.',\n                    regionMatchingDefault: '\u067E\u06CC\u0634\u200C\u0641\u0631\u0636 (\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u062A\u0637\u0628\u06CC\u0642 \u0645\u0646\u0637\u0642\u0647)',\n                    regionMatchingNo: '\u063A\u06CC\u0631\u0641\u0639\u0627\u0644\u200C\u06A9\u0631\u062F\u0646 \u062A\u0637\u0628\u06CC\u0642 \u0645\u0646\u0637\u0642\u0647',\n                    regionMatchingHint: '\u0648\u0642\u062A\u06CC \"\u0628\u0633\u062A\u0646\" \u062A\u0646\u0638\u06CC\u0645 \u0634\u0648\u062F\u060C \u062A\u0637\u0628\u06CC\u0642 \u0647\u0648\u0634\u0645\u0646\u062F \u0645\u0646\u0637\u0642\u0647 \u0627\u0646\u062C\u0627\u0645 \u0646\u0645\u06CC\u200C\u0634\u0648\u062F',\n                    downgradeControlDefault: '\u067E\u06CC\u0634\u200C\u0641\u0631\u0636 (\u0639\u062F\u0645 \u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u06A9\u0627\u0647\u0634 \u0633\u0637\u062D)',\n                    downgradeControlNo: '\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u062D\u0627\u0644\u062A \u06A9\u0627\u0647\u0634 \u0633\u0637\u062D',\n                    downgradeControlHint: '\u0648\u0642\u062A\u06CC \"\u0641\u0639\u0627\u0644\" \u062A\u0646\u0638\u06CC\u0645 \u0634\u0648\u062F: \u0627\u062A\u0635\u0627\u0644 \u0645\u0633\u062A\u0642\u06CC\u0645 CF \u0646\u0627\u0645\u0648\u0641\u0642 \u2192 \u0627\u062A\u0635\u0627\u0644 SOCKS5 \u2192 \u0622\u062F\u0631\u0633 fallback',\n                    tlsControlDefault: '\u067E\u06CC\u0634\u200C\u0641\u0631\u0636 (\u062D\u0641\u0638 \u0647\u0645\u0647 \u06AF\u0631\u0647\u200C\u0647\u0627)',\n                    tlsControlYes: '\u0641\u0642\u0637 \u06AF\u0631\u0647\u200C\u0647\u0627\u06CC TLS',\n                    tlsControlHint: '\u0648\u0642\u062A\u06CC \"\u0641\u0642\u0637 \u06AF\u0631\u0647\u200C\u0647\u0627\u06CC TLS\" \u062A\u0646\u0638\u06CC\u0645 \u0634\u0648\u062F\u060C \u0641\u0642\u0637 \u06AF\u0631\u0647\u200C\u0647\u0627\u06CC \u0628\u0627 TLS \u062A\u0648\u0644\u06CC\u062F \u0645\u06CC\u200C\u0634\u0648\u0646\u062F\u060C \u06AF\u0631\u0647\u200C\u0647\u0627\u06CC \u063A\u06CC\u0631 TLS (\u0645\u0627\u0646\u0646\u062F \u067E\u0648\u0631\u062A 80) \u062A\u0648\u0644\u06CC\u062F \u0646\u0645\u06CC\u200C\u0634\u0648\u0646\u062F',\n                    preferredControlDefault: '\u067E\u06CC\u0634\u200C\u0641\u0631\u0636 (\u0641\u0639\u0627\u0644\u200C\u0633\u0627\u0632\u06CC \u062A\u0631\u062C\u06CC\u062D)',\n                    preferredControlYes: '\u063A\u06CC\u0631\u0641\u0639\u0627\u0644\u200C\u06A9\u0631\u062F\u0646 \u0627\u0648\u0644\u0648\u06CC\u062A',\n                    preferredControlHint: '\u0648\u0642\u062A\u06CC \"\u063A\u06CC\u0631\u0641\u0639\u0627\u0644\u200C\u06A9\u0631\u062F\u0646 \u0627\u0648\u0644\u0648\u06CC\u062A\" \u062A\u0646\u0638\u06CC\u0645 \u0634\u0648\u062F\u060C \u0641\u0642\u0637 \u0627\u0632 \u0622\u062F\u0631\u0633 \u0627\u0635\u0644\u06CC \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0645\u06CC\u200C\u0634\u0648\u062F\u060C \u06AF\u0631\u0647\u200C\u0647\u0627\u06CC IP \u0648 \u062F\u0627\u0645\u0646\u0647 \u062A\u0631\u062C\u06CC\u062D\u06CC \u062A\u0648\u0644\u06CC\u062F \u0646\u0645\u06CC\u200C\u0634\u0648\u0646\u062F',\n                    regionNames: {\n                        US: '\uD83C\uDDFA\uD83C\uDDF8 \u0622\u0645\u0631\u06CC\u06A9\u0627', SG: '\uD83C\uDDF8\uD83C\uDDEC \u0633\u0646\u06AF\u0627\u067E\u0648\u0631', JP: '\uD83C\uDDEF\uD83C\uDDF5 \u0698\u0627\u067E\u0646',\n                        KR: '\uD83C\uDDF0\uD83C\uDDF7 \u06A9\u0631\u0647 \u062C\u0646\u0648\u0628\u06CC', DE: '\uD83C\uDDE9\uD83C\uDDEA \u0622\u0644\u0645\u0627\u0646', SE: '\uD83C\uDDF8\uD83C\uDDEA \u0633\u0648\u0626\u062F', NL: '\uD83C\uDDF3\uD83C\uDDF1 \u0647\u0644\u0646\u062F',\n                        FI: '\uD83C\uDDEB\uD83C\uDDEE \u0641\u0646\u0644\u0627\u0646\u062F', GB: '\uD83C\uDDEC\uD83C\uDDE7 \u0628\u0631\u06CC\u062A\u0627\u0646\u06CC\u0627', FR: '\uD83C\uDDEB\uD83C\uDDF7 \u0641\u0631\u0627\u0646\u0633\u0647', CA: '\uD83C\uDDE8\uD83C\uDDE6 \u06A9\u0627\u0646\u0627\u062F\u0627',\n                        AU: '\uD83C\uDDE6\uD83C\uDDFA \u0627\u0633\u062A\u0631\u0627\u0644\u06CC\u0627', HK: '\uD83C\uDDED\uD83C\uDDF0 \u0647\u0646\u06AF \u06A9\u0646\u06AF', TW: '\uD83C\uDDF9\uD83C\uDDFC \u062A\u0627\u06CC\u0648\u0627\u0646'\n                    },\n                    terminal: '\u062A\u0631\u0645\u06CC\u0646\u0627\u0644 v2.9.3',\n                    githubProject: '\u067E\u0631\u0648\u0698\u0647 GitHub',\n                    autoDetectClient: '\u062A\u0634\u062E\u06CC\u0635 \u062E\u0648\u062F\u06A9\u0627\u0631',\n                selectionLogicText: '\u0647\u0645\u200C\u0645\u0646\u0637\u0642\u0647 \u2192 \u0645\u0646\u0637\u0642\u0647 \u0645\u062C\u0627\u0648\u0631 \u2192 \u0633\u0627\u06CC\u0631 \u0645\u0646\u0627\u0637\u0642',\n                customIPDisabledHint: '\u0647\u0646\u06AF\u0627\u0645 \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 ProxyIP \u0633\u0641\u0627\u0631\u0634\u06CC\u060C \u0627\u0646\u062A\u062E\u0627\u0628 \u0645\u0646\u0637\u0642\u0647 \u063A\u06CC\u0631\u0641\u0639\u0627\u0644 \u0627\u0633\u062A',\n                customIPMode: '\u062D\u0627\u0644\u062A ProxyIP \u0633\u0641\u0627\u0631\u0634\u06CC (\u0645\u062A\u063A\u06CC\u0631 p \u0641\u0639\u0627\u0644 \u0627\u0633\u062A)',\n                customIPModeDesc: '\u062D\u0627\u0644\u062A IP \u0633\u0641\u0627\u0631\u0634\u06CC (\u062A\u0637\u0628\u06CC\u0642 \u0645\u0646\u0637\u0642\u0647 \u063A\u06CC\u0631\u0641\u0639\u0627\u0644 \u0627\u0633\u062A)',\n                usingCustomProxyIP: '\u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 ProxyIP \u0633\u0641\u0627\u0631\u0634\u06CC: ',\n                customIPConfig: ' (\u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0645\u062A\u063A\u06CC\u0631 p)',\n                customIPModeDisabled: '\u062D\u0627\u0644\u062A IP \u0633\u0641\u0627\u0631\u0634\u06CC\u060C \u0627\u0646\u062A\u062E\u0627\u0628 \u0645\u0646\u0637\u0642\u0647 \u063A\u06CC\u0631\u0641\u0639\u0627\u0644 \u0627\u0633\u062A',\n                manualRegion: '\u062A\u0639\u06CC\u06CC\u0646 \u0645\u0646\u0637\u0642\u0647 \u062F\u0633\u062A\u06CC',\n                manualRegionDesc: ' (\u062A\u0639\u06CC\u06CC\u0646 \u062F\u0633\u062A\u06CC)',\n                proxyIPAvailable: '10/10 \u062F\u0631 \u062F\u0633\u062A\u0631\u0633 (\u062F\u0627\u0645\u0646\u0647 \u067E\u06CC\u0634\u200C\u0641\u0631\u0636 ProxyIP \u062F\u0631 \u062F\u0633\u062A\u0631\u0633 \u0627\u0633\u062A)',\n                smartSelection: '\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u0648\u0634\u0645\u0646\u062F \u0646\u0632\u062F\u06CC\u06A9 \u062F\u0631 \u062D\u0627\u0644 \u0627\u0646\u062C\u0627\u0645 \u0627\u0633\u062A',\n                sameRegionIP: 'IP \u0647\u0645\u200C\u0645\u0646\u0637\u0642\u0647 \u062F\u0631 \u062F\u0633\u062A\u0631\u0633 \u0627\u0633\u062A (1)',\n                cloudflareDetection: '\u062A\u0634\u062E\u06CC\u0635 \u062F\u0627\u062E\u0644\u06CC Cloudflare',\n                detectionFailed: '\u062A\u0634\u062E\u06CC\u0635 \u0646\u0627\u0645\u0648\u0641\u0642',\n                apiTestResult: '\u0646\u062A\u06CC\u062C\u0647 \u062A\u0634\u062E\u06CC\u0635 API: ',\n                apiTestTime: '\u0632\u0645\u0627\u0646 \u062A\u0634\u062E\u06CC\u0635: ',\n                apiTestFailed: '\u062A\u0634\u062E\u06CC\u0635 API \u0646\u0627\u0645\u0648\u0641\u0642: ',\n                unknownError: '\u062E\u0637\u0627\u06CC \u0646\u0627\u0634\u0646\u0627\u062E\u062A\u0647',\n                apiTestError: '\u062A\u0633\u062A API \u0646\u0627\u0645\u0648\u0641\u0642: ',\n                kvNotConfigured: '\u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0646\u0634\u062F\u0647 \u0627\u0633\u062A\u060C \u0646\u0645\u06CC\u200C\u062A\u0648\u0627\u0646\u06CC\u062F \u0627\u0632 \u0639\u0645\u0644\u06A9\u0631\u062F \u0645\u062F\u06CC\u0631\u06CC\u062A \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u06A9\u0646\u06CC\u062F.\\\\n\\\\n\u0644\u0637\u0641\u0627\u064B \u062F\u0631 Cloudflare Workers:\\\\n1. \u0641\u0636\u0627\u06CC \u0646\u0627\u0645 KV \u0627\u06CC\u062C\u0627\u062F \u06A9\u0646\u06CC\u062F\\\\n2. \u0645\u062A\u063A\u06CC\u0631 \u0645\u062D\u06CC\u0637\u06CC C \u0631\u0627 \u067E\u06CC\u0648\u0646\u062F \u062F\u0647\u06CC\u062F\\\\n3. \u06A9\u062F \u0631\u0627 \u062F\u0648\u0628\u0627\u0631\u0647 \u0645\u0633\u062A\u0642\u0631 \u06A9\u0646\u06CC\u062F',\n                kvNotEnabled: '\u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0646\u0634\u062F\u0647 \u0627\u0633\u062A',\n                kvCheckFailed: '\u0628\u0631\u0631\u0633\u06CC \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0646\u0627\u0645\u0648\u0641\u0642: \u062E\u0637\u0627\u06CC \u0641\u0631\u0645\u062A \u067E\u0627\u0633\u062E',\n                kvCheckFailedStatus: '\u0628\u0631\u0631\u0633\u06CC \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0646\u0627\u0645\u0648\u0641\u0642 - \u06A9\u062F \u0648\u0636\u0639\u06CC\u062A: ',\n                kvCheckFailedError: '\u0628\u0631\u0631\u0633\u06CC \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0646\u0627\u0645\u0648\u0641\u0642 - \u062E\u0637\u0627: ',\n                preferredIPsURLPlaceholder: '\u0645\u062B\u0627\u0644: https://example.com/ips.txt',\n                preferredIPsURLHint: '\u0627\u0633\u062A\u062E\u0631\u0627\u062C IP\u0647\u0627\u06CC \u062A\u0631\u062C\u06CC\u062D\u06CC \u0627\u0632 URL (\u0645\u062A\u0646 \u0633\u0627\u062F\u0647 \u06CC\u0627 CSV).',\n                preferredIPFilterTitle: '\u0641\u06CC\u0644\u062A\u0631 IP\u0647\u0627\u06CC \u0627\u0648\u0644\u0648\u06CC\u062A\u200C\u062F\u0627\u0631',\n                ipVersionSelection: '\u0646\u0633\u062E\u0647 IP',\n                ispSelection: '\u0627\u067E\u0631\u0627\u062A\u0648\u0631',\n                ispMobile: '\u0647\u0645\u0631\u0627\u0647',\n                ispUnicom: '\u06CC\u0648\u0646\u06CC\u06A9\u0627\u0645',\n                ispTelecom: '\u062A\u0644\u06A9\u0627\u0645',\n                ipFilterHint: '\u0641\u06CC\u0644\u062A\u0631\u0647\u0627 \u0641\u0642\u0637 \u0631\u0648\u06CC \u0644\u06CC\u0633\u062A\u200C\u0647\u0627\u06CC \u062F\u0631\u06CC\u0627\u0641\u062A\u200C\u0634\u062F\u0647 \u0627\u0639\u0645\u0627\u0644 \u0645\u06CC\u200C\u0634\u0648\u0646\u062F\u061B \u0648\u0631\u0648\u062F\u06CC \u062F\u0633\u062A\u06CC \u062A\u063A\u06CC\u06CC\u0631\u06CC \u0646\u0645\u06CC\u200C\u06A9\u0646\u062F.',\n                threadsLabel: '\u0631\u0634\u062A\u0647\u200C\u0647\u0627',\n                cityFilterAll: '\u0647\u0645\u0647 \u0634\u0647\u0631\u0647\u0627',\n                cityFilterFastest10: '\u06F1\u06F0 \u0645\u0648\u0631\u062F \u0633\u0631\u06CC\u0639\u200C\u062A\u0631',\n                overwriteAdd: '\u0628\u0627\u0632\u0646\u0648\u06CC\u0633\u06CC',\n                appendAdd: '\u0627\u0641\u0632\u0648\u062F\u0646',\n                socks5ConfigPlaceholder: '\u0645\u062B\u0627\u0644: user:pass@host:port',\n                generated: '\u062A\u0648\u0644\u06CC\u062F \u0634\u062F:',\n                cfRandomIPs: 'IP \u062A\u0635\u0627\u062F\u0641\u06CC CF',\n                pleaseEnterUrl: '\u0644\u0637\u0641\u0627\u064B URL \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F',\n                fetching: '\u062F\u0631 \u062D\u0627\u0644 \u062F\u0631\u06CC\u0627\u0641\u062A...',\n                fetched: '\u062F\u0631\u06CC\u0627\u0641\u062A \u0634\u062F:',\n                ipCountSuffix: '\u0622\u06CC\u200C\u067E\u06CC',\n                noDataFound: '\u062F\u0627\u062F\u0647\u200C\u0627\u06CC \u06CC\u0627\u0641\u062A \u0646\u0634\u062F',\n                fetchFailed: '\u062F\u0631\u06CC\u0627\u0641\u062A \u0646\u0627\u0645\u0648\u0641\u0642',\n                pleaseEnterIPOrDomain: '\u0644\u0637\u0641\u0627\u064B IP \u06CC\u0627 \u062F\u0627\u0645\u0646\u0647 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F',\n                testing: '\u062F\u0631 \u062D\u0627\u0644 \u062A\u0633\u062A',\n                testStopped: '\u062A\u0633\u062A \u0645\u062A\u0648\u0642\u0641 \u0634\u062F',\n                selectAtLeastOne: '\u0644\u0637\u0641\u0627\u064B \u062D\u062F\u0627\u0642\u0644 \u06CC\u06A9 \u06AF\u0632\u06CC\u0646\u0647 \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F',\n                saving: '\u062F\u0631 \u062D\u0627\u0644 \u0630\u062E\u06CC\u0631\u0647...',\n                overwritten: '\u0628\u0627\u0632\u0646\u0648\u06CC\u0633\u06CC \u0634\u062F:',\n                itemsSaved: ' \u0645\u0648\u0631\u062F',\n                appended: '\u0627\u0641\u0632\u0648\u062F\u0647 \u0634\u062F:',\n                saveFailed: '\u0630\u062E\u06CC\u0631\u0647 \u0646\u0627\u0645\u0648\u0641\u0642',\n                timeoutLabel: '\u0632\u0645\u0627\u0646 \u062A\u0645\u0627\u0645 \u0634\u062F',\n                configNotConfigured: '\u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0646\u0634\u062F\u0647 \u0627\u0633\u062A\u060C \u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u0645\u0645\u06A9\u0646 \u0646\u06CC\u0633\u062A.',\n                configLoadFailed: '\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u0646\u0627\u0645\u0648\u0641\u0642 \u0628\u0648\u062F',\n                configLoadFailedStatus: '\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u0646\u0627\u0645\u0648\u0641\u0642: ',\n                currentConfigLabel: '\u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0641\u0639\u0644\u06CC:\\\\n',\n                currentConfigEmpty: '(\u0628\u062F\u0648\u0646 \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC)',\n                currentConfigUnset: '(\u062A\u0646\u0638\u06CC\u0645 \u0646\u0634\u062F\u0647)',\n                pathTypeCustom: '\u0646\u0648\u0639 \u0627\u0633\u062A\u0641\u0627\u062F\u0647: \u0645\u0633\u06CC\u0631 \u0633\u0641\u0627\u0631\u0634\u06CC (d)',\n                pathTypeUUID: '\u0646\u0648\u0639 \u0627\u0633\u062A\u0641\u0627\u062F\u0647: \u0645\u0633\u06CC\u0631 UUID (u)',\n                currentPathLabel: '\u0645\u0633\u06CC\u0631 \u0641\u0639\u0644\u06CC',\n                accessUrlLabel: '\u0622\u062F\u0631\u0633 \u062F\u0633\u062A\u0631\u0633\u06CC',\n                echStatusLabel: '\u0648\u0636\u0639\u06CC\u062A ECH:',\n                statusEnabled: '\u0641\u0639\u0627\u0644',\n                statusDisabled: '\u063A\u06CC\u0631\u0641\u0639\u0627\u0644',\n                statusCheckFailed: '\u0628\u0631\u0631\u0633\u06CC \u0646\u0627\u0645\u0648\u0641\u0642',\n                configLengthLabel: '\u0637\u0648\u0644 \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC',\n                debugConsoleTitle: '\u06A9\u0646\u0633\u0648\u0644 \u0627\u0634\u06A9\u0627\u0644\u200C\u0632\u062F\u0627\u06CC\u06CC',\n                debugShow: '\u0646\u0645\u0627\u06CC\u0634',\n                debugHide: '\u067E\u0646\u0647\u0627\u0646',\n                debugReady: '\u06A9\u0646\u0633\u0648\u0644 \u0622\u0645\u0627\u062F\u0647 \u0627\u0633\u062A',\n                debugUnknownError: '\u062E\u0637\u0627\u06CC \u0646\u0627\u0634\u0646\u0627\u062E\u062A\u0647',\n                debugUnhandledPromise: '\u0631\u062F Promise \u0628\u062F\u0648\u0646 \u0645\u062F\u06CC\u0631\u06CC\u062A',\n                kvNotConfiguredSave: 'KV \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0646\u0634\u062F\u0647 \u0627\u0633\u062A\u060C \u0630\u062E\u06CC\u0631\u0647 \u0645\u0645\u06A9\u0646 \u0646\u06CC\u0633\u062A. \u0644\u0637\u0641\u0627\u064B \u062F\u0631 Cloudflare Workers KV \u0631\u0627 \u062A\u0646\u0638\u06CC\u0645 \u06A9\u0646\u06CC\u062F.',\n                kvNotConfiguredReset: 'KV \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0646\u0634\u062F\u0647 \u0627\u0633\u062A\u060C \u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC \u0645\u0645\u06A9\u0646 \u0646\u06CC\u0633\u062A.',\n                resetConfirm: '\u0622\u06CC\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062A\u06CC\u062F \u06A9\u0647 \u0647\u0645\u0647 \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC \u0634\u0648\u0646\u062F\u061F \u0627\u06CC\u0646 \u06A9\u0627\u0631 KV \u0631\u0627 \u067E\u0627\u06A9 \u06A9\u0631\u062F\u0647 \u0648 \u0628\u0647 \u0645\u062A\u063A\u06CC\u0631\u0647\u0627\u06CC \u0645\u062D\u06CC\u0637\u06CC \u0628\u0631\u0645\u06CC\u200C\u06AF\u0631\u062F\u0627\u0646\u062F.',\n                resetFailed: '\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC \u0646\u0627\u0645\u0648\u0641\u0642',\n                resetSuccess: '\u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC \u0634\u062F',\n                unknown: '\u0646\u0627\u0645\u0634\u062E\u0635'\n            }\n        };\n\n            translations.fa = Object.assign({}, translations.en, translations.fa);\n            translations.zh = Object.assign({}, translations.en, {\n                title: '\u7EC8\u7AEF',\n                terminal: '\u7EC8\u7AEF v2.9.3',\n                congratulations: '\u606D\u559C\uFF0C\u4F60\u6210\u529F\u4E86\uFF01',\n                enterU: '\u8BF7\u8F93\u5165\u4F60\u7684 U \u53D8\u91CF\u7684\u503C',\n                enterD: '\u8BF7\u8F93\u5165\u4F60\u7684 D \u53D8\u91CF\u7684\u503C',\n                command: '\u547D\u4EE4\uFF1Aconnect [',\n                uuid: 'UUID',\n                path: '\u8DEF\u5F84',\n                inputU: '\u8F93\u5165 U \u53D8\u91CF\u5185\u5BB9\u5E76\u56DE\u8F66...',\n                inputD: '\u8F93\u5165 D \u53D8\u91CF\u5185\u5BB9\u5E76\u56DE\u8F66...',\n                connecting: '\u8FDE\u63A5\u4E2D...',\n                invading: '\u6B63\u5728\u8FDE\u63A5...',\n                success: '\u8FDE\u63A5\u6210\u529F\uFF01\u6B63\u5728\u8FD4\u56DE\u7ED3\u679C...',\n                error: '\u9519\u8BEF\uFF1AUUID \u683C\u5F0F\u65E0\u6548',\n                reenter: '\u8BF7\u91CD\u65B0\u8F93\u5165\u6709\u6548\u7684 UUID',\n                subtitle: '\u591A\u5BA2\u6237\u7AEF\u652F\u6301 \u2022 \u667A\u80FD\u4F18\u5316 \u2022 \u4E00\u952E\u751F\u6210',\n                selectClient: '[ \u9009\u62E9\u5BA2\u6237\u7AEF ]',\n                systemStatus: '[ \u7CFB\u7EDF\u72B6\u6001 ]',\n                configManagement: '[ \u914D\u7F6E\u7BA1\u7406 ]',\n                relatedLinks: '[ \u76F8\u5173\u94FE\u63A5 ]',\n                checking: '\u68C0\u67E5\u4E2D...',\n                workerRegion: 'Worker \u533A\u57DF\uFF1A',\n                detectionMethod: '\u68C0\u6D4B\u65B9\u5F0F\uFF1A',\n                proxyIPStatus: 'ProxyIP \u72B6\u6001\uFF1A',\n                currentIP: '\u5F53\u524D IP\uFF1A',\n                regionMatch: '\u533A\u57DF\u5339\u914D\uFF1A',\n                selectionLogic: '\u9009\u62E9\u903B\u8F91\uFF1A',\n                kvStatusChecking: '\u6B63\u5728\u68C0\u67E5 KV \u72B6\u6001...',\n                kvEnabled: '\u2705 KV \u5DF2\u542F\u7528\uFF0C\u53EF\u8FDB\u884C\u914D\u7F6E\u7BA1\u7406',\n                kvDisabled: '\u26A0\uFE0F KV \u672A\u542F\u7528\u6216\u672A\u914D\u7F6E',\n                specifyRegion: '\u6307\u5B9A\u533A\u57DF (wk)\uFF1A',\n                autoDetect: '\u81EA\u52A8\u68C0\u6D4B',\n                saveRegion: '\u4FDD\u5B58\u533A\u57DF\u914D\u7F6E',\n                protocolSelection: '\u534F\u8BAE\u9009\u62E9\uFF1A',\n                enableVLESS: '\u542F\u7528 VLESS \u534F\u8BAE',\n                enableVMess: '\u542F\u7528 VMess \u534F\u8BAE',\n                enableShadowsocks: '\u542F\u7528 Shadowsocks \u534F\u8BAE',\n                enableTrojan: '\u542F\u7528 Trojan \u534F\u8BAE',\n                enableXhttp: '\u542F\u7528 xhttp \u534F\u8BAE',\n                enableTUIC: '\u542F\u7528 TUIC \u534F\u8BAE',\n                enableHysteria2: '\u542F\u7528 Hysteria 2 \u534F\u8BAE',\n                enableVLESSgRPC: '\u542F\u7528 VLESS gRPC \u534F\u8BAE',\n                linkOnlyHint: '\u9700\u8981\u5916\u90E8\u540E\u7AEF\uFF08\u4EC5\u751F\u6210\u94FE\u63A5\uFF09',\n                grpcHint: '\u9700\u8981\u81EA\u5B9A\u4E49\u57DF\u540D\uFF08gRPC\uFF09',\n                trojanPassword: 'Trojan \u5BC6\u7801\uFF08\u53EF\u9009\uFF09\uFF1A',\n                customPath: '\u81EA\u5B9A\u4E49\u8DEF\u5F84 (d)\uFF1A',\n                customPathPlaceholder: '\u4F8B\u5982\uFF1A/secret-path',\n                customIP: '\u81EA\u5B9A\u4E49 ProxyIP (p)\uFF1A',\n                customIPPlaceholder: '\u4F8B\u5982\uFF1A1.2.3.4 \u6216 proxy.example.com',\n                preferredIPs: '\u4F18\u9009 IP \u5217\u8868 (yx)\uFF1A',\n                preferredIPsPlaceholder: '\u4F8B\u5982\uFF1A1.1.1.1:443#HongKong, 8.8.8.8:443#USA',\n                preferredIPsURL: '\u4F18\u9009 IP \u6765\u6E90 URL (yxURL)\uFF1A',\n                latencyTest: '\u5EF6\u8FDF\u6D4B\u8BD5',\n                latencyTestIP: '\u6D4B\u8BD5 IP/\u57DF\u540D\uFF1A',\n                latencyTestIPPlaceholder: '\u8F93\u5165 IP \u6216\u57DF\u540D\uFF0C\u7528\u9017\u53F7\u5206\u9694',\n                latencyTestPort: '\u7AEF\u53E3\uFF1A',\n                startTest: '\u5F00\u59CB\u6D4B\u8BD5',\n                stopTest: '\u505C\u6B62\u6D4B\u8BD5',\n                testResult: '\u6D4B\u8BD5\u7ED3\u679C\uFF1A',\n                addToYx: '\u6DFB\u52A0\u5230\u4F18\u9009\u5217\u8868',\n                addSelectedToYx: '\u6DFB\u52A0\u9009\u4E2D\u9879\u5230\u4F18\u9009\u5217\u8868',\n                selectAll: '\u5168\u9009',\n                deselectAll: '\u53D6\u6D88\u5168\u9009',\n                testingInProgress: '\u6D4B\u8BD5\u4E2D...',\n                testComplete: '\u6D4B\u8BD5\u5B8C\u6210',\n                latencyMs: '\u5EF6\u8FDF\uFF08HTTP \u63E1\u624B\uFF09',\n                timeout: '\u8D85\u65F6',\n                ipSource: 'IP \u6765\u6E90\uFF1A',\n                manualInput: '\u624B\u52A8\u8F93\u5165',\n                cfRandomIP: 'CF \u968F\u673A IP',\n                urlFetch: '\u4ECE URL \u83B7\u53D6',\n                randomCount: '\u751F\u6210\u6570\u91CF\uFF1A',\n                fetchURL: '\u83B7\u53D6 URL\uFF1A',\n                fetchURLPlaceholder: '\u8F93\u5165 IP \u5217\u8868 URL',\n                generateIP: '\u751F\u6210 IP',\n                fetchIP: '\u83B7\u53D6 IP',\n                socks5Config: 'SOCKS5 \u914D\u7F6E (s)\uFF1A',\n                customHomepage: '\u81EA\u5B9A\u4E49\u9996\u9875 URL (homepage)\uFF1A',\n                customHomepagePlaceholder: '\u4F8B\u5982\uFF1Ahttps://example.com',\n                customHomepageHint: '\u8BBE\u7F6E\u81EA\u5B9A\u4E49 URL \u4F5C\u4E3A\u4F2A\u88C5\u9996\u9875\u3002\u8BBF\u95EE\u6839\u8DEF\u5F84 / \u65F6\u663E\u793A\u8BE5\u5185\u5BB9\u3002\u7559\u7A7A\u5219\u663E\u793A\u9ED8\u8BA4\u7EC8\u7AEF\u9875\u9762\u3002',\n                customPathHint: '\u82E5\u8BBE\u7F6E\uFF0C\u5C06\u53EA\u80FD\u901A\u8FC7\u8BE5\u8DEF\u5F84\u8BBF\u95EE\uFF0CUUID \u8BBF\u95EE\u5C06\u88AB\u7981\u7528\u3002\u5EFA\u8BAE\u4F7F\u7528\u590D\u6742\u8DEF\u5F84\u9632\u6B62\u626B\u63CF\u3002',\n                customIPHint: '\u9690\u85CF Worker \u771F\u5B9E IP\uFF0C\u6216\u89E3\u51B3 Cloudflare Loop \u95EE\u9898\u3002\u652F\u6301 IP:\u7AEF\u53E3 \u6216 \u57DF\u540D:\u7AEF\u53E3\u3002',\n                preferredIPsHint: '\u624B\u52A8\u6307\u5B9A\u4F18\u9009\u8282\u70B9\uFF0C\u4F18\u5148\u7EA7\u6700\u9AD8\u3002\u683C\u5F0F\uFF1AIP:\u7AEF\u53E3#\u5907\u6CE8\u3002',\n                socks5ConfigHint: '\u683C\u5F0F\uFF1Auser:pass@host:port\u3002Worker \u5C06\u901A\u8FC7\u8BE5\u4EE3\u7406\u8FDE\u63A5\u76EE\u6807\u3002',\n                saveConfig: '\u4FDD\u5B58\u914D\u7F6E',\n                advancedControl: '\u9AD8\u7EA7\u63A7\u5236',\n                subscriptionConverter: '\u8BA2\u9605\u8F6C\u6362\u5730\u5740\uFF1A',\n                builtinPreferred: '\u5185\u7F6E\u4F18\u9009\u7C7B\u578B\uFF1A',\n                enablePreferredDomain: '\u542F\u7528\u4F18\u9009\u57DF\u540D',\n                enablePreferredIP: '\u542F\u7528\u4F18\u9009 IP',\n                enableGitHubPreferred: '\u542F\u7528 GitHub \u9ED8\u8BA4\u4F18\u9009',\n                allowAPIManagement: '\u5141\u8BB8 API \u7BA1\u7406 (ae)\uFF1A',\n                regionMatching: '\u533A\u57DF\u5339\u914D (rm)\uFF1A',\n                downgradeControl: '\u964D\u7EA7\u63A7\u5236 (qj)\uFF1A',\n                tlsControl: 'TLS \u63A7\u5236 (dkby)\uFF1A',\n                preferredControl: '\u4F18\u9009\u63A7\u5236 (yxby)\uFF1A',\n                saveAdvanced: '\u4FDD\u5B58\u9AD8\u7EA7\u914D\u7F6E',\n                loading: '\u52A0\u8F7D\u4E2D...',\n                currentConfig: '\uD83D\uDCCD \u5F53\u524D\u8DEF\u5F84\u914D\u7F6E',\n                refreshConfig: '\u5237\u65B0\u914D\u7F6E',\n                resetConfig: '\u91CD\u7F6E\u914D\u7F6E',\n                subscriptionCopied: '\u8BA2\u9605\u94FE\u63A5\u5DF2\u590D\u5236',\n                autoSubscriptionCopied: '\u5DF2\u590D\u5236\u81EA\u52A8\u68C0\u6D4B\u8BA2\u9605\u94FE\u63A5\uFF0C\u5C06\u6839\u636E User-Agent \u8BC6\u522B\u5BA2\u6237\u7AEF\u3002',\n                trojanPasswordPlaceholder: '\u7559\u7A7A\u5219\u4F7F\u7528 UUID',\n                trojanPasswordHint: '\u8BBE\u7F6E\u81EA\u5B9A\u4E49 Trojan \u5BC6\u7801\u3002\u7559\u7A7A\u5219\u4F7F\u7528 UUID\u3002\u5BA2\u6237\u7AEF\u4F1A\u7528 SHA224 \u8FDB\u884C\u54C8\u5E0C\u3002',\n                protocolHint: '\u53EF\u542F\u7528\u591A\u79CD\u534F\u8BAE\u3002<br>\u2022 VLESS WS\uFF1A\u6807\u51C6 WebSocket \u534F\u8BAE<br>\u2022 VMess WS\uFF1A\u57FA\u4E8E WS \u7684 VMess\uFF08\u4EC5\u751F\u6210\u94FE\u63A5\uFF09<br>\u2022 Shadowsocks\uFF1A\u57FA\u4E8E WS \u7684 SS\uFF08\u4EC5\u751F\u6210\u94FE\u63A5\uFF09<br>\u2022 Trojan\uFF1A\u4F7F\u7528 SHA224 \u5BC6\u7801\u8BA4\u8BC1<br>\u2022 xhttp\uFF1AHTTP POST \u4F2A\u88C5\uFF08\u9700\u8981\u81EA\u5B9A\u4E49\u57DF\u540D & gRPC\uFF09',\n                enableECH: '\u542F\u7528 ECH\uFF08\u52A0\u5BC6\u5BA2\u6237\u7AEF Hello\uFF09',\n                enableECHHint: '\u542F\u7528\u540E\u5C06\u4ECE DoH \u83B7\u53D6 ECH \u914D\u7F6E\u5E76\u5728\u6BCF\u6B21\u8BA2\u9605\u5237\u65B0\u65F6\u52A0\u5165\u94FE\u63A5',\n                customDNS: '\u81EA\u5B9A\u4E49 DNS \u670D\u52A1\u5668',\n                customDNSPlaceholder: '\u4F8B\u5982\uFF1Ahttps://dns.joeyblog.eu.org/joeyblog',\n                customDNSHint: '\u7528\u4E8E\u67E5\u8BE2 ECH \u914D\u7F6E\u7684 DNS \u670D\u52A1\u5668\uFF08DoH \u683C\u5F0F\uFF09',\n                customECHDomain: '\u81EA\u5B9A\u4E49 ECH \u57DF\u540D',\n                customECHDomainPlaceholder: '\u4F8B\u5982\uFF1Acloudflare-ech.com',\n                customECHDomainHint: 'ECH \u914D\u7F6E\u4F7F\u7528\u7684\u57DF\u540D\uFF0C\u7559\u7A7A\u4E3A\u9ED8\u8BA4',\n                saveProtocol: '\u4FDD\u5B58\u534F\u8BAE\u914D\u7F6E',\n                subscriptionConverterPlaceholder: '\u9ED8\u8BA4\uFF1Ahttps://url.v1.mk/sub',\n                subscriptionConverterHint: '\u81EA\u5B9A\u4E49\u8BA2\u9605\u8F6C\u6362 API\uFF0C\u7559\u7A7A\u4F7F\u7528\u9ED8\u8BA4',\n                builtinPreferredHint: '\u63A7\u5236\u5185\u7F6E\u4F18\u9009\u8282\u70B9\u662F\u5426\u5305\u542B\uFF0C\u9ED8\u8BA4\u5168\u90E8\u542F\u7528',\n                apiEnabledDefault: '\u9ED8\u8BA4\uFF08API \u7981\u7528\uFF09',\n                apiEnabledYes: '\u542F\u7528 API \u7BA1\u7406',\n                apiEnabledHint: '\u26A0\uFE0F \u5B89\u5168\u63D0\u793A\uFF1A\u542F\u7528 API \u5141\u8BB8\u52A8\u6001\u6DFB\u52A0\u4F18\u9009 IP\uFF0C\u4EC5\u5728\u9700\u8981\u65F6\u5F00\u542F',\n                regionMatchingDefault: '\u9ED8\u8BA4\uFF08\u542F\u7528\u533A\u57DF\u5339\u914D\uFF09',\n                regionMatchingNo: '\u5173\u95ED\u533A\u57DF\u5339\u914D',\n                regionMatchingHint: '\u8BBE\u7F6E\u4E3A\u201C\u5173\u95ED\u201D\u540E\uFF0C\u667A\u80FD\u533A\u57DF\u5339\u914D\u5C06\u505C\u6B62',\n                downgradeControlDefault: '\u9ED8\u8BA4\uFF08\u7981\u7528\u964D\u7EA7\uFF09',\n                downgradeControlNo: '\u542F\u7528\u964D\u7EA7\u6A21\u5F0F',\n                downgradeControlHint: '\u542F\u7528\u540E\uFF1ACF \u76F4\u8FDE\u5931\u8D25 -> SOCKS5 -> Fallback',\n                tlsControlDefault: '\u9ED8\u8BA4\uFF08\u4FDD\u7559\u6240\u6709\u8282\u70B9\uFF09',\n                tlsControlYes: '\u4EC5 TLS \u8282\u70B9',\n                tlsControlHint: '\u8BBE\u7F6E\u4E3A\u201C\u4EC5 TLS \u8282\u70B9\u201D\u65F6\uFF0C\u5C06\u4E0D\u751F\u6210\u975E TLS \u8282\u70B9\uFF08\u5982 80 \u7AEF\u53E3\uFF09',\n                preferredControlDefault: '\u9ED8\u8BA4\uFF08\u542F\u7528\u4F18\u9009\uFF09',\n                preferredControlYes: '\u5173\u95ED\u4F18\u9009',\n                preferredControlHint: '\u8BBE\u7F6E\u4E3A\u201C\u5173\u95ED\u4F18\u9009\u201D\u65F6\uFF0C\u4EC5\u4F7F\u7528\u539F\u751F\u5730\u5740',\n                regionNames: {\n                    US: '\uD83C\uDDFA\uD83C\uDDF8 \u7F8E\u56FD', SG: '\uD83C\uDDF8\uD83C\uDDEC \u65B0\u52A0\u5761', JP: '\uD83C\uDDEF\uD83C\uDDF5 \u65E5\u672C',\n                    KR: '\uD83C\uDDF0\uD83C\uDDF7 \u97E9\u56FD', DE: '\uD83C\uDDE9\uD83C\uDDEA \u5FB7\u56FD', SE: '\uD83C\uDDF8\uD83C\uDDEA \u745E\u5178', NL: '\uD83C\uDDF3\uD83C\uDDF1 \u8377\u5170',\n                    FI: '\uD83C\uDDEB\uD83C\uDDEE \u82AC\u5170', GB: '\uD83C\uDDEC\uD83C\uDDE7 \u82F1\u56FD', FR: '\uD83C\uDDEB\uD83C\uDDF7 \u6CD5\u56FD', CA: '\uD83C\uDDE8\uD83C\uDDE6 \u52A0\u62FF\u5927',\n                    AU: '\uD83C\uDDE6\uD83C\uDDFA \u6FB3\u5927\u5229\u4E9A', HK: '\uD83C\uDDED\uD83C\uDDF0 \u9999\u6E2F', TW: '\uD83C\uDDF9\uD83C\uDDFC \u53F0\u6E7E'\n                },\n                githubProject: 'GitHub \u9879\u76EE',\n                autoDetectClient: '\u81EA\u52A8\u8BC6\u522B',\n                selectionLogicText: '\u540C\u533A\u57DF -> \u4E34\u8FD1\u533A\u57DF -> \u5176\u4ED6\u533A\u57DF',\n                customIPDisabledHint: '\u4F7F\u7528\u81EA\u5B9A\u4E49 ProxyIP \u65F6\u533A\u57DF\u9009\u62E9\u5DF2\u7981\u7528',\n                customIPMode: '\u81EA\u5B9A\u4E49 ProxyIP \u6A21\u5F0F\uFF08p \u53D8\u91CF\u542F\u7528\uFF09',\n                customIPModeDesc: '\u81EA\u5B9A\u4E49 IP \u6A21\u5F0F\uFF08\u5DF2\u7981\u7528\u533A\u57DF\u5339\u914D\uFF09',\n                usingCustomProxyIP: '\u4F7F\u7528\u81EA\u5B9A\u4E49 ProxyIP\uFF1A',\n                customIPConfig: '\uFF08p \u53D8\u91CF\u914D\u7F6E\uFF09',\n                customIPModeDisabled: '\u81EA\u5B9A\u4E49 IP \u6A21\u5F0F\uFF0C\u533A\u57DF\u9009\u62E9\u5DF2\u7981\u7528',\n                manualRegion: '\u624B\u52A8\u6307\u5B9A\u533A\u57DF',\n                manualRegionDesc: '\uFF08\u624B\u52A8\uFF09',\n                proxyIPAvailable: '10/10 \u53EF\u7528\uFF08\u9884\u8BBE ProxyIP \u57DF\u540D\u53EF\u7528\uFF09',\n                smartSelection: '\u667A\u80FD\u5C31\u8FD1\u9009\u62E9',\n                sameRegionIP: '\u540C\u533A\u57DF IP \u53EF\u7528\uFF081\u4E2A\uFF09',\n                cloudflareDetection: 'Cloudflare \u5185\u7F6E\u68C0\u6D4B',\n                detectionFailed: '\u68C0\u6D4B\u5931\u8D25',\n                apiTestResult: 'API \u68C0\u6D4B\u7ED3\u679C\uFF1A',\n                apiTestTime: '\u68C0\u6D4B\u8017\u65F6\uFF1A',\n                apiTestFailed: 'API \u68C0\u6D4B\u5931\u8D25\uFF1A',\n                unknownError: '\u672A\u77E5\u9519\u8BEF',\n                apiTestError: 'API \u6D4B\u8BD5\u5931\u8D25\uFF1A',\n                kvNotConfigured: 'KV \u5B58\u50A8\u672A\u914D\u7F6E\uFF0C\u914D\u7F6E\u7BA1\u7406\u4E0D\u53EF\u7528\u3002\\\\n\\\\n\u8BF7\u5728 Cloudflare Workers\uFF1A\\\\n1. \u521B\u5EFA KV Namespace\\\\n2. \u7ED1\u5B9A\u53D8\u91CF C\\\\n3. \u91CD\u65B0\u90E8\u7F72',\n                kvNotEnabled: 'KV \u5B58\u50A8\u672A\u542F\u7528',\n                kvCheckFailed: 'KV \u68C0\u67E5\u5931\u8D25\uFF1A\u54CD\u5E94\u65E0\u6548',\n                kvCheckFailedStatus: 'KV \u68C0\u67E5\u5931\u8D25 - \u72B6\u6001\u7801\uFF1A',\n                kvCheckFailedError: 'KV \u68C0\u67E5\u5931\u8D25 - \u9519\u8BEF\uFF1A ',\n                preferredIPsURLPlaceholder: '\u4F8B\u5982\uFF1Ahttps://example.com/ips.txt',\n                preferredIPsURLHint: '\u4ECE URL \u62C9\u53D6\u4F18\u9009 IP\uFF0C\u652F\u6301\u7EAF\u6587\u672C\u6216 CSV\u3002',\n                preferredIPFilterTitle: '\u4F18\u9009 IP \u7B5B\u9009',\n                ipVersionSelection: 'IP \u7248\u672C',\n                ispSelection: '\u8FD0\u8425\u5546',\n                ispMobile: '\u79FB\u52A8',\n                ispUnicom: '\u8054\u901A',\n                ispTelecom: '\u7535\u4FE1',\n                ipFilterHint: '\u8FC7\u6EE4\u4EC5\u4F5C\u7528\u4E8E\u5217\u8868\u89E3\u6790\uFF0C\u624B\u52A8\u8F93\u5165\u4E0D\u53D7\u5F71\u54CD\u3002',\n                threadsLabel: '\u7EBF\u7A0B',\n                cityFilterAll: '\u5168\u90E8\u57CE\u5E02',\n                cityFilterFastest10: '\u6700\u5FEB 10 \u4E2A',\n                overwriteAdd: '\u8986\u76D6\u5199\u5165',\n                appendAdd: '\u8FFD\u52A0\u5199\u5165',\n                socks5ConfigPlaceholder: '\u4F8B\u5982\uFF1Auser:pass@host:port',\n                generated: '\u5DF2\u751F\u6210',\n                cfRandomIPs: 'CF \u968F\u673A IP',\n                pleaseEnterUrl: '\u8BF7\u8F93\u5165 URL',\n                fetching: '\u83B7\u53D6\u4E2D...',\n                fetched: '\u5DF2\u83B7\u53D6',\n                ipCountSuffix: '\u4E2A IP',\n                noDataFound: '\u672A\u627E\u5230\u6570\u636E',\n                fetchFailed: '\u83B7\u53D6\u5931\u8D25',\n                pleaseEnterIPOrDomain: '\u8BF7\u8F93\u5165 IP \u6216\u57DF\u540D',\n                testing: '\u6D4B\u8BD5\u4E2D',\n                testStopped: '\u6D4B\u8BD5\u5DF2\u505C\u6B62',\n                selectAtLeastOne: '\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u4E2A\u9009\u9879',\n                saving: '\u4FDD\u5B58\u4E2D...',\n                overwritten: '\u5DF2\u8986\u76D6',\n                itemsSaved: ' \u9879',\n                appended: '\u5DF2\u8FFD\u52A0',\n                saveFailed: '\u4FDD\u5B58\u5931\u8D25',\n                timeoutLabel: '\u8D85\u65F6',\n                configNotConfigured: 'KV \u5B58\u50A8\u672A\u914D\u7F6E\uFF0C\u65E0\u6CD5\u52A0\u8F7D\u914D\u7F6E',\n                configLoadFailed: '\u52A0\u8F7D\u914D\u7F6E\u5931\u8D25',\n                configLoadFailedStatus: '\u52A0\u8F7D\u914D\u7F6E\u5931\u8D25\uFF1A',\n                currentConfigLabel: '\u5F53\u524D\u914D\u7F6E\uFF1A\\\\n',\n                currentConfigEmpty: '\uFF08\u6682\u65E0\u914D\u7F6E\uFF09',\n                currentConfigUnset: '\uFF08\u672A\u8BBE\u7F6E\uFF09',\n                pathTypeCustom: '\u4F7F\u7528\u7C7B\u578B\uFF1A\u81EA\u5B9A\u4E49\u8DEF\u5F84 (d)',\n                pathTypeUUID: '\u4F7F\u7528\u7C7B\u578B\uFF1AUUID \u8DEF\u5F84 (u)',\n                currentPathLabel: '\u5F53\u524D\u8DEF\u5F84',\n                accessUrlLabel: '\u8BBF\u95EE\u5730\u5740',\n                echStatusLabel: 'ECH \u72B6\u6001\uFF1A',\n                statusEnabled: '\u5DF2\u542F\u7528',\n                statusDisabled: '\u5DF2\u7981\u7528',\n                statusCheckFailed: '\u68C0\u67E5\u5931\u8D25',\n                configLengthLabel: '\u914D\u7F6E\u957F\u5EA6',\n                debugConsoleTitle: '\u8C03\u8BD5\u63A7\u5236\u53F0',\n                debugShow: '\u5C55\u5F00',\n                debugHide: '\u6536\u8D77',\n                debugReady: '\u63A7\u5236\u53F0\u5C31\u7EEA',\n                debugUnknownError: '\u672A\u77E5\u9519\u8BEF',\n                debugUnhandledPromise: '\u672A\u5904\u7406\u7684 Promise \u62D2\u7EDD',\n                kvNotConfiguredSave: 'KV \u672A\u914D\u7F6E\uFF0C\u65E0\u6CD5\u4FDD\u5B58\u3002\u8BF7\u5728 Cloudflare Workers \u914D\u7F6E KV\u3002',\n                kvNotConfiguredReset: 'KV \u672A\u914D\u7F6E\uFF0C\u65E0\u6CD5\u91CD\u7F6E\u3002',\n                resetConfirm: '\u786E\u5B9A\u8981\u91CD\u7F6E\u6240\u6709\u914D\u7F6E\u5417\uFF1F\u8FD9\u5C06\u6E05\u7A7A KV \u5E76\u6062\u590D\u4E3A\u73AF\u5883\u53D8\u91CF\u3002',\n                resetFailed: '\u91CD\u7F6E\u5931\u8D25',\n                resetSuccess: '\u914D\u7F6E\u5DF2\u91CD\u7F6E',\n                unknown: '\u672A\u77E5',\n                enableDiverseProxies: '\u542F\u7528\u591A\u7AEF\u53E3\u8282\u70B9\uFF08\u751F\u6210\u5168\u90E8\u7AEF\u53E3\uFF09',\n                enableDiverseProxiesHint: '\u4E3A\u6BCF\u4E2A IP \u751F\u6210\u6240\u6709\u652F\u6301\u7684\u7AEF\u53E3\uFF0880\u3001443\u30012053 \u7B49\uFF09\u3002\u8BA2\u9605\u4F53\u79EF\u4F1A\u660E\u663E\u589E\u5927\u3002'\n            });\n            const t = translations[lang] || translations.en;\n\n        const pageHtml = `<!DOCTYPE html>\n        <html lang=\"${langAttr}\" dir=\"${isFarsi ? 'rtl' : 'ltr'}\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <title>${t.title}</title>\n        <style>\n            @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600&family=Space+Mono:wght@400;700&display=swap');\n            :root {\n                --bg-0: #040806;\n                --bg-1: #071510;\n                --panel: rgba(4, 12, 8, 0.9);\n                --panel-strong: rgba(2, 10, 6, 0.95);\n                --accent: #2cff9a;\n                --accent-2: #13d0ff;\n                --accent-dim: #00aa6a;\n                --text: #d8ffef;\n                --muted: #86d4a5;\n                --danger: #ff5a5a;\n                --glow: 0 0 24px rgba(44, 255, 154, 0.35);\n                --font-sans: \"Space Grotesk\", \"Segoe UI\", \"Noto Sans\", sans-serif;\n                --font-mono: \"Space Mono\", \"Cascadia Mono\", \"Consolas\", \"Courier New\", monospace;\n            }\n            * { margin: 0; padding: 0; box-sizing: border-box; }\n            body {\n                font-family: var(--font-sans);\n                background:\n                    radial-gradient(1200px 600px at 10% -10%, rgba(44, 255, 154, 0.16), transparent 60%),\n                    radial-gradient(900px 500px at 90% 120%, rgba(19, 208, 255, 0.12), transparent 60%),\n                    linear-gradient(180deg, var(--bg-0) 0%, var(--bg-1) 100%);\n                color: var(--accent);\n                min-height: 100vh;\n                overflow-x: hidden;\n                position: relative;\n            }\n            body::before {\n                content: \"\";\n                position: fixed;\n                inset: 0;\n                background-image:\n                    linear-gradient(120deg, rgba(44, 255, 154, 0.06), transparent 40%),\n                    repeating-linear-gradient(0deg, rgba(0, 255, 170, 0.05) 0 1px, transparent 1px 3px),\n                    repeating-linear-gradient(90deg, rgba(0, 255, 170, 0.04) 0 1px, transparent 1px 4px);\n                opacity: 0.35;\n                pointer-events: none;\n                z-index: -1;\n            }\n            input, select, textarea, button {\n                font-family: var(--font-mono) !important;\n            }\n            input, select, textarea {\n                border-radius: 10px;\n                transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;\n            }\n            button {\n                border-radius: 10px;\n                transition: transform 0.2s ease, box-shadow 0.2s ease;\n            }\n            input:focus-visible, select:focus-visible, textarea:focus-visible, button:focus-visible {\n                outline: none;\n                border-color: var(--accent) !important;\n                box-shadow: 0 0 0 2px rgba(19, 208, 255, 0.25), 0 0 18px rgba(44, 255, 154, 0.35);\n            }\n            input, select, textarea, button {\n                font-family: var(--font-mono) !important;\n            }\n            .matrix-bg {\n                position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n                background: var(--bg-0);\n                z-index: -1;\n            }\n            @keyframes bg-pulse {\n                0%, 100% { background: linear-gradient(45deg, #000 0%, #001100 50%, #000 100%); }\n                50% { background: linear-gradient(45deg, #000 0%, #002200 50%, #000 100%); }\n            }\n            .matrix-rain {\n                position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n                background: transparent;\n                z-index: -1;\n                display: none;\n            }\n            @keyframes matrix-fall {\n                0% { transform: translateY(-100%); }\n                100% { transform: translateY(100vh); }\n            }\n            .matrix-code-rain {\n                position: fixed; top: 0; left: 0; width: 100%; height: 100%;\n                pointer-events: none; z-index: -1;\n                overflow: hidden;\n                display: none;\n            }\n            .matrix-column {\n                position: absolute; top: -100%; left: 0;\n                color: #00ff00; font-family: \"Courier New\", monospace;\n                font-size: 14px; line-height: 1.2;\n                text-shadow: 0 0 5px #00ff00;\n            }\n            @keyframes matrix-drop {\n                0% { top: -100%; opacity: 1; }\n                10% { opacity: 1; }\n                90% { opacity: 0.3; }\n                100% { top: 100vh; opacity: 0; }\n            }\n            .matrix-column:nth-child(odd) {\n                animation-duration: 12s;\n                animation-delay: -2s;\n            }\n            .matrix-column:nth-child(even) {\n                animation-duration: 18s;\n                animation-delay: -5s;\n            }\n            .matrix-column:nth-child(3n) {\n                animation-duration: 20s;\n                animation-delay: -8s;\n            }\n            .container { max-width: 980px; margin: 0 auto; padding: 24px; position: relative; z-index: 1; }\n            .header { text-align: center; margin-bottom: 48px; }\n            .title {\n                font-size: 3.2rem; font-weight: 600;\n                font-family: var(--font-sans);\n                letter-spacing: 0.06em;\n                margin-bottom: 12px;\n                position: relative;\n                color: var(--text);\n                text-shadow: 0 0 25px rgba(44, 255, 154, 0.4);\n            }\n            @keyframes matrix-glow {\n                from { text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00, 0 0 30px #00ff00, 0 0 40px #00ff00; }\n                to { text-shadow: 0 0 20px #00ff00, 0 0 30px #00ff00, 0 0 40px #00ff00, 0 0 50px #00ff00; }\n            }\n            @keyframes matrix-pulse {\n                0%, 100% { background-position: 0% 50%; }\n                50% { background-position: 100% 50%; }\n            }\n            .subtitle { color: var(--muted); margin-bottom: 30px; font-size: 1.05rem; font-family: var(--font-mono); letter-spacing: 0.08em; text-transform: uppercase; }\n            .card {\n                background: var(--panel);\n                border: 1px solid rgba(44, 255, 154, 0.5);\n                border-radius: 16px; padding: 28px; margin-bottom: 22px;\n                box-shadow: var(--glow), inset 0 0 20px rgba(44, 255, 154, 0.08);\n                position: relative;\n                backdrop-filter: blur(10px);\n                box-sizing: border-box;\n                width: 100%;\n                max-width: 100%;\n            }\n            @keyframes card-glow {\n                0%, 100% { box-shadow: 0 0 30px rgba(0, 255, 0, 0.5), inset 0 0 20px rgba(0, 255, 0, 0.1); }\n                50% { box-shadow: 0 0 40px rgba(0, 255, 0, 0.7), inset 0 0 30px rgba(0, 255, 0, 0.2); }\n            }\n            .card::before {\n                content: \"\"; position: absolute; top: 0; left: 0;\n                width: 100%; height: 100%;\n                background: none;\n                opacity: 0; pointer-events: none;\n            }\n            @keyframes scan-line {\n                0% { transform: translateX(-100%); }\n                100% { transform: translateX(100%); }\n            }\n            .card-title {\n                font-size: 1.35rem; margin-bottom: 18px;\n                color: var(--text);\n                font-family: var(--font-sans);\n                letter-spacing: 0.12em;\n                text-transform: uppercase;\n                text-shadow: 0 0 12px rgba(44, 255, 154, 0.35);\n            }\n            .client-grid {\n                display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n                gap: 15px; margin: 20px 0;\n            }\n            .client-btn {\n                background: var(--panel-strong);\n                border: 1px solid rgba(44, 255, 154, 0.5);\n                padding: 14px 18px; color: var(--text);\n                font-family: var(--font-mono); font-weight: 700;\n                cursor: pointer; transition: all 0.4s ease;\n                text-align: center; position: relative;\n                overflow: hidden;\n                letter-spacing: 0.08em;\n                text-shadow: 0 0 6px rgba(44, 255, 154, 0.4);\n                box-shadow: 0 0 14px rgba(44, 255, 154, 0.2);\n            }\n            .client-btn::before {\n                content: \"\"; position: absolute; top: 0; left: -100%;\n                width: 100%; height: 100%;\n                background: linear-gradient(90deg, transparent, rgba(0,255,0,0.4), transparent);\n                transition: left 0.6s ease;\n            }\n            .client-btn::after {\n                content: \"\"; position: absolute; top: 0; left: 0;\n                width: 100%; height: 100%;\n                background: linear-gradient(45deg, transparent 30%, rgba(0,255,0,0.1) 50%, transparent 70%);\n                opacity: 0;\n                transition: opacity 0.3s ease;\n            }\n            .client-btn:hover::before { left: 100%; }\n            .client-btn:hover::after { opacity: 1; }\n            .client-btn:hover {\n                background: rgba(44, 255, 154, 0.18);\n                box-shadow: 0 0 25px rgba(44, 255, 154, 0.5), 0 0 40px rgba(19, 208, 255, 0.35);\n                transform: translateY(-3px) scale(1.04);\n                text-shadow: 0 0 12px rgba(44, 255, 154, 0.7);\n            }\n            .generate-btn {\n                background: rgba(44, 255, 154, 0.14);\n                border: 1px solid rgba(44, 255, 154, 0.6); padding: 14px 28px;\n                color: var(--text); font-family: var(--font-mono);\n                font-weight: 700; cursor: pointer;\n                transition: all 0.4s ease; margin-right: 15px;\n                text-shadow: 0 0 8px rgba(44, 255, 154, 0.6);\n                box-shadow: 0 0 18px rgba(44, 255, 154, 0.35);\n                position: relative;\n                overflow: hidden;\n            }\n            .generate-btn::before {\n                content: \"\"; position: absolute; top: 0; left: -100%;\n                width: 100%; height: 100%;\n                background: linear-gradient(90deg, transparent, rgba(0,255,0,0.5), transparent);\n                transition: left 0.8s ease;\n            }\n            .generate-btn:hover::before { left: 100%; }\n            .generate-btn:hover {\n                background: rgba(44, 255, 154, 0.28);\n                box-shadow: 0 0 32px rgba(44, 255, 154, 0.6), 0 0 46px rgba(19, 208, 255, 0.4);\n                transform: translateY(-4px) scale(1.06);\n                text-shadow: 0 0 14px rgba(44, 255, 154, 0.9);\n            }\n            .atob('c3Vic2NyaXB0aW9u')-url {\n                background: rgba(0, 0, 0, 0.9);\n                border: 2px solid #00ff00; padding: 15px;\n                word-break: break-all; font-family: \"Courier New\", monospace;\n                color: #00ff00; margin-top: 20px; display: none;\n                box-shadow: inset 0 0 15px rgba(0, 255, 0, 0.4), 0 0 20px rgba(0, 255, 0, 0.3);\n                border-radius: 5px;\n                position: relative;\n                overflow-wrap: break-word;\n                overflow-x: auto;\n                max-width: 100%;\n                box-sizing: border-box;\n            }\n            @keyframes url-glow {\n                from { box-shadow: inset 0 0 15px rgba(0, 255, 0, 0.4), 0 0 20px rgba(0, 255, 0, 0.3); }\n                to { box-shadow: inset 0 0 20px rgba(0, 255, 0, 0.6), 0 0 30px rgba(0, 255, 0, 0.5); }\n            }\n            .atob('c3Vic2NyaXB0aW9u')-url::before {\n                content: \"\"; position: absolute; top: 0; left: -100%;\n                width: 100%; height: 100%;\n                background: none;\n            }\n            @keyframes url-scan {\n                0% { left: -100%; }\n                100% { left: 100%; }\n            }\n            .matrix-text {\n                position: fixed; top: 20px; right: 20px;\n                color: var(--accent); font-family: var(--font-sans);\n                font-size: 0.75rem; opacity: 0.75;\n                letter-spacing: 0.2em;\n                text-transform: uppercase;\n            }\n            @keyframes matrix-flicker {\n                0%, 100% { opacity: 0.6; }\n                50% { opacity: 1; }\n            }\n            .debug-console {\n                position: fixed; right: 20px; bottom: 20px;\n                width: 360px; max-width: calc(100% - 40px);\n                background: var(--panel-strong);\n                border: 1px solid rgba(44, 255, 154, 0.5);\n                color: var(--text);\n                font-family: var(--font-mono);\n                font-size: 12px;\n                z-index: 3000;\n                box-shadow: var(--glow);\n            }\n            .debug-console-header {\n                display: flex; align-items: center; justify-content: space-between;\n                padding: 6px 8px;\n                border-bottom: 1px solid rgba(44, 255, 154, 0.35);\n                cursor: pointer;\n                user-select: none;\n            }\n            .debug-console-title { font-weight: bold; }\n            .debug-console-toggle {\n                background: transparent;\n                border: 1px solid rgba(44, 255, 154, 0.6);\n                color: var(--accent);\n                font-size: 11px;\n                padding: 2px 6px;\n                cursor: pointer;\n            }\n            .debug-console-body {\n                display: none;\n                max-height: 200px;\n                overflow-y: auto;\n                padding: 8px;\n            }\n            .debug-console.open .debug-console-body { display: block; }\n            .debug-console-line { margin-bottom: 6px; white-space: pre-wrap; word-break: break-word; }\n            .debug-console-line.error { color: #ff6666; }\n            .debug-console-line.warn { color: #ffaa00; }\n            .debug-console-line.info { color: #66ff66; }\n            @media (max-width: 720px) {\n                .title { font-size: 2.4rem; }\n                .card { padding: 20px; }\n                .client-grid { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); }\n                .matrix-text { display: none; }\n            }\n            @media (prefers-reduced-motion: reduce) {\n                * { animation: none !important; transition: none !important; }\n            }\n        </style>\n    </head>\n    <body>\n        <div class=\"matrix-bg\"></div>\n        <div class=\"matrix-rain\"></div>\n        <div class=\"matrix-code-rain\" id=\"matrixCodeRain\"></div>\n            <div class=\"matrix-text\">${t.terminal}</div>\n            <div style=\"position: fixed; top: 20px; left: 20px; z-index: 1000;\">\n                <select id=\"languageSelector\" style=\"background: rgba(0, 20, 0, 0.9); border: 2px solid #00ff00; color: #00ff00; padding: 8px 12px; font-family: 'Courier New', monospace; font-size: 14px; cursor: pointer; text-shadow: 0 0 5px #00ff00; box-shadow: 0 0 15px rgba(0, 255, 0, 0.4);\" onchange=\"changeLanguage(this.value)\">\n                    <option value=\"en\" ${lang === 'en' ? 'selected' : ''}>\uD83C\uDDFA\uD83C\uDDF8 English</option>\n                    <option value=\"zh\" ${lang === 'zh' ? 'selected' : ''}>\uD83C\uDDE8\uD83C\uDDF3 \u4E2D\u6587</option>\n                    <option value=\"fa\" ${lang === 'fa' ? 'selected' : ''}>\uD83C\uDDEE\uD83C\uDDF7 \u0641\u0627\u0631\u0633\u06CC</option>\n                </select>\n            </div>\n        <div class=\"container\">\n            <div class=\"header\">\n                    <h1 class=\"title\">${t.title}</h1>\n                    <p class=\"subtitle\">${t.subtitle}</p>\n            </div>\n            <div class=\"card\">\n                    <h2 class=\"card-title\">${t.selectClient}</h2>\n                <div class=\"client-grid\">\n                    <button class=\"client-btn\" onclick=\"generateClientLink(atob('Y2xhc2g='), 'CLASH')\">CLASH</button>\n                    <button class=\"client-btn\" onclick=\"generateClientLink(atob('Y2xhc2g='), 'STASH')\">STASH</button>\n                    <button class=\"client-btn\" onclick=\"generateClientLink(atob('c3VyZ2U='), 'SURGE')\">SURGE</button>\n                    <button class=\"client-btn\" onclick=\"generateClientLink(atob('c2luZ2JveA=='), 'SING-BOX')\">SING-BOX</button>\n                    <button class=\"client-btn\" onclick=\"generateClientLink(atob('bG9vbg=='), 'LOON')\">LOON</button>\n                    <button class=\"client-btn\" onclick=\"generateClientLink(atob('cXVhbng='), 'QUANTUMULT X')\">QUANTUMULT X</button>\n                    <button class=\"client-btn\" onclick=\"generateClientLink(atob('djJyYXk='), 'V2RAY')\">V2RAY</button>\n                    <button class=\"client-btn\" onclick=\"generateClientLink(atob('djJyYXk='), 'V2RAYNG')\">V2RAYNG</button>\n                    <button class=\"client-btn\" onclick=\"generateClientLink(atob('djJyYXk='), 'NEKORAY')\">NEKORAY</button>\n                    <button class=\"client-btn\" onclick=\"generateClientLink(atob('djJyYXk='), 'Shadowrocket')\">Shadowrocket</button>\n                </div>\n                <div class=atob('c3Vic2NyaXB0aW9uLXVybA==') id=\"clientSubscriptionUrl\"></div>\n            </div>\n            <div class=\"card\">\n                    <h2 class=\"card-title\">${t.systemStatus}</h2>\n                <div id=\"systemStatus\" style=\"margin: 20px 0; padding: 15px; background: rgba(0, 20, 0, 0.8); border: 2px solid #00ff00; box-shadow: 0 0 20px rgba(0, 255, 0, 0.3), inset 0 0 15px rgba(0, 255, 0, 0.1); position: relative; overflow: hidden;\">\n                        <div style=\"color: #00ff00; margin-bottom: 15px; font-weight: bold; text-shadow: 0 0 5px #00ff00;\">[ ${t.checking} ]</div>\n                        <div id=\"regionStatus\" style=\"margin: 8px 0; color: #00ff00; font-family: 'Courier New', monospace; text-shadow: 0 0 3px #00ff00;\">${t.workerRegion}${t.checking}</div>\n                        <div id=\"geoInfo\" style=\"margin: 8px 0; color: #00aa00; font-family: 'Courier New', monospace; font-size: 0.9rem; text-shadow: 0 0 3px #00aa00;\">${t.detectionMethod}${t.checking}</div>\n                        <div id=\"backupStatus\" style=\"margin: 8px 0; color: #00ff00; font-family: 'Courier New', monospace; text-shadow: 0 0 3px #00ff00;\">${t.proxyIPStatus}${t.checking}</div>\n                        <div id=\"currentIP\" style=\"margin: 8px 0; color: #00ff00; font-family: 'Courier New', monospace; text-shadow: 0 0 3px #00ff00;\">${t.currentIP}${t.checking}</div>\n                        <div id=\"echStatus\" style=\"margin: 8px 0; color: #00ff00; font-family: 'Courier New', monospace; text-shadow: 0 0 3px #00ff00; font-size: 0.9rem;\">${t.echStatusLabel} ${t.checking}</div>\n                        <div id=\"regionMatch\" style=\"margin: 8px 0; color: #00ff00; font-family: 'Courier New', monospace; text-shadow: 0 0 3px #00ff00;\">${t.regionMatch}${t.checking}</div>\n                        <div id=\"selectionLogic\" style=\"margin: 8px 0; color: #00aa00; font-family: 'Courier New', monospace; font-size: 0.9rem; text-shadow: 0 0 3px #00aa00;\">${t.selectionLogic}${t.selectionLogicText}</div>\n                </div>\n            </div>\n            <div class=\"card\" id=\"configCard\" style=\"display: none;\">\n                    <h2 class=\"card-title\">${t.configManagement}</h2>\n                <div id=\"kvStatus\" style=\"margin-bottom: 20px; padding: 10px; background: rgba(0, 20, 0, 0.8); border: 1px solid #00ff00; color: #00ff00;\">\n                        ${t.kvStatusChecking}\n                </div>\n                <div id=\"configContent\" style=\"display: none;\">\n                    <form id=\"regionForm\" style=\"margin-bottom: 20px;\">\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.specifyRegion}</label>\n                            <select id=\"wkRegion\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                    <option value=\"\">${t.autoDetect}</option>\n                                    <option value=\"US\">${t.regionNames.US}</option>\n                                    <option value=\"SG\">${t.regionNames.SG}</option>\n                                    <option value=\"JP\">${t.regionNames.JP}</option>\n                                    <option value=\"KR\">${t.regionNames.KR}</option>\n                                    <option value=\"DE\">${t.regionNames.DE}</option>\n                                    <option value=\"SE\">${t.regionNames.SE}</option>\n                                    <option value=\"NL\">${t.regionNames.NL}</option>\n                                    <option value=\"FI\">${t.regionNames.FI}</option>\n                                    <option value=\"GB\">${t.regionNames.GB}</option>\n                            </select>\n                                <small id=\"wkRegionHint\" style=\"color: #00aa00; font-size: 0.85rem; display: none;\">\u26A0\uFE0F ${t.customIPDisabledHint}</small>\n                        </div>\n                            <button type=\"submit\" style=\"background: rgba(0, 255, 0, 0.15); border: 2px solid #00ff00; padding: 12px 24px; color: #00ff00; font-family: 'Courier New', monospace; font-weight: bold; cursor: pointer; margin-right: 10px; text-shadow: 0 0 8px #00ff00; transition: all 0.4s ease;\">${t.saveRegion}</button>\n                    </form>\n                    <form id=\"otherConfigForm\" style=\"margin-bottom: 20px;\">\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.protocolSelection}</label>\n                            <div style=\"padding: 15px; background: rgba(0, 20, 0, 0.6); border: 1px solid #00ff00; border-radius: 5px;\">\n                                <div class=\"checkbox-item\" style=\"margin-bottom: 10px;\">\n                                    <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                        <input type=\"checkbox\" id=\"ev\" checked style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                        <span style=\"font-size: 1.05rem;\">${t.enableVLESS}</span>\n                                    </label>\n                                </div>\n                                <div class=\"checkbox-item\" style=\"margin-bottom: 10px;\">\n                                    <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                        <input type=\"checkbox\" id=\"et\" style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                        <span style=\"font-size: 1.05rem;\">${t.enableTrojan}</span>\n                                    </label>\n                                </div>\n                                <div class=\"checkbox-item\" style=\"margin-bottom: 10px;\">\n                                    <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                        <input type=\"checkbox\" id=\"ex\" style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                        <span style=\"font-size: 1.05rem;\">${t.enableXhttp}</span>\n                                    </label>\n                                </div>\n\n                                <div style=\"margin-top: 12px; padding-top: 12px; border-top: 1px dashed rgba(44, 255, 154, 0.3);\">\n                                    <div class=\"checkbox-item\" style=\"margin-top: 10px;\">\n                                        <label style=\"display: flex; align-items: center; color: #00ff00;\"><input type=\"checkbox\" id=\"evm\" ${evm ? 'checked' : ''} style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\"> ${t.enableVMess}</label>\n                                        <small style=\"color: #ffaa00; font-size: 0.8rem; display: block; margin-top: 2px; margin-left: 26px;\">${t.linkOnlyHint}</small>\n                                    </div>\n                                    <div class=\"checkbox-item\" style=\"margin-top: 10px;\">\n                                        <label style=\"display: flex; align-items: center; color: #00ff00;\"><input type=\"checkbox\" id=\"ess\" ${ess ? 'checked' : ''} style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\"> ${t.enableShadowsocks}</label>\n                                        <small style=\"color: #ffaa00; font-size: 0.8rem; display: block; margin-top: 2px; margin-left: 26px;\">${t.linkOnlyHint}</small>\n                                    </div>\n                                    <div class=\"checkbox-item\" style=\"margin-top: 10px;\">\n                                        <label style=\"display: flex; align-items: center; color: #00ff00;\"><input type=\"checkbox\" id=\"etu\" ${etu ? 'checked' : ''} style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\"> ${t.enableTUIC}</label>\n                                        <small style=\"color: #ffaa00; font-size: 0.8rem; display: block; margin-top: 2px; margin-left: 26px;\">${t.linkOnlyHint}</small>\n                                    </div>\n                                    <div class=\"checkbox-item\" style=\"margin-top: 10px;\">\n                                        <label style=\"display: flex; align-items: center; color: #00ff00;\"><input type=\"checkbox\" id=\"ehy\" ${ehy ? 'checked' : ''} style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\"> ${t.enableHysteria2}</label>\n                                        <small style=\"color: #ffaa00; font-size: 0.8rem; display: block; margin-top: 2px; margin-left: 26px;\">${t.linkOnlyHint}</small>\n                                    </div>\n                                    <div class=\"checkbox-item\" style=\"margin-top: 10px;\">\n                                        <label style=\"display: flex; align-items: center; color: #00ff00;\"><input type=\"checkbox\" id=\"eg\" ${eg ? 'checked' : ''} style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\"> ${t.enableVLESSgRPC}</label>\n                                        <small style=\"color: #ffaa00; font-size: 0.8rem; display: block; margin-top: 2px; margin-left: 26px;\">${t.grpcHint}</small>\n                                    </div>\n                                </div>\n                                <div style=\"margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(0, 255, 0, 0.3);\">\n                                    <div style=\"margin-bottom: 10px;\">\n                                        <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                            <input type=\"checkbox\" id=\"ech\" style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                                <span style=\"font-size: 1.1rem;\">${t.enableECH}</span>\n                                        </label>\n                                        <small style=\"color: #00aa00; font-size: 0.8rem; display: block; margin-top: 5px; margin-left: 26px;\">${t.enableECHHint}</small>\n                                    </div>\n                                    <div style=\"margin-top: 15px; margin-bottom: 10px;\">\n                                        <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-size: 0.95rem;\">${t.customDNS}</label>\n                                        <input type=\"text\" id=\"customDNS\" placeholder=\"${t.customDNSPlaceholder}\" style=\"width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.8); border: 1px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 13px;\">\n                                        <small style=\"color: #00aa00; font-size: 0.8rem; display: block; margin-top: 5px;\">${t.customDNSHint}</small>\n                                    </div>\n                                    <div style=\"margin-bottom: 10px;\">\n                                        <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-size: 0.95rem;\">${t.customECHDomain}</label>\n                                        <input type=\"text\" id=\"customECHDomain\" placeholder=\"${t.customECHDomainPlaceholder}\" style=\"width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.8); border: 1px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 13px;\">\n                                        <small style=\"color: #00aa00; font-size: 0.8rem; display: block; margin-top: 5px;\">${t.customECHDomainHint}</small>\n                                    </div>\n                                </div>\n                                <div style=\"margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(0, 255, 0, 0.3);\">\n                                        <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-size: 0.95rem;\">${t.trojanPassword}</label>\n                                        <input type=\"text\" id=\"tp\" placeholder=\"${t.trojanPasswordPlaceholder}\" style=\"width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.8); border: 1px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 13px;\">\n                                        <small style=\"color: #00aa00; font-size: 0.8rem; display: block; margin-top: 5px;\">${t.trojanPasswordHint}</small>\n                                </div>\n                                    <small style=\"color: #00aa00; font-size: 0.85rem; display: block; margin-top: 10px;\">${t.protocolHint}</small>\n                                    <button type=\"button\" id=\"saveProtocolBtn\" style=\"margin-top: 15px; background: rgba(0, 255, 0, 0.15); border: 2px solid #00ff00; padding: 10px 20px; color: #00ff00; font-family: 'Courier New', monospace; font-weight: bold; cursor: pointer; text-shadow: 0 0 8px #00ff00; transition: all 0.4s ease; width: 100%;\">${t.saveProtocol}</button>\n                            </div>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.customHomepage}</label>\n                                <input type=\"text\" id=\"customHomepage\" placeholder=\"${t.customHomepagePlaceholder}\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                <small style=\"color: #00aa00; font-size: 0.85rem;\">${t.customHomepageHint}</small>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.customPath}</label>\n                                <input type=\"text\" id=\"customPath\" placeholder=\"${t.customPathPlaceholder}\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                <small style=\"color: #00aa00; font-size: 0.85rem;\">${t.customPathHint}</small>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.customIP}</label>\n                                <input type=\"text\" id=\"customIP\" placeholder=\"${t.customIPPlaceholder}\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                <small style=\"color: #00aa00; font-size: 0.85rem;\">${t.customIPHint}</small>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.preferredIPs}</label>\n                                <input type=\"text\" id=\"yx\" placeholder=\"${t.preferredIPsPlaceholder}\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                <small style=\"color: #00aa00; font-size: 0.85rem;\">${t.preferredIPsHint}</small>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.preferredIPsURL}</label>\n                                <input type=\"text\" id=\"yxURL\" placeholder=\"${t.preferredIPsURLPlaceholder}\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                <small style=\"color: #00aa00; font-size: 0.85rem;\">${t.preferredIPsURLHint}</small>\n                        </div>\n\n                        <div style=\"margin-bottom: 20px; padding: 15px; background: rgba(0, 40, 0, 0.6); border: 2px solid #00aa00; border-radius: 8px;\">\n                            <h4 style=\"color: #00ff00; margin: 0 0 15px 0; font-size: 1.1rem; text-shadow: 0 0 5px #00ff00;\">\u26A1 ${t.latencyTest}</h4>\n                            <div style=\"display: flex; gap: 10px; margin-bottom: 12px; flex-wrap: wrap; align-items: center;\">\n                                <div style=\"min-width: 120px;\">\n                                    <label style=\"display: block; margin-bottom: 5px; color: #00ff00; font-size: 0.9rem;\">${t.ipSource}</label>\n                                    <select id=\"ipSourceSelect\" style=\"width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.8); border: 1px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 13px; cursor: pointer;\">\n                                        <option value=\"manual\">${t.manualInput}</option>\n                                        <option value=\"cfRandom\">${t.cfRandomIP}</option>\n                                        <option value=\"urlFetch\">${t.urlFetch}</option>\n                                    </select>\n                                </div>\n                                <div style=\"width: 100px;\">\n                                    <label style=\"display: block; margin-bottom: 5px; color: #00ff00; font-size: 0.9rem;\">${t.latencyTestPort}</label>\n                                    <input type=\"number\" id=\"latencyTestPort\" value=\"443\" min=\"1\" max=\"65535\" style=\"width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.8); border: 1px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 13px;\">\n                                </div>\n                                <div id=\"randomCountDiv\" style=\"width: 100px; display: none;\">\n                                    <label style=\"display: block; margin-bottom: 5px; color: #00ff00; font-size: 0.9rem;\">${t.randomCount}</label>\n                                    <input type=\"number\" id=\"randomIPCount\" value=\"20\" min=\"1\" max=\"100\" style=\"width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.8); border: 1px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 13px;\">\n                                </div>\n                                <div style=\"width: 80px;\">\n                                    <label style=\"display: block; margin-bottom: 5px; color: #00ff00; font-size: 0.9rem;\">${t.threadsLabel}</label>\n                                    <input type=\"number\" id=\"testThreads\" value=\"5\" min=\"1\" max=\"50\" style=\"width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.8); border: 1px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 13px;\">\n                                </div>\n                            </div>\n                            <div id=\"manualInputDiv\" style=\"margin-bottom: 10px;\">\n                                <label style=\"display: block; margin-bottom: 5px; color: #00ff00; font-size: 0.9rem;\">${t.latencyTestIP}</label>\n                                <input type=\"text\" id=\"latencyTestInput\" placeholder=\"${t.latencyTestIPPlaceholder}\" style=\"width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.8); border: 1px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 13px;\">\n                            </div>\n                            <div id=\"urlFetchDiv\" style=\"margin-bottom: 10px; display: none;\">\n                                <label style=\"display: block; margin-bottom: 5px; color: #00ff00; font-size: 0.9rem;\">${t.fetchURL}</label>\n                                <div style=\"display: flex; gap: 8px;\">\n                                    <input type=\"text\" id=\"fetchURLInput\" placeholder=\"${t.fetchURLPlaceholder}\" style=\"flex: 1; padding: 10px; background: rgba(0, 0, 0, 0.8); border: 1px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 13px;\">\n                                    <button type=\"button\" id=\"fetchIPBtn\" style=\"background: rgba(0, 200, 255, 0.2); border: 1px solid #00aaff; padding: 8px 16px; color: #00aaff; font-family: 'Courier New', monospace; cursor: pointer; white-space: nowrap;\">\u2B07 ${t.fetchIP}</button>\n                                </div>\n                            </div>\n                            <div id=\"cfRandomDiv\" style=\"margin-bottom: 10px; display: none;\">\n                                <button type=\"button\" id=\"generateCFIPBtn\" style=\"background: rgba(0, 255, 0, 0.15); border: 1px solid #00ff00; padding: 10px 20px; color: #00ff00; font-family: 'Courier New', monospace; cursor: pointer; width: 100%; transition: all 0.3s;\">\uD83C\uDFB2 ${t.generateIP}</button>\n                            </div>\n                            <div style=\"display: flex; gap: 10px; margin-bottom: 15px;\">\n                                <button type=\"button\" id=\"startLatencyTest\" style=\"background: rgba(0, 255, 0, 0.2); border: 1px solid #00ff00; padding: 8px 16px; color: #00ff00; font-family: 'Courier New', monospace; cursor: pointer; transition: all 0.3s;\">\u25B6 ${t.startTest}</button>\n                                <button type=\"button\" id=\"stopLatencyTest\" style=\"background: rgba(255, 0, 0, 0.2); border: 1px solid #ff4444; padding: 8px 16px; color: #ff4444; font-family: 'Courier New', monospace; cursor: pointer; display: none; transition: all 0.3s;\">\u23F9 ${t.stopTest}</button>\n                            </div>\n                            <div id=\"latencyTestStatus\" style=\"color: #00aa00; font-size: 0.9rem; margin-bottom: 10px; display: none;\"></div>\n                            <div id=\"latencyTestResults\" style=\"max-height: 250px; overflow-y: auto; display: none;\">\n                                <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;\">\n                                    <span style=\"color: #00ff00; font-weight: bold;\">${t.testResult}</span>\n                                    <div style=\"display: flex; gap: 8px;\">\n                                        <button type=\"button\" id=\"selectAllResults\" style=\"background: transparent; border: 1px solid #00aa00; padding: 4px 10px; color: #00aa00; font-size: 0.8rem; cursor: pointer;\">${t.selectAll}</button>\n                                        <button type=\"button\" id=\"deselectAllResults\" style=\"background: transparent; border: 1px solid #00aa00; padding: 4px 10px; color: #00aa00; font-size: 0.8rem; cursor: pointer;\">${t.deselectAll}</button>\n                                    </div>\n                                </div>\n                                <div id=\"cityFilterContainer\" style=\"margin-bottom: 10px; padding: 10px; background: rgba(0, 20, 0, 0.6); border: 1px solid #00aa00; border-radius: 4px; display: none;\">\n                                    <div style=\"margin-bottom: 8px;\">\n                                        <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00; font-size: 0.9rem;\">\n                                            <input type=\"radio\" name=\"cityFilterMode\" value=\"all\" checked style=\"margin-right: 6px; width: 16px; height: 16px; cursor: pointer;\">\n                                            <span>${t.cityFilterAll}</span>\n                                        </label>\n                                        <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00; font-size: 0.9rem; margin-left: 15px;\">\n                                            <input type=\"radio\" name=\"cityFilterMode\" value=\"fastest10\" style=\"margin-right: 6px; width: 16px; height: 16px; cursor: pointer;\">\n                                            <span>${t.cityFilterFastest10}</span>\n                                        </label>\n                                    </div>\n                                    <div id=\"cityCheckboxesContainer\" style=\"display: flex; flex-wrap: wrap; gap: 8px; max-height: 80px; overflow-y: auto; padding: 5px;\"></div>\n                                </div>\n                                <div id=\"latencyResultsList\" style=\"background: rgba(0, 0, 0, 0.5); border: 1px solid #004400; border-radius: 4px; padding: 10px;\"></div>\n                                <div style=\"margin-top: 10px; display: flex; gap: 10px;\">\n                                    <button type=\"button\" id=\"overwriteSelectedToYx\" style=\"flex: 1; background: rgba(0, 200, 0, 0.3); border: 1px solid #00ff00; padding: 10px 20px; color: #00ff00; font-family: 'Courier New', monospace; font-weight: bold; cursor: pointer; transition: all 0.3s;\">${t.overwriteAdd}</button>\n                                    <button type=\"button\" id=\"appendSelectedToYx\" style=\"flex: 1; background: rgba(0, 150, 0, 0.3); border: 1px solid #00aa00; padding: 10px 20px; color: #00aa00; font-family: 'Courier New', monospace; font-weight: bold; cursor: pointer; transition: all 0.3s;\">${t.appendAdd}</button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.socks5Config}</label>\n                                <input type=\"text\" id=\"socksConfig\" placeholder=\"${t.socks5ConfigPlaceholder}\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                <small style=\"color: #00aa00; font-size: 0.85rem;\">${t.socks5ConfigHint}</small>\n                        </div>\n                            <button type=\"submit\" style=\"background: rgba(0, 255, 0, 0.15); border: 2px solid #00ff00; padding: 12px 24px; color: #00ff00; font-family: 'Courier New', monospace; font-weight: bold; cursor: pointer; margin-right: 10px; text-shadow: 0 0 8px #00ff00; transition: all 0.4s ease;\">${t.saveConfig}</button>\n                    </form>\n\n                        <h3 style=\"color: #00ff00; margin: 20px 0 15px 0; font-size: 1.2rem;\">${t.advancedControl}</h3>\n                    <form id=\"advancedConfigForm\" style=\"margin-bottom: 20px;\">\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.subscriptionConverter}</label>\n                                <input type=\"text\" id=\"scu\" placeholder=\"${t.subscriptionConverterPlaceholder}\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                <small style=\"color: #00aa00; font-size: 0.85rem;\">${t.subscriptionConverterHint}</small>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.builtinPreferred}</label>\n                            <div style=\"padding: 15px; background: rgba(0, 20, 0, 0.6); border: 1px solid #00ff00; border-radius: 5px;\">\n                                <div style=\"margin-bottom: 10px;\">\n                                    <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                        <input type=\"checkbox\" id=\"epd\" style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                            <span style=\"font-size: 1.1rem;\">${t.enablePreferredDomain}</span>\n                                    </label>\n                                </div>\n                                <div style=\"margin-bottom: 10px;\">\n                                    <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                        <input type=\"checkbox\" id=\"epi\" checked style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                            <span style=\"font-size: 1.1rem;\">${t.enablePreferredIP}</span>\n                                    </label>\n                                </div>\n                                <div style=\"margin-bottom: 10px;\">\n                                    <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                        <input type=\"checkbox\" id=\"egi\" checked style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                            <span style=\"font-size: 1.1rem;\">${t.enableGitHubPreferred}</span>\n                                    </label>\n                                </div>\n\n                                <div style=\"margin-bottom: 10px;\">\n                                    <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                        <input type=\"checkbox\" id=\"enableDiverseProxies\" style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                            <span style=\"font-size: 1.1rem;\">${t.enableDiverseProxies}</span>\n                                    </label>\n                                    <small style=\"color: #00aa00; font-size: 0.85rem; display: block; margin-top: 5px;\">${t.enableDiverseProxiesHint}</small>\n                                </div>\n\n                                    <small style=\"color: #00aa00; font-size: 0.85rem; display: block; margin-top: 10px;\">${t.builtinPreferredHint}</small>\n                            </div>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.preferredIPFilterTitle}</label>\n                            <div style=\"padding: 15px; background: rgba(0, 20, 0, 0.6); border: 1px solid #00ff00; border-radius: 5px;\">\n                                <div style=\"margin-bottom: 15px;\">\n                                    <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.ipVersionSelection}</label>\n                                    <div style=\"display: flex; gap: 20px; flex-wrap: wrap;\">\n                                        <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                            <input type=\"checkbox\" id=\"ipv4Enabled\" checked style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                            <span style=\"font-size: 1rem;\">IPv4</span>\n                                        </label>\n                                        <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                            <input type=\"checkbox\" id=\"ipv6Enabled\" checked style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                            <span style=\"font-size: 1rem;\">IPv6</span>\n                                        </label>\n                                    </div>\n                                </div>\n                                <div style=\"margin-bottom: 10px;\">\n                                    <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.ispSelection}</label>\n                                    <div style=\"display: flex; gap: 20px; flex-wrap: wrap;\">\n                                        <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                            <input type=\"checkbox\" id=\"ispMobile\" checked style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                            <span style=\"font-size: 1rem;\">${t.ispMobile}</span>\n                                        </label>\n                                        <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                            <input type=\"checkbox\" id=\"ispUnicom\" checked style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                            <span style=\"font-size: 1rem;\">${t.ispUnicom}</span>\n                                        </label>\n                                        <label style=\"display: inline-flex; align-items: center; cursor: pointer; color: #00ff00;\">\n                                            <input type=\"checkbox\" id=\"ispTelecom\" checked style=\"margin-right: 8px; width: 18px; height: 18px; cursor: pointer;\">\n                                            <span style=\"font-size: 1rem;\">${t.ispTelecom}</span>\n                                        </label>\n                                    </div>\n                                </div>\n                                    <small style=\"color: #00aa00; font-size: 0.85rem; display: block; margin-top: 10px;\">${t.ipFilterHint}</small>\n                            </div>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.allowAPIManagement}</label>\n                            <select id=\"apiEnabled\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                    <option value=\"\">${t.apiEnabledDefault}</option>\n                                    <option value=\"yes\">${t.apiEnabledYes}</option>\n                            </select>\n                                <small style=\"color: #ffaa00; font-size: 0.85rem;\">${t.apiEnabledHint}</small>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.regionMatching}</label>\n                            <select id=\"regionMatching\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                    <option value=\"\">${t.regionMatchingDefault}</option>\n                                    <option value=\"no\">${t.regionMatchingNo}</option>\n                            </select>\n                                <small style=\"color: #00aa00; font-size: 0.85rem;\">${t.regionMatchingHint}</small>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.downgradeControl}</label>\n                            <select id=\"downgradeControl\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                    <option value=\"\">${t.downgradeControlDefault}</option>\n                                    <option value=\"no\">${t.downgradeControlNo}</option>\n                            </select>\n                                <small style=\"color: #00aa00; font-size: 0.85rem;\">${t.downgradeControlHint}</small>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.tlsControl}</label>\n                            <select id=\"portControl\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                    <option value=\"\">${t.tlsControlDefault}</option>\n                                    <option value=\"yes\">${t.tlsControlYes}</option>\n                            </select>\n                                <small style=\"color: #00aa00; font-size: 0.85rem;\">${t.tlsControlHint}</small>\n                        </div>\n                        <div style=\"margin-bottom: 15px;\">\n                                <label style=\"display: block; margin-bottom: 8px; color: #00ff00; font-weight: bold; text-shadow: 0 0 3px #00ff00;\">${t.preferredControl}</label>\n                            <select id=\"preferredControl\" style=\"width: 100%; padding: 12px; background: rgba(0, 0, 0, 0.8); border: 2px solid #00ff00; color: #00ff00; font-family: 'Courier New', monospace; font-size: 14px;\">\n                                    <option value=\"\">${t.preferredControlDefault}</option>\n                                    <option value=\"yes\">${t.preferredControlYes}</option>\n                            </select>\n                                <small style=\"color: #00aa00; font-size: 0.85rem;\">${t.preferredControlHint}</small>\n                        </div>\n                            <button type=\"submit\" style=\"background: rgba(0, 255, 0, 0.15); border: 2px solid #00ff00; padding: 12px 24px; color: #00ff00; font-family: 'Courier New', monospace; font-weight: bold; cursor: pointer; margin-right: 10px; text-shadow: 0 0 8px #00ff00; transition: all 0.4s ease;\">${t.saveAdvanced}</button>\n                    </form>\n                    <div id=\"currentConfig\" style=\"background: rgba(0, 0, 0, 0.9); border: 1px solid #00ff00; padding: 15px; margin: 10px 0; font-family: 'Courier New', monospace; color: #00ff00;\">\n                            ${t.loading}\n                    </div>\n                    <div id=\"pathTypeInfo\" style=\"background: rgba(0, 20, 0, 0.7); border: 1px solid #00ff00; padding: 15px; margin: 10px 0; font-family: 'Courier New', monospace; color: #00ff00;\">\n                            <div style=\"font-weight: bold; margin-bottom: 8px; color: #44ff44; text-shadow: 0 0 5px #44ff44;\">${t.currentConfig}</div>\n                            <div id=\"pathTypeStatus\">${t.checking}</div>\n                    </div>\n                        <button onclick=\"loadCurrentConfig()\" style=\"background: rgba(0, 255, 0, 0.15); border: 2px solid #00ff00; padding: 12px 24px; color: #00ff00; font-family: 'Courier New', monospace; font-weight: bold; cursor: pointer; margin-right: 10px; text-shadow: 0 0 8px #00ff00; transition: all 0.4s ease;\">${t.refreshConfig}</button>\n                        <button onclick=\"resetAllConfig()\" style=\"background: rgba(255, 0, 0, 0.15); border: 2px solid #ff0000; padding: 12px 24px; color: #ff0000; font-family: 'Courier New', monospace; font-weight: bold; cursor: pointer; text-shadow: 0 0 8px #ff0000; transition: all 0.4s ease;\">${t.resetConfig}</button>\n                </div>\n                <div id=\"statusMessage\" style=\"display: none; padding: 10px; margin: 10px 0; border: 1px solid #00ff00; background: rgba(0, 20, 0, 0.8); color: #00ff00; text-shadow: 0 0 5px #00ff00;\"></div>\n            </div>\n\n            <div class=\"card\">\n                    <h2 class=\"card-title\">${t.relatedLinks}</h2>\n                <div style=\"text-align: center; margin: 20px 0;\">\n                        <a href=\"https://github.com/byJoey/cfnew\" target=\"_blank\" style=\"color: #00ff00; text-decoration: none; margin: 0 20px; font-size: 1.2rem; text-shadow: 0 0 5px #00ff00;\">${t.githubProject}</a>\n                    <a href=\"https://www.youtube.com/@joeyblog\" target=\"_blank\" style=\"color: #00ff00; text-decoration: none; margin: 0 20px; font-size: 1.2rem; text-shadow: 0 0 5px #00ff00;\">YouTube @joeyblog</a>\n                </div>\n            </div>\n        </div>\n        <div id=\"debugConsole\" class=\"debug-console\">\n            <div class=\"debug-console-header\" id=\"debugConsoleHeader\">\n                <span class=\"debug-console-title\">${t.debugConsoleTitle}</span>\n                <button type=\"button\" class=\"debug-console-toggle\" id=\"debugConsoleToggle\">${t.debugShow}</button>\n            </div>\n            <div class=\"debug-console-body\" id=\"debugConsoleBody\"></div>\n        </div>\n        <script>\n            // \u8BA2\u9605\u8F6C\u6362\u5730\u5740\uFF08\u4ECE\u670D\u52A1\u5668\u914D\u7F6E\u6CE8\u5165\uFF09\n            var SUB_CONVERTER_URL = \"${ scu }\";\n            // Remote config URL (Hardcoded)\n            var REMOTE_CONFIG_URL = \"${ remoteConfigUrl }\";\n            var DEBUG_LOG_QUEUE = [];\n            var DEBUG_CONSOLE_READY = false;\n            var DEBUG_AUTO_OPEN = false;\n\n            function safeLocalStorageGet(key) {\n                try {\n                    if (typeof localStorage === 'undefined') return null;\n                    return window.localStorage.getItem(key);\n                } catch (e) {\n                    return null;\n                }\n            }\n\n            function safeLocalStorageSet(key, value) {\n                try {\n                    if (typeof localStorage === 'undefined') return false;\n                    window.localStorage.setItem(key, value);\n                    return true;\n                } catch (e) {\n                    return false;\n                }\n            }\n\n            function stringifyConsoleValue(value) {\n                if (value === null) return 'null';\n                if (value === undefined) return 'undefined';\n                if (value instanceof Error) return value.stack || value.message || String(value);\n                if (typeof value === 'string') return value;\n                if (typeof value === 'object') {\n                    try { return JSON.stringify(value); } catch (error) { return String(value); }\n                }\n                return String(value);\n            }\n\n            function formatConsoleArgs(args) {\n                return Array.prototype.map.call(args, stringifyConsoleValue).join(' ');\n            }\n\n            function ensureDebugConsoleOpen(level) {\n                if (level !== 'error' && level !== 'warn') return;\n                var consoleEl = document.getElementById('debugConsole');\n                var toggleBtn = document.getElementById('debugConsoleToggle');\n                if (!consoleEl || !toggleBtn) {\n                    DEBUG_AUTO_OPEN = true;\n                    return;\n                }\n                if (!consoleEl.classList.contains('open')) {\n                    consoleEl.classList.add('open');\n                    toggleBtn.textContent = t.debugHide || 'Hide';\n                }\n            }\n\n            function debugConsolePush(message, level) {\n                var entry = {\n                    time: new Date().toISOString(),\n                    level: level || 'info',\n                    message: typeof message === 'string' ? message : stringifyConsoleValue(message)\n                };\n                DEBUG_LOG_QUEUE.push(entry);\n                ensureDebugConsoleOpen(entry.level);\n                if (DEBUG_CONSOLE_READY) {\n                    debugConsoleFlush();\n                }\n            }\n\n            function debugConsoleFlush() {\n                if (!DEBUG_CONSOLE_READY) return;\n                var body = document.getElementById('debugConsoleBody');\n                if (!body) return;\n                while (DEBUG_LOG_QUEUE.length) {\n                    var entry = DEBUG_LOG_QUEUE.shift();\n                    var line = document.createElement('div');\n                    line.className = 'debug-console-line ' + entry.level;\n                    line.textContent = '[' + entry.time + '] ' + entry.message;\n                    body.appendChild(line);\n                }\n                body.scrollTop = body.scrollHeight;\n            }\n\n            function initDebugConsole() {\n                var consoleEl = document.getElementById('debugConsole');\n                var body = document.getElementById('debugConsoleBody');\n                var toggleBtn = document.getElementById('debugConsoleToggle');\n                var header = document.getElementById('debugConsoleHeader');\n                if (!consoleEl || !body || !toggleBtn || !header) return;\n\n                function toggle() {\n                    consoleEl.classList.toggle('open');\n                    toggleBtn.textContent = consoleEl.classList.contains('open') ? t.debugHide : t.debugShow;\n                }\n\n                header.addEventListener('click', toggle);\n                toggleBtn.addEventListener('click', function(e) {\n                    e.stopPropagation();\n                    toggle();\n                });\n\n                DEBUG_CONSOLE_READY = true;\n                debugConsoleFlush();\n                debugConsolePush(t.debugReady, 'info');\n                if (DEBUG_AUTO_OPEN) {\n                    consoleEl.classList.add('open');\n                    toggleBtn.textContent = t.debugHide || 'Hide';\n                }\n            }\n\n            window.addEventListener('error', function(event) {\n                var message = event.message || t.debugUnknownError;\n                var location = '';\n                if (event.filename) {\n                    location = event.filename + ':' + (event.lineno || 0) + ':' + (event.colno || 0);\n                }\n                debugConsolePush(message + (location ? ' @ ' + location : ''), 'error');\n                if (event.error && event.error.stack) {\n                    debugConsolePush(event.error.stack, 'error');\n                }\n            });\n\n            window.addEventListener('unhandledrejection', function(event) {\n                var reason = event.reason;\n                if (reason && reason.stack) {\n                    debugConsolePush(reason.stack, 'error');\n                } else {\n                    debugConsolePush(String(reason || t.debugUnhandledPromise), 'error');\n                }\n            });\n\n            (function() {\n                if (!window.console) return;\n                var originalLog = console.log;\n                var originalInfo = console.info;\n                var originalDebug = console.debug;\n                var originalError = console.error;\n                var originalWarn = console.warn;\n                console.log = function() {\n                    debugConsolePush(formatConsoleArgs(arguments), 'info');\n                    if (originalLog) originalLog.apply(console, arguments);\n                };\n                console.info = function() {\n                    debugConsolePush(formatConsoleArgs(arguments), 'info');\n                    if (originalInfo) originalInfo.apply(console, arguments);\n                };\n                console.debug = function() {\n                    debugConsolePush(formatConsoleArgs(arguments), 'info');\n                    if (originalDebug) originalDebug.apply(console, arguments);\n                };\n                console.error = function() {\n                    debugConsolePush(formatConsoleArgs(arguments), 'error');\n                    if (originalError) originalError.apply(console, arguments);\n                };\n                console.warn = function() {\n                    debugConsolePush(formatConsoleArgs(arguments), 'warn');\n                    if (originalWarn) originalWarn.apply(console, arguments);\n                };\n            })();\n\n                // \u7FFB\u8BD1\u5BF9\u8C61\n                                const translations = ${JSON.stringify(translations)};\n\n                function getCookie(name) {\n                    const value = '; ' + document.cookie;\n                    const parts = value.split('; ' + name + '=');\n                    if (parts.length === 2) {\n                        const part = parts.pop();\n                        if (part) return part.split(';').shift();\n                    }\n                    return null;\n                }\n\n                function getPreferredLanguage() {\n                    const savedLang = safeLocalStorageGet('preferredLanguage') || getCookie('preferredLanguage') || '';\n                    const browserLang = (navigator.language || navigator.userLanguage || '').toLowerCase();\n\n                    if (savedLang) {\n                        if (savedLang === 'fa' || savedLang === 'fa-IR') return 'fa';\n                        if (savedLang === 'zh' || savedLang === 'zh-CN' || savedLang === 'zh-Hans') return 'zh';\n                        return 'en';\n                    }\n\n                    if (browserLang.startsWith('fa')) return 'fa';\n                    if (browserLang.startsWith('zh')) return 'zh';\n                    return 'en';\n                }\n\n                function getTranslations() {\n                    const lang = getPreferredLanguage();\n                    const base = translations.en || {};\n                    const current = translations[lang] || {};\n                    const merged = Object.assign({}, base, current);\n                    if (base.regionNames || current.regionNames) {\n                        merged.regionNames = Object.assign({}, base.regionNames || {}, current.regionNames || {});\n                    }\n                    return merged;\n                }\n\n                t = getTranslations();\n\n                function changeLanguage(lang) {\n                    safeLocalStorageSet('preferredLanguage', lang);\n                    // Set Cookie (valid for 1 year)\n                    const expiryDate = new Date();\n                    expiryDate.setFullYear(expiryDate.getFullYear() + 1);\n                    document.cookie = 'preferredLanguage=' + lang + '; path=/; expires=' + expiryDate.toUTCString() + '; SameSite=Lax';\n                    // Reload page, do not use URL parameters\n                    window.location.reload();\n                }\n\n                // Check localStorage and Cookie on page load, and clean up URL parameters\n                window.addEventListener('DOMContentLoaded', function() {\n                    const savedLang = safeLocalStorageGet('preferredLanguage') || getCookie('preferredLanguage');\n                    const urlParams = new URLSearchParams(window.location.search);\n                    const urlLang = urlParams.get('lang');\n\n                    // If URL has language parameter, remove it and set Cookie\n                    if (urlLang) {\n                        const currentUrl = new URL(window.location.href);\n                        currentUrl.searchParams.delete('lang');\n                        const newUrl = currentUrl.toString();\n\n                        // \u8BBE\u7F6ECookie\n                        const expiryDate = new Date();\n                        expiryDate.setFullYear(expiryDate.getFullYear() + 1);\n                        document.cookie = 'preferredLanguage=' + urlLang + '; path=/; expires=' + expiryDate.toUTCString() + '; SameSite=Lax';\n                        safeLocalStorageSet('preferredLanguage', urlLang);\n\n                        // Use history API to remove URL parameter, do not reload page\n                        window.history.replaceState({}, '', newUrl);\n                    } else if (savedLang) {\n                        // If present in localStorage but not in Cookie, sync to Cookie\n                        const expiryDate = new Date();\n                        expiryDate.setFullYear(expiryDate.getFullYear() + 1);\n                        document.cookie = 'preferredLanguage=' + savedLang + '; path=/; expires=' + expiryDate.toUTCString() + '; SameSite=Lax';\n                    }\n                });\n\n            function tryOpenApp(schemeUrl, fallbackCallback, timeout) {\n                timeout = timeout || 2500;\n                var appOpened = false;\n                var callbackExecuted = false;\n                var startTime = Date.now();\n\n                var blurHandler = function() {\n                    var elapsed = Date.now() - startTime;\n                    if (elapsed < 3000 && !callbackExecuted) {\n                        appOpened = true;\n                    }\n                };\n\n                window.addEventListener('blur', blurHandler);\n\n                var hiddenHandler = function() {\n                    var elapsed = Date.now() - startTime;\n                    if (elapsed < 3000 && !callbackExecuted) {\n                        appOpened = true;\n                    }\n                };\n\n                document.addEventListener('visibilitychange', hiddenHandler);\n\n                var iframe = document.createElement('iframe');\n                iframe.style.display = 'none';\n                iframe.style.width = '1px';\n                iframe.style.height = '1px';\n                iframe.src = schemeUrl;\n                document.body.appendChild(iframe);\n\n                setTimeout(function() {\n                    iframe.parentNode && iframe.parentNode.removeChild(iframe);\n                    window.removeEventListener('blur', blurHandler);\n                    document.removeEventListener('visibilitychange', hiddenHandler);\n\n                    if (!callbackExecuted) {\n                        callbackExecuted = true;\n                        if (!appOpened && fallbackCallback) {\n                            fallbackCallback();\n                        }\n                    }\n                }, timeout);\n            }\n\n            function generateClientLink(clientType, clientName) {\n                var currentUrl = window.location.href;\n                var subscriptionUrl = currentUrl + \"/sub\";\n                var schemeUrl = '';\n                var displayName = clientName || '';\n                var finalUrl = subscriptionUrl;\n\n                if (clientType === atob('djJyYXk=')) {\n                    finalUrl = subscriptionUrl;\n                    var urlElement = document.getElementById(\"clientSubscriptionUrl\");\n                    urlElement.textContent = finalUrl;\n                    urlElement.style.display = \"block\";\n                    urlElement.style.overflowWrap = \"break-word\";\n                    urlElement.style.wordBreak = \"break-all\";\n                    urlElement.style.overflowX = \"auto\";\n                    urlElement.style.maxWidth = \"100%\";\n                    urlElement.style.boxSizing = \"border-box\";\n\n                    if (clientName === 'V2RAY') {\n                        navigator.clipboard.writeText(finalUrl).then(function() {\n                                alert(displayName + \" \" + t.subscriptionCopied);\n                        });\n                    } else if (clientName === 'Shadowrocket') {\n                        schemeUrl = 'shadowrocket://add/' + encodeURIComponent(finalUrl);\n                        tryOpenApp(schemeUrl, function() {\n                            navigator.clipboard.writeText(finalUrl).then(function() {\n                                    alert(displayName + \" \" + t.subscriptionCopied);\n                            });\n                        });\n                    } else if (clientName === 'V2RAYNG') {\n                        schemeUrl = 'v2rayng://install?url=' + encodeURIComponent(finalUrl);\n                        tryOpenApp(schemeUrl, function() {\n                            navigator.clipboard.writeText(finalUrl).then(function() {\n                                    alert(displayName + \" \" + t.subscriptionCopied);\n                            });\n                        });\n                    } else if (clientName === 'NEKORAY') {\n                        schemeUrl = 'nekoray://install-config?url=' + encodeURIComponent(finalUrl);\n                        tryOpenApp(schemeUrl, function() {\n                            navigator.clipboard.writeText(finalUrl).then(function() {\n                                    alert(displayName + \" \" + t.subscriptionCopied);\n                            });\n                        });\n                    }\n                } else {\n                    // \u68C0\u67E5 ECH \u662F\u5426\u5F00\u542F\n                    var echEnabled = document.getElementById('ech') && document.getElementById('ech').checked;\n\n                    // \u5982\u679C ECH \u5F00\u542F\u4E14\u662F Clash\uFF0C\u76F4\u63A5\u4F7F\u7528\u540E\u7AEF\u63A5\u53E3\n                    if (echEnabled && clientType === atob('Y2xhc2g=')) {\n                        finalUrl = subscriptionUrl + \"?target=\" + clientType;\n                        var urlElement = document.getElementById(\"clientSubscriptionUrl\");\n                        urlElement.textContent = finalUrl;\n                        urlElement.style.display = \"block\";\n                        urlElement.style.overflowWrap = \"break-word\";\n                        urlElement.style.wordBreak = \"break-all\";\n                        urlElement.style.overflowX = \"auto\";\n                        urlElement.style.maxWidth = \"100%\";\n                        urlElement.style.boxSizing = \"border-box\";\n\n                        if (clientName === 'STASH') {\n                            schemeUrl = 'stash://install?url=' + encodeURIComponent(finalUrl);\n                            displayName = 'STASH';\n                        } else {\n                            schemeUrl = 'clash://install-config?url=' + encodeURIComponent(finalUrl);\n                            displayName = 'CLASH';\n                        }\n\n                        if (schemeUrl) {\n                            tryOpenApp(schemeUrl, function() {\n                                navigator.clipboard.writeText(finalUrl).then(function() {\n                                        alert(displayName + \" \" + t.subscriptionCopied);\n                                });\n                            });\n                        } else {\n                            navigator.clipboard.writeText(finalUrl).then(function() {\n                                    alert(displayName + \" \" + t.subscriptionCopied);\n                            });\n                        }\n                    } else {\n                        // \u5176\u4ED6\u60C5\u51B5\u4F7F\u7528\u8BA2\u9605\u8F6C\u6362\u670D\u52A1\n                        var encodedUrl = encodeURIComponent(subscriptionUrl);\n                        finalUrl = SUB_CONVERTER_URL + \"?target=\" + clientType + \"&url=\" + encodedUrl + \"&insert=false&config=\" + encodeURIComponent(REMOTE_CONFIG_URL) + \"&emoji=true&list=false&xudp=false&udp=false&tfo=false&expand=true&scv=false&fdn=false&new_name=true\";\n                        var urlElement = document.getElementById(\"clientSubscriptionUrl\");\n                        urlElement.textContent = finalUrl;\n                        urlElement.style.display = \"block\";\n                        urlElement.style.overflowWrap = \"break-word\";\n                        urlElement.style.wordBreak = \"break-all\";\n                        urlElement.style.overflowX = \"auto\";\n                        urlElement.style.maxWidth = \"100%\";\n                        urlElement.style.boxSizing = \"border-box\";\n\n                        if (clientType === atob('Y2xhc2g=')) {\n                            if (clientName === 'STASH') {\n                                schemeUrl = 'stash://install?url=' + encodeURIComponent(finalUrl);\n                                displayName = 'STASH';\n                            } else {\n                                schemeUrl = 'clash://install-config?url=' + encodeURIComponent(finalUrl);\n                                displayName = 'CLASH';\n                            }\n                        } else if (clientType === atob('c3VyZ2U=')) {\n                            schemeUrl = 'surge:///install-config?url=' + encodeURIComponent(finalUrl);\n                            displayName = 'SURGE';\n                        } else if (clientType === atob('c2luZ2JveA==')) {\n                            schemeUrl = 'sing-box://install-config?url=' + encodeURIComponent(finalUrl);\n                            displayName = 'SING-BOX';\n                        } else if (clientType === atob('bG9vbg==')) {\n                            schemeUrl = 'loon://install?url=' + encodeURIComponent(finalUrl);\n                            displayName = 'LOON';\n                        } else if (clientType === atob('cXVhbng=')) {\n                            schemeUrl = 'quantumult-x://install-config?url=' + encodeURIComponent(finalUrl);\n                            displayName = 'QUANTUMULT X';\n                        }\n\n                        if (schemeUrl) {\n                            tryOpenApp(schemeUrl, function() {\n                                navigator.clipboard.writeText(finalUrl).then(function() {\n                                        alert(displayName + \" \" + t.subscriptionCopied);\n                                });\n                            });\n                        } else {\n                            navigator.clipboard.writeText(finalUrl).then(function() {\n                                    alert(displayName + \" \" + t.subscriptionCopied);\n                            });\n                        }\n                    }\n                }\n            }\n\n            function createMatrixRain() {\n                const matrixContainer = document.getElementById('matrixCodeRain');\n                const matrixChars = '01ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\n                const columns = Math.floor(window.innerWidth / 18);\n\n                for (let i = 0; i < columns; i++) {\n                    const column = document.createElement('div');\n                    column.className = 'matrix-column';\n                    column.style.left = (i * 18) + 'px';\n                    column.style.animationDelay = Math.random() * 15 + 's';\n                    column.style.animationDuration = (Math.random() * 15 + 8) + 's';\n                    column.style.fontSize = (Math.random() * 4 + 12) + 'px';\n                    column.style.opacity = Math.random() * 0.8 + 0.2;\n\n                    let text = '';\n                    const charCount = Math.floor(Math.random() * 30 + 20);\n                    for (let j = 0; j < charCount; j++) {\n                        const char = matrixChars[Math.floor(Math.random() * matrixChars.length)];\n                        const brightness = Math.random() > 0.1 ? '#00ff00' : '#00aa00';\n                        text += '<span style=\"color: ' + brightness + ';\">' + char + '</span><br>';\n                    }\n                    column.innerHTML = text;\n                    matrixContainer.appendChild(column);\n                }\n\n                setInterval(function() {\n                    const columns = matrixContainer.querySelectorAll('.matrix-column');\n                    columns.forEach(function(column) {\n                        if (Math.random() > 0.95) {\n                            const chars = column.querySelectorAll('span');\n                            if (chars.length > 0) {\n                                const randomChar = chars[Math.floor(Math.random() * chars.length)];\n                                randomChar.style.color = '#ffffff';\n                                setTimeout(function() {\n                                    randomChar.style.color = '#00ff00';\n                                }, 200);\n                            }\n                        }\n                    });\n                }, 100);\n            }\n\n            async function checkSystemStatus() {\n                try {\n                    const cfStatus = document.getElementById('cfStatus');\n                    const regionStatus = document.getElementById('regionStatus');\n                    const geoInfo = document.getElementById('geoInfo');\n                    const backupStatus = document.getElementById('backupStatus');\n                    const currentIP = document.getElementById('currentIP');\n                    const regionMatch = document.getElementById('regionMatch');\n\n                        // \u83B7\u53D6\u5F53\u524D\u8BED\u8A00\u8BBE\u7F6E\uFF08\u4F18\u5148\u4ECECookie/localStorage\u8BFB\u53D6\uFF09\n                        function getCookie(name) {\n                            const value = '; ' + document.cookie;\n                            const parts = value.split('; ' + name + '=');\n                            if (parts.length === 2) {\n                                const part = parts.pop();\n                                if (part) return part.split(';').shift();\n                            }\n                            return null;\n                        }\n\n                        const browserLang = navigator.language || navigator.userLanguage || '';\n                        const savedLang = safeLocalStorageGet('preferredLanguage') || getCookie('preferredLanguage');\n                        let isFarsi = false;\n\n                        if (savedLang === 'fa' || savedLang === 'fa-IR') {\n                            isFarsi = true;\n                        } else if (savedLang === 'zh' || savedLang === 'en-US') {\n                            isFarsi = false;\n                        } else {\n                            isFarsi = browserLang.includes('fa') || browserLang.includes('fa-IR');\n                        }\n\n                        const translations = {\n                            en: {\n                    title: 'Terminal',\n                    congratulations: 'Congratulations, you made it!',\n                    enterU: 'Please enter the value of your U variable',\n                    enterD: 'Please enter the value of your D variable',\n                    command: 'Command: connect [',\n                    uuid: 'UUID',\n                    path: 'PATH',\n                    inputU: 'Enter content of U variable and press Enter...',\n                    inputD: 'Enter content of D variable and press Enter...',\n                    connecting: 'Connecting...',\n                    invading: 'Invading...',\n                    success: 'Connection successful! Returning result...',\n                    error: 'Error: Invalid UUID format',\n                    reenter: 'Please re-enter a valid UUID',\n\n                    // Subscription Page Translations\n                    subtitle: 'Multi-client Support \u2022 Smart Optimization \u2022 One-Click Generation',\n                    selectClient: '[ Select Client ]',\n                    systemStatus: '[ System Status ]',\n                    configManagement: '[ Config Management ]',\n                    relatedLinks: '[ Related Links ]',\n                    checking: 'Checking...',\n                    workerRegion: 'Worker Region: ',\n                    detectionMethod: 'Detection Method: ',\n                    proxyIPStatus: 'ProxyIP Status: ',\n                    currentIP: 'Current IP: ',\n                    regionMatch: 'Region Match: ',\n                    selectionLogic: 'Selection Logic: ',\n                    kvStatusChecking: 'Checking KV Status...',\n                    kvEnabled: '\u2705 KV Storage Enabled, Config Management Available',\n                    kvDisabled: '\u26A0\uFE0F KV Storage Disabled or Not Configured',\n                    specifyRegion: 'Specify Region (wk):',\n                    autoDetect: 'Auto Detect',\n                    saveRegion: 'Save Region Config',\n                    protocolSelection: 'Protocol Selection:',\n                    enableVLESS: 'Enable VLESS Protocol',\n                    enableVMess: 'Enable VMess Protocol',\n                    enableShadowsocks: 'Enable Shadowsocks Protocol',\n                    enableTrojan: 'Enable Trojan Protocol',\n                    enableXhttp: 'Enable xhttp Protocol',\n                    enableTUIC: 'Enable TUIC Protocol',\n                    enableHysteria2: 'Enable Hysteria 2 Protocol',\n                    enableVLESSgRPC: 'Enable VLESS gRPC Protocol',\n                    linkOnlyHint: 'Requires External Backend (Link-Only)',\n                    grpcHint: 'Requires Custom Domain (gRPC)',\n                    trojanPassword: 'Trojan Password (Optional):',\n                    customPath: 'Custom Path (d):',\n                    customPathPlaceholder: 'e.g., /secret-path',\n                    customIP: 'Custom ProxyIP (p):',\n                    customIPPlaceholder: 'e.g., 1.2.3.4 or proxy.example.com',\n                    preferredIPs: 'Preferred IP List (yx):',\n                    preferredIPsPlaceholder: 'e.g., 1.1.1.1:443#HongKong, 8.8.8.8:443#USA',\n                    preferredIPsURL: 'Preferred IP Source URL (yxURL):',\n                    latencyTest: 'Latency Test',\n                    latencyTestIP: 'Test IP/Domain:',\n                    latencyTestIPPlaceholder: 'Enter IP or Domain, comma separated',\n                    latencyTestPort: 'Port:',\n                    startTest: 'Start Test',\n                    stopTest: 'Stop Test',\n                    testResult: 'Test Result:',\n                    addToYx: 'Add to Preferred List',\n                    addSelectedToYx: 'Add Selected to Preferred List',\n                    selectAll: 'Select All',\n                    deselectAll: 'Deselect All',\n                    testingInProgress: 'Testing...',\n                    testComplete: 'Test Complete',\n                    latencyMs: 'Latency (HTTP Handshake)',\n                    timeout: 'Timeout',\n                    ipSource: 'IP Source:',\n                    manualInput: 'Manual Input',\n                    cfRandomIP: 'CF Random IP',\n                    urlFetch: 'Fetch from URL',\n                    randomCount: 'Generate Count:',\n                    fetchURL: 'Fetch URL:',\n                    fetchURLPlaceholder: 'Enter URL of IP list',\n                    generateIP: 'Generate IP',\n                    fetchIP: 'Fetch IP',\n                    socks5Config: 'SOCKS5 Config (s):',\n                    customHomepage: 'Custom Homepage URL (homepage):',\n                    customHomepagePlaceholder: 'e.g., https://example.com',\n                    customHomepageHint: 'Set custom URL as homepage camouflage. Content of this URL will be shown when accessing root path /. Leave empty to show default terminal page.',\n                    customPathHint: 'Only accessible via this path if set. UUID access will be disabled. Suggest using complex path to prevent scanning.',\n                    customIPHint: 'Hide Worker real IP, or solve Cloudflare Loop issue. Supports IP:Port or Domain:Port.',\n                    preferredIPsHint: 'Manually specify preferred nodes. Highest priority. Format: IP:Port#Remark.',\n                    socks5ConfigHint: 'Format: user:pass@host:port. Worker will connect to target via this proxy.',\n                    saveConfig: 'Save Config',\n                    advancedControl: 'Advanced Control',\n                    subscriptionConverter: 'Sub Converter URL:',\n                    builtinPreferred: 'Built-in Preferred Type:',\n                    enablePreferredDomain: 'Enable Preferred Domain',\n                    enablePreferredIP: 'Enable Preferred IP',\n                    enableGitHubPreferred: 'Enable GitHub Default Preferred',\n                    allowAPIManagement: 'Allow API Management (ae):',\n                    regionMatching: 'Region Matching (rm):',\n                    downgradeControl: 'Downgrade Control (qj):',\n                    tlsControl: 'TLS Control (dkby):',\n                    preferredControl: 'Preferred Control (yxby):',\n                    saveAdvanced: 'Save Advanced Config',\n                    loading: 'Loading...',\n                    currentConfig: '\uD83D\uDCCD Current Path Config',\n                    refreshConfig: 'Refresh Config',\n                    resetConfig: 'Reset Config',\n                    subscriptionCopied: 'Subscription Link Copied',\n                    autoSubscriptionCopied: 'Auto-detected subscription link copied. Client will be recognized by User-Agent.',\n                    trojanPasswordPlaceholder: 'Leave empty to use UUID',\n                    trojanPasswordHint: 'Set custom Trojan password. Leave empty to use UUID. Client will auto-hash password with SHA224.',\n                    protocolHint: 'Multiple protocols can be enabled.<br>\u2022 VLESS WS: Standard WebSocket protocol<br>\u2022 VMess WS: WebSocket-based VMess (link generation)<br>\u2022 Shadowsocks: WebSocket-based SS (link generation)<br>\u2022 Trojan: Uses SHA224 password auth<br>\u2022 xhttp: HTTP POST camouflage (requires custom domain & gRPC)',\n                    enableECH: 'Enable ECH (Encrypted Client Hello)',\n                    enableECHHint: 'When enabled, ECH config is fetched from DoH and added to links on every sub refresh',\n                    customDNS: 'Custom DNS Server',\n                    customDNSPlaceholder: 'e.g., https://dns.joeyblog.eu.org/joeyblog',\n                    customDNSHint: 'DNS server for ECH config query (DoH format)',\n                    customECHDomain: 'Custom ECH Domain',\n                    customECHDomainPlaceholder: 'e.g., cloudflare-ech.com',\n                    customECHDomainHint: 'Domain used in ECH config, leave empty for default',\n                    saveProtocol: 'Save Protocol Config',\n                    subscriptionConverterPlaceholder: 'Default: https://url.v1.mk/sub',\n                    subscriptionConverterHint: 'Custom subscription converter API, leave empty for default',\n                    builtinPreferredHint: 'Control which built-in preferred nodes are included. Default all enabled.',\n                    apiEnabledDefault: 'Default (API Disabled)',\n                    apiEnabledYes: 'Enable API Management',\n                    apiEnabledHint: '\u26A0\uFE0F Security Warning: Enabling API allows dynamic preferred IP addition. Use only if needed.',\n                    regionMatchingDefault: 'Default (Enable Region Match)',\n                    regionMatchingNo: 'Disable Region Match',\n                    regionMatchingHint: 'Smart region matching disabled when set to \"Disable\"',\n                    downgradeControlDefault: 'Default (Disable Downgrade)',\n                    downgradeControlNo: 'Enable Downgrade Mode',\n                    downgradeControlHint: 'When enabled: CF Direct Fail -> SOCKS5 -> Fallback',\n                    tlsControlDefault: 'Default (Keep All Nodes)',\n                    tlsControlYes: 'TLS Nodes Only',\n                    tlsControlHint: 'When set to \"TLS Nodes Only\", non-TLS nodes (e.g., port 80) are not generated',\n                    preferredControlDefault: 'Default (Enable Preferred)',\n                    preferredControlYes: 'Disable Preferred',\n                    preferredControlHint: 'When set to \"Disable Preferred\", only native address is used',\n                    regionNames: {\n                        US: '\uD83C\uDDFA\uD83C\uDDF8 US', SG: '\uD83C\uDDF8\uD83C\uDDEC Singapore', JP: '\uD83C\uDDEF\uD83C\uDDF5 Japan',\n                        KR: '\uD83C\uDDF0\uD83C\uDDF7 South Korea', DE: '\uD83C\uDDE9\uD83C\uDDEA Germany', SE: '\uD83C\uDDF8\uD83C\uDDEA Sweden', NL: '\uD83C\uDDF3\uD83C\uDDF1 Netherlands',\n                        FI: '\uD83C\uDDEB\uD83C\uDDEE Finland', GB: '\uD83C\uDDEC\uD83C\uDDE7 UK', FR: '\uD83C\uDDEB\uD83C\uDDF7 France', CA: '\uD83C\uDDE8\uD83C\uDDE6 Canada',\n                        AU: '\uD83C\uDDE6\uD83C\uDDFA Australia', HK: '\uD83C\uDDED\uD83C\uDDF0 Hong Kong', TW: '\uD83C\uDDF9\uD83C\uDDFC Taiwan'\n                    },\n                    terminal: 'Terminal v2.9.3',\n                    githubProject: 'GitHub Project',\n                    autoDetectClient: 'Auto Detect',\n                    selectionLogicText: 'Same Region -> Nearby Region -> Other Regions',\n                    customIPDisabledHint: 'Region selection disabled when using Custom ProxyIP',\n                    customIPMode: 'Custom ProxyIP Mode (p variable enabled)',\n                    customIPModeDesc: 'Custom IP Mode (Region match disabled)',\n                    usingCustomProxyIP: 'Using Custom ProxyIP: ',\n                    customIPConfig: ' (p variable config)',\n                    customIPModeDisabled: 'Custom IP Mode, region selection disabled',\n                    manualRegion: 'Manual Region',\n                    manualRegionDesc: ' (Manual)',\n                    proxyIPAvailable: '10/10 Available (ProxyIP Domain Pre-set)',\n                    smartSelection: 'Smart Nearby Selection',\n                    sameRegionIP: 'Same Region IP Available (1)',\n                    cloudflareDetection: 'Cloudflare Built-in Detection',\n                    detectionFailed: 'Detection Failed',\n                    apiTestResult: 'API Detection Result: ',\n                    apiTestTime: 'Detection Time: ',\n                    apiTestFailed: 'API Detection Failed: ',\n                    unknownError: 'Unknown Error',\n                    apiTestError: 'API Test Failed: ',\n                    kvNotConfigured: 'KV Storage not configured. Config management unavailable.\\n\\nPlease in Cloudflare Workers:\\n1. Create KV Namespace\\n2. Bind variable C\\n3. Redeploy',\n                    kvNotEnabled: 'KV Storage Not Configured',\n                    kvCheckFailed: 'KV Check Failed: Invalid Response',\n                    kvCheckFailedStatus: 'KV Check Failed - Status: ',\n                    kvCheckFailedError: 'KV Check Failed - Error: '\n                },\n                                customIPMode: '\u81EA\u5B9A\u4E49ProxyIP\u6A21\u5F0F (p\u53D8\u91CF\u542F\u7528)',\n                                customIPModeDesc: '\u81EA\u5B9A\u4E49IP\u6A21\u5F0F (\u5DF2\u7981\u7528\u5730\u533A\u5339\u914D)',\n                                usingCustomProxyIP: '\u4F7F\u7528\u81EA\u5B9A\u4E49ProxyIP: ',\n                                customIPConfig: ' (p\u53D8\u91CF\u914D\u7F6E)',\n                                customIPModeDisabled: '\u81EA\u5B9A\u4E49IP\u6A21\u5F0F\uFF0C\u5730\u533A\u9009\u62E9\u5DF2\u7981\u7528',\n                                manualRegion: '\u624B\u52A8\u6307\u5B9A\u5730\u533A',\n                                manualRegionDesc: ' (\u624B\u52A8\u6307\u5B9A)',\n                                proxyIPAvailable: '10/10 \u53EF\u7528 (ProxyIP\u57DF\u540D\u9884\u8BBE\u53EF\u7528)',\n                                smartSelection: '\u667A\u80FD\u5C31\u8FD1\u9009\u62E9\u4E2D',\n                                sameRegionIP: '\u540C\u5730\u533AIP\u53EF\u7528 (1\u4E2A)',\n                                cloudflareDetection: 'Cloudflare\u5185\u7F6E\u68C0\u6D4B',\n                                detectionFailed: '\u68C0\u6D4B\u5931\u8D25',\n                                unknown: 'Unknown'\n                            },\n                            fa: {\n                                workerRegion: '\u0645\u0646\u0637\u0642\u0647 Worker: ',\n                                detectionMethod: '\u0631\u0648\u0634 \u062A\u0634\u062E\u06CC\u0635: ',\n                                proxyIPStatus: '\u0648\u0636\u0639\u06CC\u062A ProxyIP: ',\n                                currentIP: 'IP \u0641\u0639\u0644\u06CC: ',\n                                regionMatch: '\u062A\u0637\u0628\u06CC\u0642 \u0645\u0646\u0637\u0642\u0647: ',\n                                regionNames: {\n                                    'US': '\uD83C\uDDFA\uD83C\uDDF8 \u0622\u0645\u0631\u06CC\u06A9\u0627', 'SG': '\uD83C\uDDF8\uD83C\uDDEC \u0633\u0646\u06AF\u0627\u067E\u0648\u0631', 'JP': '\uD83C\uDDEF\uD83C\uDDF5 \u0698\u0627\u067E\u0646',\n                                    'KR': '\uD83C\uDDF0\uD83C\uDDF7 \u06A9\u0631\u0647 \u062C\u0646\u0648\u0628\u06CC', 'DE': '\uD83C\uDDE9\uD83C\uDDEA \u0622\u0644\u0645\u0627\u0646', 'SE': '\uD83C\uDDF8\uD83C\uDDEA \u0633\u0648\u0626\u062F', 'NL': '\uD83C\uDDF3\uD83C\uDDF1 \u0647\u0644\u0646\u062F',\n                                    'FI': '\uD83C\uDDEB\uD83C\uDDEE \u0641\u0646\u0644\u0627\u0646\u062F', 'GB': '\uD83C\uDDEC\uD83C\uDDE7 \u0628\u0631\u06CC\u062A\u0627\u0646\u06CC\u0627'\n                                },\n                                customIPMode: '\u062D\u0627\u0644\u062A ProxyIP \u0633\u0641\u0627\u0631\u0634\u06CC (\u0645\u062A\u063A\u06CC\u0631 p \u0641\u0639\u0627\u0644 \u0627\u0633\u062A)',\n                                customIPModeDesc: '\u062D\u0627\u0644\u062A IP \u0633\u0641\u0627\u0631\u0634\u06CC (\u062A\u0637\u0628\u06CC\u0642 \u0645\u0646\u0637\u0642\u0647 \u063A\u06CC\u0631\u0641\u0639\u0627\u0644 \u0627\u0633\u062A)',\n                                usingCustomProxyIP: '\u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u0627\u0632 ProxyIP \u0633\u0641\u0627\u0631\u0634\u06CC: ',\n                                customIPConfig: ' (\u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0645\u062A\u063A\u06CC\u0631 p)',\n                                customIPModeDisabled: '\u062D\u0627\u0644\u062A IP \u0633\u0641\u0627\u0631\u0634\u06CC\u060C \u0627\u0646\u062A\u062E\u0627\u0628 \u0645\u0646\u0637\u0642\u0647 \u063A\u06CC\u0631\u0641\u0639\u0627\u0644 \u0627\u0633\u062A',\n                                manualRegion: '\u062A\u0639\u06CC\u06CC\u0646 \u0645\u0646\u0637\u0642\u0647 \u062F\u0633\u062A\u06CC',\n                                manualRegionDesc: ' (\u062A\u0639\u06CC\u06CC\u0646 \u062F\u0633\u062A\u06CC)',\n                                proxyIPAvailable: '10/10 \u062F\u0631 \u062F\u0633\u062A\u0631\u0633 (\u062F\u0627\u0645\u0646\u0647 \u067E\u06CC\u0634\u200C\u0641\u0631\u0636 ProxyIP \u062F\u0631 \u062F\u0633\u062A\u0631\u0633 \u0627\u0633\u062A)',\n                                smartSelection: '\u0627\u0646\u062A\u062E\u0627\u0628 \u0647\u0648\u0634\u0645\u0646\u062F \u0646\u0632\u062F\u06CC\u06A9 \u062F\u0631 \u062D\u0627\u0644 \u0627\u0646\u062C\u0627\u0645 \u0627\u0633\u062A',\n                                sameRegionIP: 'IP \u0647\u0645\u200C\u0645\u0646\u0637\u0642\u0647 \u062F\u0631 \u062F\u0633\u062A\u0631\u0633 \u0627\u0633\u062A (1)',\n                                cloudflareDetection: '\u062A\u0634\u062E\u06CC\u0635 \u062F\u0627\u062E\u0644\u06CC Cloudflare',\n                                detectionFailed: '\u062A\u0634\u062E\u06CC\u0635 \u0646\u0627\u0645\u0648\u0641\u0642',\n                                unknown: '\u0646\u0627\u0634\u0646\u0627\u062E\u062A\u0647'\n                            }\n                        };\n\n                        const t = getTranslations();\n\n                    let detectedRegion = 'US'; // \u9ED8\u8BA4\u503C\n                    let isCustomIPMode = false;\n                    let isManualRegionMode = false;\n                    try {\n                        const response = await fetch(window.location.pathname + '/region');\n                        const data = await response.json();\n\n                        if (data.region === 'CUSTOM') {\n                            isCustomIPMode = true;\n                            detectedRegion = 'CUSTOM';\n\n                            // \u83B7\u53D6\u81EA\u5B9A\u4E49IP\u7684\u8BE6\u7EC6\u4FE1\u606F\n                                const customIPInfo = data.ci || t.unknown;\n\n                                geoInfo.innerHTML = t.detectionMethod + '<span style=\"color: #ffaa00;\">\u2699\uFE0F ' + t.customIPMode + '</span>';\n                                regionStatus.innerHTML = t.workerRegion + '<span style=\"color: #ffaa00;\">\uD83D\uDD27 ' + t.customIPModeDesc + '</span>';\n\n                            // \u663E\u793A\u81EA\u5B9A\u4E49IP\u914D\u7F6E\u72B6\u6001\uFF0C\u5305\u542B\u5177\u4F53IP\n                                if (backupStatus) backupStatus.innerHTML = t.proxyIPStatus + '<span style=\"color: #ffaa00;\">\uD83D\uDD27 ' + t.usingCustomProxyIP + customIPInfo + '</span>';\n                                if (currentIP) currentIP.innerHTML = t.currentIP + '<span style=\"color: #ffaa00;\">\u2705 ' + customIPInfo + t.customIPConfig + '</span>';\n                                if (regionMatch) regionMatch.innerHTML = t.regionMatch + '<span style=\"color: #ffaa00;\">\u26A0\uFE0F ' + t.customIPModeDisabled + '</span>';\n\n                            return; // \u63D0\u524D\u8FD4\u56DE\uFF0C\u4E0D\u6267\u884C\u540E\u7EED\u7684\u5730\u533A\u5339\u914D\u903B\u8F91\n                            } else if (data.detectionMethod === 'Manual Region' || data.detectionMethod === '\u624B\u52A8\u6307\u5B9A\u5730\u533A' || data.detectionMethod === '\u062A\u0639\u06CC\u06CC\u0646 \u0645\u0646\u0637\u0642\u0647 \u062F\u0633\u062A\u06CC') {\n                            isManualRegionMode = true;\n                            detectedRegion = data.region;\n\n                                geoInfo.innerHTML = t.detectionMethod + '<span style=\"color: #44aa44;\">' + t.manualRegion + '</span>';\n                                regionStatus.innerHTML = t.workerRegion + '<span style=\"color: #44ff44;\">\uD83C\uDFAF ' + t.regionNames[detectedRegion] + t.manualRegionDesc + '</span>';\n\n                            // \u663E\u793A\u914D\u7F6E\u72B6\u6001\u800C\u4E0D\u662F\u68C0\u6D4B\u72B6\u6001\n                                if (backupStatus) backupStatus.innerHTML = t.proxyIPStatus + '<span style=\"color: #44ff44;\">\u2705 ' + t.proxyIPAvailable + '</span>';\n                                if (currentIP) currentIP.innerHTML = t.currentIP + '<span style=\"color: #44ff44;\">\u2705 ' + t.smartSelection + '</span>';\n                                if (regionMatch) regionMatch.innerHTML = t.regionMatch + '<span style=\"color: #44ff44;\">\u2705 ' + t.sameRegionIP + '</span>';\n\n                            return; // \u63D0\u524D\u8FD4\u56DE\uFF0C\u4E0D\u6267\u884C\u540E\u7EED\u7684\u5730\u533A\u5339\u914D\u903B\u8F91\n                            } else if (data.region && t.regionNames[data.region]) {\n                            detectedRegion = data.region;\n                        }\n\n                            geoInfo.innerHTML = t.detectionMethod + '<span style=\"color: #44ff44;\">' + t.cloudflareDetection + '</span>';\n\n                    } catch (e) {\n                            geoInfo.innerHTML = t.detectionMethod + '<span style=\"color: #ff4444;\">' + t.detectionFailed + '</span>';\n                    }\n\n                        regionStatus.innerHTML = t.workerRegion + '<span style=\"color: #44ff44;\">\u2705 ' + t.regionNames[detectedRegion] + '</span>';\n\n                    // \u76F4\u63A5\u663E\u793A\u914D\u7F6E\u72B6\u6001\uFF0C\u4E0D\u518D\u8FDB\u884C\u68C0\u6D4B\n                    if (backupStatus) {\n                            backupStatus.innerHTML = t.proxyIPStatus + '<span style=\"color: #44ff44;\">\u2705 ' + t.proxyIPAvailable + '</span>';\n                    }\n\n                    if (currentIP) {\n                            currentIP.innerHTML = t.currentIP + '<span style=\"color: #44ff44;\">\u2705 ' + t.smartSelection + '</span>';\n                    }\n\n                    if (regionMatch) {\n                            regionMatch.innerHTML = t.regionMatch + '<span style=\"color: #44ff44;\">\u2705 ' + t.sameRegionIP + '</span>';\n                    }\n\n                } catch (error) {\n                        debugConsolePush('checkSystemStatus failed: ' + (error && error.message ? error.message : error), 'error');\n                        function getCookie(name) {\n                            const value = '; ' + document.cookie;\n                            const parts = value.split('; ' + name + '=');\n                            if (parts.length === 2) {\n                                const part = parts.pop();\n                                if (part) return part.split(';').shift();\n                            }\n                            return null;\n                        }\n\n                        const browserLang = navigator.language || navigator.userLanguage || '';\n                        const savedLang = safeLocalStorageGet('preferredLanguage') || getCookie('preferredLanguage');\n                        let isFarsi = false;\n\n                        if (savedLang === 'fa' || savedLang === 'fa-IR') {\n                            isFarsi = true;\n                        } else {\n                            isFarsi = browserLang.includes('fa') || browserLang.includes('fa-IR');\n                        }\n\n                        const translations = {\n                            en: {\n                    title: 'Terminal',\n                    congratulations: 'Congratulations, you made it!',\n                    enterU: 'Please enter the value of your U variable',\n                    enterD: 'Please enter the value of your D variable',\n                    command: 'Command: connect [',\n                    uuid: 'UUID',\n                    path: 'PATH',\n                    inputU: 'Enter content of U variable and press Enter...',\n                    inputD: 'Enter content of D variable and press Enter...',\n                    connecting: 'Connecting...',\n                    invading: 'Invading...',\n                    success: 'Connection successful! Returning result...',\n                    error: 'Error: Invalid UUID format',\n                    reenter: 'Please re-enter a valid UUID',\n\n                    // Subscription Page Translations\n                    subtitle: 'Multi-client Support \u2022 Smart Optimization \u2022 One-Click Generation',\n                    selectClient: '[ Select Client ]',\n                    systemStatus: '[ System Status ]',\n                    configManagement: '[ Config Management ]',\n                    relatedLinks: '[ Related Links ]',\n                    checking: 'Checking...',\n                    workerRegion: 'Worker Region: ',\n                    detectionMethod: 'Detection Method: ',\n                    proxyIPStatus: 'ProxyIP Status: ',\n                    currentIP: 'Current IP: ',\n                    regionMatch: 'Region Match: ',\n                    selectionLogic: 'Selection Logic: ',\n                    kvStatusChecking: 'Checking KV Status...',\n                    kvEnabled: '\u2705 KV Storage Enabled, Config Management Available',\n                    kvDisabled: '\u26A0\uFE0F KV Storage Disabled or Not Configured',\n                    specifyRegion: 'Specify Region (wk):',\n                    autoDetect: 'Auto Detect',\n                    saveRegion: 'Save Region Config',\n                    protocolSelection: 'Protocol Selection:',\n                    enableVLESS: 'Enable VLESS Protocol',\n                    enableVMess: 'Enable VMess Protocol',\n                    enableShadowsocks: 'Enable Shadowsocks Protocol',\n                    enableTrojan: 'Enable Trojan Protocol',\n                    enableXhttp: 'Enable xhttp Protocol',\n                    enableTUIC: 'Enable TUIC Protocol',\n                    enableHysteria2: 'Enable Hysteria 2 Protocol',\n                    enableVLESSgRPC: 'Enable VLESS gRPC Protocol',\n                    linkOnlyHint: 'Requires External Backend (Link-Only)',\n                    grpcHint: 'Requires Custom Domain (gRPC)',\n                    trojanPassword: 'Trojan Password (Optional):',\n                    customPath: 'Custom Path (d):',\n                    customPathPlaceholder: 'e.g., /secret-path',\n                    customIP: 'Custom ProxyIP (p):',\n                    customIPPlaceholder: 'e.g., 1.2.3.4 or proxy.example.com',\n                    preferredIPs: 'Preferred IP List (yx):',\n                    preferredIPsPlaceholder: 'e.g., 1.1.1.1:443#HongKong, 8.8.8.8:443#USA',\n                    preferredIPsURL: 'Preferred IP Source URL (yxURL):',\n                    latencyTest: 'Latency Test',\n                    latencyTestIP: 'Test IP/Domain:',\n                    latencyTestIPPlaceholder: 'Enter IP or Domain, comma separated',\n                    latencyTestPort: 'Port:',\n                    startTest: 'Start Test',\n                    stopTest: 'Stop Test',\n                    testResult: 'Test Result:',\n                    addToYx: 'Add to Preferred List',\n                    addSelectedToYx: 'Add Selected to Preferred List',\n                    selectAll: 'Select All',\n                    deselectAll: 'Deselect All',\n                    testingInProgress: 'Testing...',\n                    testComplete: 'Test Complete',\n                    latencyMs: 'Latency (HTTP Handshake)',\n                    timeout: 'Timeout',\n                    ipSource: 'IP Source:',\n                    manualInput: 'Manual Input',\n                    cfRandomIP: 'CF Random IP',\n                    urlFetch: 'Fetch from URL',\n                    randomCount: 'Generate Count:',\n                    fetchURL: 'Fetch URL:',\n                    fetchURLPlaceholder: 'Enter URL of IP list',\n                    generateIP: 'Generate IP',\n                    fetchIP: 'Fetch IP',\n                    socks5Config: 'SOCKS5 Config (s):',\n                    customHomepage: 'Custom Homepage URL (homepage):',\n                    customHomepagePlaceholder: 'e.g., https://example.com',\n                    customHomepageHint: 'Set custom URL as homepage camouflage. Content of this URL will be shown when accessing root path /. Leave empty to show default terminal page.',\n                    customPathHint: 'Only accessible via this path if set. UUID access will be disabled. Suggest using complex path to prevent scanning.',\n                    customIPHint: 'Hide Worker real IP, or solve Cloudflare Loop issue. Supports IP:Port or Domain:Port.',\n                    preferredIPsHint: 'Manually specify preferred nodes. Highest priority. Format: IP:Port#Remark.',\n                    socks5ConfigHint: 'Format: user:pass@host:port. Worker will connect to target via this proxy.',\n                    saveConfig: 'Save Config',\n                    advancedControl: 'Advanced Control',\n                    subscriptionConverter: 'Sub Converter URL:',\n                    builtinPreferred: 'Built-in Preferred Type:',\n                    enablePreferredDomain: 'Enable Preferred Domain',\n                    enablePreferredIP: 'Enable Preferred IP',\n                    enableGitHubPreferred: 'Enable GitHub Default Preferred',\n                    allowAPIManagement: 'Allow API Management (ae):',\n                    regionMatching: 'Region Matching (rm):',\n                    downgradeControl: 'Downgrade Control (qj):',\n                    tlsControl: 'TLS Control (dkby):',\n                    preferredControl: 'Preferred Control (yxby):',\n                    saveAdvanced: 'Save Advanced Config',\n                    loading: 'Loading...',\n                    currentConfig: '\uD83D\uDCCD Current Path Config',\n                    refreshConfig: 'Refresh Config',\n                    resetConfig: 'Reset Config',\n                    subscriptionCopied: 'Subscription Link Copied',\n                    autoSubscriptionCopied: 'Auto-detected subscription link copied. Client will be recognized by User-Agent.',\n                    trojanPasswordPlaceholder: 'Leave empty to use UUID',\n                    trojanPasswordHint: 'Set custom Trojan password. Leave empty to use UUID. Client will auto-hash password with SHA224.',\n                    protocolHint: 'Multiple protocols can be enabled.<br>\u2022 VLESS WS: Standard WebSocket protocol<br>\u2022 VMess WS: WebSocket-based VMess (link generation)<br>\u2022 Shadowsocks: WebSocket-based SS (link generation)<br>\u2022 Trojan: Uses SHA224 password auth<br>\u2022 xhttp: HTTP POST camouflage (requires custom domain & gRPC)',\n                    enableECH: 'Enable ECH (Encrypted Client Hello)',\n                    enableECHHint: 'When enabled, ECH config is fetched from DoH and added to links on every sub refresh',\n                    customDNS: 'Custom DNS Server',\n                    customDNSPlaceholder: 'e.g., https://dns.joeyblog.eu.org/joeyblog',\n                    customDNSHint: 'DNS server for ECH config query (DoH format)',\n                    customECHDomain: 'Custom ECH Domain',\n                    customECHDomainPlaceholder: 'e.g., cloudflare-ech.com',\n                    customECHDomainHint: 'Domain used in ECH config, leave empty for default',\n                    saveProtocol: 'Save Protocol Config',\n                    subscriptionConverterPlaceholder: 'Default: https://url.v1.mk/sub',\n                    subscriptionConverterHint: 'Custom subscription converter API, leave empty for default',\n                    builtinPreferredHint: 'Control which built-in preferred nodes are included. Default all enabled.',\n                    apiEnabledDefault: 'Default (API Disabled)',\n                    apiEnabledYes: 'Enable API Management',\n                    apiEnabledHint: '\u26A0\uFE0F Security Warning: Enabling API allows dynamic preferred IP addition. Use only if needed.',\n                    regionMatchingDefault: 'Default (Enable Region Match)',\n                    regionMatchingNo: 'Disable Region Match',\n                    regionMatchingHint: 'Smart region matching disabled when set to \"Disable\"',\n                    downgradeControlDefault: 'Default (Disable Downgrade)',\n                    downgradeControlNo: 'Enable Downgrade Mode',\n                    downgradeControlHint: 'When enabled: CF Direct Fail -> SOCKS5 -> Fallback',\n                    tlsControlDefault: 'Default (Keep All Nodes)',\n                    tlsControlYes: 'TLS Nodes Only',\n                    tlsControlHint: 'When set to \"TLS Nodes Only\", non-TLS nodes (e.g., port 80) are not generated',\n                    preferredControlDefault: 'Default (Enable Preferred)',\n                    preferredControlYes: 'Disable Preferred',\n                    preferredControlHint: 'When set to \"Disable Preferred\", only native address is used',\n                    regionNames: {\n                        US: '\uD83C\uDDFA\uD83C\uDDF8 US', SG: '\uD83C\uDDF8\uD83C\uDDEC Singapore', JP: '\uD83C\uDDEF\uD83C\uDDF5 Japan',\n                        KR: '\uD83C\uDDF0\uD83C\uDDF7 South Korea', DE: '\uD83C\uDDE9\uD83C\uDDEA Germany', SE: '\uD83C\uDDF8\uD83C\uDDEA Sweden', NL: '\uD83C\uDDF3\uD83C\uDDF1 Netherlands',\n                        FI: '\uD83C\uDDEB\uD83C\uDDEE Finland', GB: '\uD83C\uDDEC\uD83C\uDDE7 UK', FR: '\uD83C\uDDEB\uD83C\uDDF7 France', CA: '\uD83C\uDDE8\uD83C\uDDE6 Canada',\n                        AU: '\uD83C\uDDE6\uD83C\uDDFA Australia', HK: '\uD83C\uDDED\uD83C\uDDF0 Hong Kong', TW: '\uD83C\uDDF9\uD83C\uDDFC Taiwan'\n                    },\n                    terminal: 'Terminal v2.9.3',\n                    githubProject: 'GitHub Project',\n                    autoDetectClient: 'Auto Detect',\n                    selectionLogicText: 'Same Region -> Nearby Region -> Other Regions',\n                    customIPDisabledHint: 'Region selection disabled when using Custom ProxyIP',\n                    customIPMode: 'Custom ProxyIP Mode (p variable enabled)',\n                    customIPModeDesc: 'Custom IP Mode (Region match disabled)',\n                    usingCustomProxyIP: 'Using Custom ProxyIP: ',\n                    customIPConfig: ' (p variable config)',\n                    customIPModeDisabled: 'Custom IP Mode, region selection disabled',\n                    manualRegion: 'Manual Region',\n                    manualRegionDesc: ' (Manual)',\n                    proxyIPAvailable: '10/10 Available (ProxyIP Domain Pre-set)',\n                    smartSelection: 'Smart Nearby Selection',\n                    sameRegionIP: 'Same Region IP Available (1)',\n                    cloudflareDetection: 'Cloudflare Built-in Detection',\n                    detectionFailed: 'Detection Failed',\n                    apiTestResult: 'API Detection Result: ',\n                    apiTestTime: 'Detection Time: ',\n                    apiTestFailed: 'API Detection Failed: ',\n                    unknownError: 'Unknown Error',\n                    apiTestError: 'API Test Failed: ',\n                    kvNotConfigured: 'KV Storage not configured. Config management unavailable.\\n\\nPlease in Cloudflare Workers:\\n1. Create KV Namespace\\n2. Bind variable C\\n3. Redeploy',\n                    kvNotEnabled: 'KV Storage Not Configured',\n                    kvCheckFailed: 'KV Check Failed: Invalid Response',\n                    kvCheckFailedStatus: 'KV Check Failed - Status: ',\n                    kvCheckFailedError: 'KV Check Failed - Error: '\n                },\n                            fa: {\n                                workerRegion: '\u0645\u0646\u0637\u0642\u0647 Worker: ',\n                                detectionMethod: '\u0631\u0648\u0634 \u062A\u0634\u062E\u06CC\u0635: ',\n                                proxyIPStatus: '\u0648\u0636\u0639\u06CC\u062A ProxyIP: ',\n                                currentIP: 'IP \u0641\u0639\u0644\u06CC: ',\n                                regionMatch: '\u062A\u0637\u0628\u06CC\u0642 \u0645\u0646\u0637\u0642\u0647: ',\n                                detectionFailed: '\u062A\u0634\u062E\u06CC\u0635 \u0646\u0627\u0645\u0648\u0641\u0642'\n                            }\n                        };\n\n                        const t = getTranslations();\n\n                        document.getElementById('regionStatus').innerHTML = t.workerRegion + '<span style=\"color: #ff4444;\">\u274C ' + t.detectionFailed + '</span>';\n                        document.getElementById('geoInfo').innerHTML = t.detectionMethod + '<span style=\"color: #ff4444;\">\u274C ' + t.detectionFailed + '</span>';\n                        document.getElementById('backupStatus').innerHTML = t.proxyIPStatus + '<span style=\"color: #ff4444;\">\u274C ' + t.detectionFailed + '</span>';\n                        document.getElementById('currentIP').innerHTML = t.currentIP + '<span style=\"color: #ff4444;\">\u274C ' + t.detectionFailed + '</span>';\n                        document.getElementById('regionMatch').innerHTML = t.regionMatch + '<span style=\"color: #ff4444;\">\u274C ' + t.detectionFailed + '</span>';\n                }\n            }\n\n                async function testAPI() {\n                    try {\n                        function getCookie(name) {\n                            const value = '; ' + document.cookie;\n                            const parts = value.split('; ' + name + '=');\n                            if (parts.length === 2) {\n                                const part = parts.pop();\n                                if (part) return part.split(';').shift();\n                            }\n                            return null;\n                        }\n\n                        const browserLang = navigator.language || navigator.userLanguage || '';\n                        const savedLang = safeLocalStorageGet('preferredLanguage') || getCookie('preferredLanguage');\n                        let isFarsi = false;\n\n                        if (savedLang === 'fa' || savedLang === 'fa-IR') {\n                            isFarsi = true;\n                        } else {\n                            isFarsi = browserLang.includes('fa') || browserLang.includes('fa-IR');\n                        }\n\n                        const translations = {\n                            en: {\n                    title: 'Terminal',\n                    congratulations: 'Congratulations, you made it!',\n                    enterU: 'Please enter the value of your U variable',\n                    enterD: 'Please enter the value of your D variable',\n                    command: 'Command: connect [',\n                    uuid: 'UUID',\n                    path: 'PATH',\n                    inputU: 'Enter content of U variable and press Enter...',\n                    inputD: 'Enter content of D variable and press Enter...',\n                    connecting: 'Connecting...',\n                    invading: 'Invading...',\n                    success: 'Connection successful! Returning result...',\n                    error: 'Error: Invalid UUID format',\n                    reenter: 'Please re-enter a valid UUID',\n\n                    // Subscription Page Translations\n                    subtitle: 'Multi-client Support \u2022 Smart Optimization \u2022 One-Click Generation',\n                    selectClient: '[ Select Client ]',\n                    systemStatus: '[ System Status ]',\n                    configManagement: '[ Config Management ]',\n                    relatedLinks: '[ Related Links ]',\n                    checking: 'Checking...',\n                    workerRegion: 'Worker Region: ',\n                    detectionMethod: 'Detection Method: ',\n                    proxyIPStatus: 'ProxyIP Status: ',\n                    currentIP: 'Current IP: ',\n                    regionMatch: 'Region Match: ',\n                    selectionLogic: 'Selection Logic: ',\n                    kvStatusChecking: 'Checking KV Status...',\n                    kvEnabled: '\u2705 KV Storage Enabled, Config Management Available',\n                    kvDisabled: '\u26A0\uFE0F KV Storage Disabled or Not Configured',\n                    specifyRegion: 'Specify Region (wk):',\n                    autoDetect: 'Auto Detect',\n                    saveRegion: 'Save Region Config',\n                    protocolSelection: 'Protocol Selection:',\n                    enableVLESS: 'Enable VLESS Protocol',\n                    enableVMess: 'Enable VMess Protocol',\n                    enableShadowsocks: 'Enable Shadowsocks Protocol',\n                    enableTrojan: 'Enable Trojan Protocol',\n                    enableXhttp: 'Enable xhttp Protocol',\n                    enableTUIC: 'Enable TUIC Protocol',\n                    enableHysteria2: 'Enable Hysteria 2 Protocol',\n                    enableVLESSgRPC: 'Enable VLESS gRPC Protocol',\n                    linkOnlyHint: 'Requires External Backend (Link-Only)',\n                    grpcHint: 'Requires Custom Domain (gRPC)',\n                    trojanPassword: 'Trojan Password (Optional):',\n                    customPath: 'Custom Path (d):',\n                    customPathPlaceholder: 'e.g., /secret-path',\n                    customIP: 'Custom ProxyIP (p):',\n                    customIPPlaceholder: 'e.g., 1.2.3.4 or proxy.example.com',\n                    preferredIPs: 'Preferred IP List (yx):',\n                    preferredIPsPlaceholder: 'e.g., 1.1.1.1:443#HongKong, 8.8.8.8:443#USA',\n                    preferredIPsURL: 'Preferred IP Source URL (yxURL):',\n                    latencyTest: 'Latency Test',\n                    latencyTestIP: 'Test IP/Domain:',\n                    latencyTestIPPlaceholder: 'Enter IP or Domain, comma separated',\n                    latencyTestPort: 'Port:',\n                    startTest: 'Start Test',\n                    stopTest: 'Stop Test',\n                    testResult: 'Test Result:',\n                    addToYx: 'Add to Preferred List',\n                    addSelectedToYx: 'Add Selected to Preferred List',\n                    selectAll: 'Select All',\n                    deselectAll: 'Deselect All',\n                    testingInProgress: 'Testing...',\n                    testComplete: 'Test Complete',\n                    latencyMs: 'Latency (HTTP Handshake)',\n                    timeout: 'Timeout',\n                    ipSource: 'IP Source:',\n                    manualInput: 'Manual Input',\n                    cfRandomIP: 'CF Random IP',\n                    urlFetch: 'Fetch from URL',\n                    randomCount: 'Generate Count:',\n                    fetchURL: 'Fetch URL:',\n                    fetchURLPlaceholder: 'Enter URL of IP list',\n                    generateIP: 'Generate IP',\n                    fetchIP: 'Fetch IP',\n                    socks5Config: 'SOCKS5 Config (s):',\n                    customHomepage: 'Custom Homepage URL (homepage):',\n                    customHomepagePlaceholder: 'e.g., https://example.com',\n                    customHomepageHint: 'Set custom URL as homepage camouflage. Content of this URL will be shown when accessing root path /. Leave empty to show default terminal page.',\n                    customPathHint: 'Only accessible via this path if set. UUID access will be disabled. Suggest using complex path to prevent scanning.',\n                    customIPHint: 'Hide Worker real IP, or solve Cloudflare Loop issue. Supports IP:Port or Domain:Port.',\n                    preferredIPsHint: 'Manually specify preferred nodes. Highest priority. Format: IP:Port#Remark.',\n                    socks5ConfigHint: 'Format: user:pass@host:port. Worker will connect to target via this proxy.',\n                    saveConfig: 'Save Config',\n                    advancedControl: 'Advanced Control',\n                    subscriptionConverter: 'Sub Converter URL:',\n                    builtinPreferred: 'Built-in Preferred Type:',\n                    enablePreferredDomain: 'Enable Preferred Domain',\n                    enablePreferredIP: 'Enable Preferred IP',\n                    enableGitHubPreferred: 'Enable GitHub Default Preferred',\n                    allowAPIManagement: 'Allow API Management (ae):',\n                    regionMatching: 'Region Matching (rm):',\n                    downgradeControl: 'Downgrade Control (qj):',\n                    tlsControl: 'TLS Control (dkby):',\n                    preferredControl: 'Preferred Control (yxby):',\n                    saveAdvanced: 'Save Advanced Config',\n                    loading: 'Loading...',\n                    currentConfig: '\uD83D\uDCCD Current Path Config',\n                    refreshConfig: 'Refresh Config',\n                    resetConfig: 'Reset Config',\n                    subscriptionCopied: 'Subscription Link Copied',\n                    autoSubscriptionCopied: 'Auto-detected subscription link copied. Client will be recognized by User-Agent.',\n                    trojanPasswordPlaceholder: 'Leave empty to use UUID',\n                    trojanPasswordHint: 'Set custom Trojan password. Leave empty to use UUID. Client will auto-hash password with SHA224.',\n                    protocolHint: 'Multiple protocols can be enabled.<br>\u2022 VLESS WS: Standard WebSocket protocol<br>\u2022 VMess WS: WebSocket-based VMess (link generation)<br>\u2022 Shadowsocks: WebSocket-based SS (link generation)<br>\u2022 Trojan: Uses SHA224 password auth<br>\u2022 xhttp: HTTP POST camouflage (requires custom domain & gRPC)',\n                    enableECH: 'Enable ECH (Encrypted Client Hello)',\n                    enableECHHint: 'When enabled, ECH config is fetched from DoH and added to links on every sub refresh',\n                    customDNS: 'Custom DNS Server',\n                    customDNSPlaceholder: 'e.g., https://dns.joeyblog.eu.org/joeyblog',\n                    customDNSHint: 'DNS server for ECH config query (DoH format)',\n                    customECHDomain: 'Custom ECH Domain',\n                    customECHDomainPlaceholder: 'e.g., cloudflare-ech.com',\n                    customECHDomainHint: 'Domain used in ECH config, leave empty for default',\n                    saveProtocol: 'Save Protocol Config',\n                    subscriptionConverterPlaceholder: 'Default: https://url.v1.mk/sub',\n                    subscriptionConverterHint: 'Custom subscription converter API, leave empty for default',\n                    builtinPreferredHint: 'Control which built-in preferred nodes are included. Default all enabled.',\n                    apiEnabledDefault: 'Default (API Disabled)',\n                    apiEnabledYes: 'Enable API Management',\n                    apiEnabledHint: '\u26A0\uFE0F Security Warning: Enabling API allows dynamic preferred IP addition. Use only if needed.',\n                    regionMatchingDefault: 'Default (Enable Region Match)',\n                    regionMatchingNo: 'Disable Region Match',\n                    regionMatchingHint: 'Smart region matching disabled when set to \"Disable\"',\n                    downgradeControlDefault: 'Default (Disable Downgrade)',\n                    downgradeControlNo: 'Enable Downgrade Mode',\n                    downgradeControlHint: 'When enabled: CF Direct Fail -> SOCKS5 -> Fallback',\n                    tlsControlDefault: 'Default (Keep All Nodes)',\n                    tlsControlYes: 'TLS Nodes Only',\n                    tlsControlHint: 'When set to \"TLS Nodes Only\", non-TLS nodes (e.g., port 80) are not generated',\n                    preferredControlDefault: 'Default (Enable Preferred)',\n                    preferredControlYes: 'Disable Preferred',\n                    preferredControlHint: 'When set to \"Disable Preferred\", only native address is used',\n                    regionNames: {\n                        US: '\uD83C\uDDFA\uD83C\uDDF8 US', SG: '\uD83C\uDDF8\uD83C\uDDEC Singapore', JP: '\uD83C\uDDEF\uD83C\uDDF5 Japan',\n                        KR: '\uD83C\uDDF0\uD83C\uDDF7 South Korea', DE: '\uD83C\uDDE9\uD83C\uDDEA Germany', SE: '\uD83C\uDDF8\uD83C\uDDEA Sweden', NL: '\uD83C\uDDF3\uD83C\uDDF1 Netherlands',\n                        FI: '\uD83C\uDDEB\uD83C\uDDEE Finland', GB: '\uD83C\uDDEC\uD83C\uDDE7 UK', FR: '\uD83C\uDDEB\uD83C\uDDF7 France', CA: '\uD83C\uDDE8\uD83C\uDDE6 Canada',\n                        AU: '\uD83C\uDDE6\uD83C\uDDFA Australia', HK: '\uD83C\uDDED\uD83C\uDDF0 Hong Kong', TW: '\uD83C\uDDF9\uD83C\uDDFC Taiwan'\n                    },\n                    terminal: 'Terminal v2.9.3',\n                    githubProject: 'GitHub Project',\n                    autoDetectClient: 'Auto Detect',\n                    selectionLogicText: 'Same Region -> Nearby Region -> Other Regions',\n                    customIPDisabledHint: 'Region selection disabled when using Custom ProxyIP',\n                    customIPMode: 'Custom ProxyIP Mode (p variable enabled)',\n                    customIPModeDesc: 'Custom IP Mode (Region match disabled)',\n                    usingCustomProxyIP: 'Using Custom ProxyIP: ',\n                    customIPConfig: ' (p variable config)',\n                    customIPModeDisabled: 'Custom IP Mode, region selection disabled',\n                    manualRegion: 'Manual Region',\n                    manualRegionDesc: ' (Manual)',\n                    proxyIPAvailable: '10/10 Available (ProxyIP Domain Pre-set)',\n                    smartSelection: 'Smart Nearby Selection',\n                    sameRegionIP: 'Same Region IP Available (1)',\n                    cloudflareDetection: 'Cloudflare Built-in Detection',\n                    detectionFailed: 'Detection Failed',\n                    apiTestResult: 'API Detection Result: ',\n                    apiTestTime: 'Detection Time: ',\n                    apiTestFailed: 'API Detection Failed: ',\n                    unknownError: 'Unknown Error',\n                    apiTestError: 'API Test Failed: ',\n                    kvNotConfigured: 'KV Storage not configured. Config management unavailable.\\n\\nPlease in Cloudflare Workers:\\n1. Create KV Namespace\\n2. Bind variable C\\n3. Redeploy',\n                    kvNotEnabled: 'KV Storage Not Configured',\n                    kvCheckFailed: 'KV Check Failed: Invalid Response',\n                    kvCheckFailedStatus: 'KV Check Failed - Status: ',\n                    kvCheckFailedError: 'KV Check Failed - Error: '\n                },\n                            fa: {\n                                apiTestResult: '\u0646\u062A\u06CC\u062C\u0647 \u062A\u0634\u062E\u06CC\u0635 API: ',\n                                apiTestTime: '\u0632\u0645\u0627\u0646 \u062A\u0634\u062E\u06CC\u0635: ',\n                                apiTestFailed: '\u062A\u0634\u062E\u06CC\u0635 API \u0646\u0627\u0645\u0648\u0641\u0642: ',\n                                unknownError: '\u062E\u0637\u0627\u06CC \u0646\u0627\u0634\u0646\u0627\u062E\u062A\u0647',\n                                apiTestError: '\u062A\u0633\u062A API \u0646\u0627\u0645\u0648\u0641\u0642: '\n                            }\n                        };\n\n                        const t = getTranslations();\n\n                    const response = await fetch(window.location.pathname + '/test-api');\n                    const data = await response.json();\n\n                    if (data.detectedRegion) {\n                            alert(t.apiTestResult + data.detectedRegion + '\\\\n' + t.apiTestTime + data.timestamp);\n                    } else {\n                            alert(t.apiTestFailed + (data.error || t.unknownError));\n                    }\n                } catch (error) {\n                        function getCookie(name) {\n                            const value = '; ' + document.cookie;\n                            const parts = value.split('; ' + name + '=');\n                            if (parts.length === 2) {\n                                const part = parts.pop();\n                                if (part) return part.split(';').shift();\n                            }\n                            return null;\n                        }\n\n                        const browserLang = navigator.language || navigator.userLanguage || '';\n                        const savedLang = safeLocalStorageGet('preferredLanguage') || getCookie('preferredLanguage');\n                        let isFarsi = false;\n\n                        if (savedLang === 'fa' || savedLang === 'fa-IR') {\n                            isFarsi = true;\n                        } else {\n                            isFarsi = browserLang.includes('fa') || browserLang.includes('fa-IR');\n                        }\n\n                        const translations = {\n                            en: {\n                    title: 'Terminal',\n                    congratulations: 'Congratulations, you made it!',\n                    enterU: 'Please enter the value of your U variable',\n                    enterD: 'Please enter the value of your D variable',\n                    command: 'Command: connect [',\n                    uuid: 'UUID',\n                    path: 'PATH',\n                    inputU: 'Enter content of U variable and press Enter...',\n                    inputD: 'Enter content of D variable and press Enter...',\n                    connecting: 'Connecting...',\n                    invading: 'Invading...',\n                    success: 'Connection successful! Returning result...',\n                    error: 'Error: Invalid UUID format',\n                    reenter: 'Please re-enter a valid UUID',\n\n                    // Subscription Page Translations\n                    subtitle: 'Multi-client Support \u2022 Smart Optimization \u2022 One-Click Generation',\n                    selectClient: '[ Select Client ]',\n                    systemStatus: '[ System Status ]',\n                    configManagement: '[ Config Management ]',\n                    relatedLinks: '[ Related Links ]',\n                    checking: 'Checking...',\n                    workerRegion: 'Worker Region: ',\n                    detectionMethod: 'Detection Method: ',\n                    proxyIPStatus: 'ProxyIP Status: ',\n                    currentIP: 'Current IP: ',\n                    regionMatch: 'Region Match: ',\n                    selectionLogic: 'Selection Logic: ',\n                    kvStatusChecking: 'Checking KV Status...',\n                    kvEnabled: '\u2705 KV Storage Enabled, Config Management Available',\n                    kvDisabled: '\u26A0\uFE0F KV Storage Disabled or Not Configured',\n                    specifyRegion: 'Specify Region (wk):',\n                    autoDetect: 'Auto Detect',\n                    saveRegion: 'Save Region Config',\n                    protocolSelection: 'Protocol Selection:',\n                    enableVLESS: 'Enable VLESS Protocol',\n                    enableVMess: 'Enable VMess Protocol',\n                    enableShadowsocks: 'Enable Shadowsocks Protocol',\n                    enableTrojan: 'Enable Trojan Protocol',\n                    enableXhttp: 'Enable xhttp Protocol',\n                    enableTUIC: 'Enable TUIC Protocol',\n                    enableHysteria2: 'Enable Hysteria 2 Protocol',\n                    enableVLESSgRPC: 'Enable VLESS gRPC Protocol',\n                    linkOnlyHint: 'Requires External Backend (Link-Only)',\n                    grpcHint: 'Requires Custom Domain (gRPC)',\n                    trojanPassword: 'Trojan Password (Optional):',\n                    customPath: 'Custom Path (d):',\n                    customPathPlaceholder: 'e.g., /secret-path',\n                    customIP: 'Custom ProxyIP (p):',\n                    customIPPlaceholder: 'e.g., 1.2.3.4 or proxy.example.com',\n                    preferredIPs: 'Preferred IP List (yx):',\n                    preferredIPsPlaceholder: 'e.g., 1.1.1.1:443#HongKong, 8.8.8.8:443#USA',\n                    preferredIPsURL: 'Preferred IP Source URL (yxURL):',\n                    latencyTest: 'Latency Test',\n                    latencyTestIP: 'Test IP/Domain:',\n                    latencyTestIPPlaceholder: 'Enter IP or Domain, comma separated',\n                    latencyTestPort: 'Port:',\n                    startTest: 'Start Test',\n                    stopTest: 'Stop Test',\n                    testResult: 'Test Result:',\n                    addToYx: 'Add to Preferred List',\n                    addSelectedToYx: 'Add Selected to Preferred List',\n                    selectAll: 'Select All',\n                    deselectAll: 'Deselect All',\n                    testingInProgress: 'Testing...',\n                    testComplete: 'Test Complete',\n                    latencyMs: 'Latency (HTTP Handshake)',\n                    timeout: 'Timeout',\n                    ipSource: 'IP Source:',\n                    manualInput: 'Manual Input',\n                    cfRandomIP: 'CF Random IP',\n                    urlFetch: 'Fetch from URL',\n                    randomCount: 'Generate Count:',\n                    fetchURL: 'Fetch URL:',\n                    fetchURLPlaceholder: 'Enter URL of IP list',\n                    generateIP: 'Generate IP',\n                    fetchIP: 'Fetch IP',\n                    socks5Config: 'SOCKS5 Config (s):',\n                    customHomepage: 'Custom Homepage URL (homepage):',\n                    customHomepagePlaceholder: 'e.g., https://example.com',\n                    customHomepageHint: 'Set custom URL as homepage camouflage. Content of this URL will be shown when accessing root path /. Leave empty to show default terminal page.',\n                    customPathHint: 'Only accessible via this path if set. UUID access will be disabled. Suggest using complex path to prevent scanning.',\n                    customIPHint: 'Hide Worker real IP, or solve Cloudflare Loop issue. Supports IP:Port or Domain:Port.',\n                    preferredIPsHint: 'Manually specify preferred nodes. Highest priority. Format: IP:Port#Remark.',\n                    socks5ConfigHint: 'Format: user:pass@host:port. Worker will connect to target via this proxy.',\n                    saveConfig: 'Save Config',\n                    advancedControl: 'Advanced Control',\n                    subscriptionConverter: 'Sub Converter URL:',\n                    builtinPreferred: 'Built-in Preferred Type:',\n                    enablePreferredDomain: 'Enable Preferred Domain',\n                    enablePreferredIP: 'Enable Preferred IP',\n                    enableGitHubPreferred: 'Enable GitHub Default Preferred',\n                    allowAPIManagement: 'Allow API Management (ae):',\n                    regionMatching: 'Region Matching (rm):',\n                    downgradeControl: 'Downgrade Control (qj):',\n                    tlsControl: 'TLS Control (dkby):',\n                    preferredControl: 'Preferred Control (yxby):',\n                    saveAdvanced: 'Save Advanced Config',\n                    loading: 'Loading...',\n                    currentConfig: '\uD83D\uDCCD Current Path Config',\n                    refreshConfig: 'Refresh Config',\n                    resetConfig: 'Reset Config',\n                    subscriptionCopied: 'Subscription Link Copied',\n                    autoSubscriptionCopied: 'Auto-detected subscription link copied. Client will be recognized by User-Agent.',\n                    trojanPasswordPlaceholder: 'Leave empty to use UUID',\n                    trojanPasswordHint: 'Set custom Trojan password. Leave empty to use UUID. Client will auto-hash password with SHA224.',\n                    protocolHint: 'Multiple protocols can be enabled.<br>\u2022 VLESS WS: Standard WebSocket protocol<br>\u2022 VMess WS: WebSocket-based VMess (link generation)<br>\u2022 Shadowsocks: WebSocket-based SS (link generation)<br>\u2022 Trojan: Uses SHA224 password auth<br>\u2022 xhttp: HTTP POST camouflage (requires custom domain & gRPC)',\n                    enableECH: 'Enable ECH (Encrypted Client Hello)',\n                    enableECHHint: 'When enabled, ECH config is fetched from DoH and added to links on every sub refresh',\n                    customDNS: 'Custom DNS Server',\n                    customDNSPlaceholder: 'e.g., https://dns.joeyblog.eu.org/joeyblog',\n                    customDNSHint: 'DNS server for ECH config query (DoH format)',\n                    customECHDomain: 'Custom ECH Domain',\n                    customECHDomainPlaceholder: 'e.g., cloudflare-ech.com',\n                    customECHDomainHint: 'Domain used in ECH config, leave empty for default',\n                    saveProtocol: 'Save Protocol Config',\n                    subscriptionConverterPlaceholder: 'Default: https://url.v1.mk/sub',\n                    subscriptionConverterHint: 'Custom subscription converter API, leave empty for default',\n                    builtinPreferredHint: 'Control which built-in preferred nodes are included. Default all enabled.',\n                    apiEnabledDefault: 'Default (API Disabled)',\n                    apiEnabledYes: 'Enable API Management',\n                    apiEnabledHint: '\u26A0\uFE0F Security Warning: Enabling API allows dynamic preferred IP addition. Use only if needed.',\n                    regionMatchingDefault: 'Default (Enable Region Match)',\n                    regionMatchingNo: 'Disable Region Match',\n                    regionMatchingHint: 'Smart region matching disabled when set to \"Disable\"',\n                    downgradeControlDefault: 'Default (Disable Downgrade)',\n                    downgradeControlNo: 'Enable Downgrade Mode',\n                    downgradeControlHint: 'When enabled: CF Direct Fail -> SOCKS5 -> Fallback',\n                    tlsControlDefault: 'Default (Keep All Nodes)',\n                    tlsControlYes: 'TLS Nodes Only',\n                    tlsControlHint: 'When set to \"TLS Nodes Only\", non-TLS nodes (e.g., port 80) are not generated',\n                    preferredControlDefault: 'Default (Enable Preferred)',\n                    preferredControlYes: 'Disable Preferred',\n                    preferredControlHint: 'When set to \"Disable Preferred\", only native address is used',\n                    regionNames: {\n                        US: '\uD83C\uDDFA\uD83C\uDDF8 US', SG: '\uD83C\uDDF8\uD83C\uDDEC Singapore', JP: '\uD83C\uDDEF\uD83C\uDDF5 Japan',\n                        KR: '\uD83C\uDDF0\uD83C\uDDF7 South Korea', DE: '\uD83C\uDDE9\uD83C\uDDEA Germany', SE: '\uD83C\uDDF8\uD83C\uDDEA Sweden', NL: '\uD83C\uDDF3\uD83C\uDDF1 Netherlands',\n                        FI: '\uD83C\uDDEB\uD83C\uDDEE Finland', GB: '\uD83C\uDDEC\uD83C\uDDE7 UK', FR: '\uD83C\uDDEB\uD83C\uDDF7 France', CA: '\uD83C\uDDE8\uD83C\uDDE6 Canada',\n                        AU: '\uD83C\uDDE6\uD83C\uDDFA Australia', HK: '\uD83C\uDDED\uD83C\uDDF0 Hong Kong', TW: '\uD83C\uDDF9\uD83C\uDDFC Taiwan'\n                    },\n                    terminal: 'Terminal v2.9.3',\n                    githubProject: 'GitHub Project',\n                    autoDetectClient: 'Auto Detect',\n                    selectionLogicText: 'Same Region -> Nearby Region -> Other Regions',\n                    customIPDisabledHint: 'Region selection disabled when using Custom ProxyIP',\n                    customIPMode: 'Custom ProxyIP Mode (p variable enabled)',\n                    customIPModeDesc: 'Custom IP Mode (Region match disabled)',\n                    usingCustomProxyIP: 'Using Custom ProxyIP: ',\n                    customIPConfig: ' (p variable config)',\n                    customIPModeDisabled: 'Custom IP Mode, region selection disabled',\n                    manualRegion: 'Manual Region',\n                    manualRegionDesc: ' (Manual)',\n                    proxyIPAvailable: '10/10 Available (ProxyIP Domain Pre-set)',\n                    smartSelection: 'Smart Nearby Selection',\n                    sameRegionIP: 'Same Region IP Available (1)',\n                    cloudflareDetection: 'Cloudflare Built-in Detection',\n                    detectionFailed: 'Detection Failed',\n                    apiTestResult: 'API Detection Result: ',\n                    apiTestTime: 'Detection Time: ',\n                    apiTestFailed: 'API Detection Failed: ',\n                    unknownError: 'Unknown Error',\n                    apiTestError: 'API Test Failed: ',\n                    kvNotConfigured: 'KV Storage not configured. Config management unavailable.\\n\\nPlease in Cloudflare Workers:\\n1. Create KV Namespace\\n2. Bind variable C\\n3. Redeploy',\n                    kvNotEnabled: 'KV Storage Not Configured',\n                    kvCheckFailed: 'KV Check Failed: Invalid Response',\n                    kvCheckFailedStatus: 'KV Check Failed - Status: ',\n                    kvCheckFailedError: 'KV Check Failed - Error: '\n                },\n                            fa: { apiTestError: '\u062A\u0633\u062A API \u0646\u0627\u0645\u0648\u0641\u0642: ' }\n                        };\n\n                        const t = getTranslations();\n                        alert(t.apiTestError + error.message);\n                }\n            }\n\n            // \u914D\u7F6E\u7BA1\u7406\u76F8\u5173\u51FD\u6570\n            async function checkKVStatus() {\n                const apiUrl = window.location.pathname + '/api/config';\n\n                try {\n                    const response = await fetch(apiUrl);\n\n                        function getCookie(name) {\n                            const value = '; ' + document.cookie;\n                            const parts = value.split('; ' + name + '=');\n                            if (parts.length === 2) {\n                                const part = parts.pop();\n                                if (part) return part.split(';').shift();\n                            }\n                            return null;\n                        }\n\n                        const browserLang = navigator.language || navigator.userLanguage || '';\n                        const savedLang = safeLocalStorageGet('preferredLanguage') || getCookie('preferredLanguage');\n                        let isFarsi = false;\n\n                        if (savedLang === 'fa' || savedLang === 'fa-IR') {\n                            isFarsi = true;\n                        } else {\n                            isFarsi = browserLang.includes('fa') || browserLang.includes('fa-IR');\n                        }\n\n                        const translations = {\n                            en: {\n                    title: 'Terminal',\n                    congratulations: 'Congratulations, you made it!',\n                    enterU: 'Please enter the value of your U variable',\n                    enterD: 'Please enter the value of your D variable',\n                    command: 'Command: connect [',\n                    uuid: 'UUID',\n                    path: 'PATH',\n                    inputU: 'Enter content of U variable and press Enter...',\n                    inputD: 'Enter content of D variable and press Enter...',\n                    connecting: 'Connecting...',\n                    invading: 'Invading...',\n                    success: 'Connection successful! Returning result...',\n                    error: 'Error: Invalid UUID format',\n                    reenter: 'Please re-enter a valid UUID',\n\n                    // Subscription Page Translations\n                    subtitle: 'Multi-client Support \u2022 Smart Optimization \u2022 One-Click Generation',\n                    selectClient: '[ Select Client ]',\n                    systemStatus: '[ System Status ]',\n                    configManagement: '[ Config Management ]',\n                    relatedLinks: '[ Related Links ]',\n                    checking: 'Checking...',\n                    workerRegion: 'Worker Region: ',\n                    detectionMethod: 'Detection Method: ',\n                    proxyIPStatus: 'ProxyIP Status: ',\n                    currentIP: 'Current IP: ',\n                    regionMatch: 'Region Match: ',\n                    selectionLogic: 'Selection Logic: ',\n                    kvStatusChecking: 'Checking KV Status...',\n                    kvEnabled: '\u2705 KV Storage Enabled, Config Management Available',\n                    kvDisabled: '\u26A0\uFE0F KV Storage Disabled or Not Configured',\n                    specifyRegion: 'Specify Region (wk):',\n                    autoDetect: 'Auto Detect',\n                    saveRegion: 'Save Region Config',\n                    protocolSelection: 'Protocol Selection:',\n                    enableVLESS: 'Enable VLESS Protocol',\n                    enableVMess: 'Enable VMess Protocol',\n                    enableShadowsocks: 'Enable Shadowsocks Protocol',\n                    enableTrojan: 'Enable Trojan Protocol',\n                    enableXhttp: 'Enable xhttp Protocol',\n                    enableTUIC: 'Enable TUIC Protocol',\n                    enableHysteria2: 'Enable Hysteria 2 Protocol',\n                    enableVLESSgRPC: 'Enable VLESS gRPC Protocol',\n                    linkOnlyHint: 'Requires External Backend (Link-Only)',\n                    grpcHint: 'Requires Custom Domain (gRPC)',\n                    trojanPassword: 'Trojan Password (Optional):',\n                    customPath: 'Custom Path (d):',\n                    customPathPlaceholder: 'e.g., /secret-path',\n                    customIP: 'Custom ProxyIP (p):',\n                    customIPPlaceholder: 'e.g., 1.2.3.4 or proxy.example.com',\n                    preferredIPs: 'Preferred IP List (yx):',\n                    preferredIPsPlaceholder: 'e.g., 1.1.1.1:443#HongKong, 8.8.8.8:443#USA',\n                    preferredIPsURL: 'Preferred IP Source URL (yxURL):',\n                    latencyTest: 'Latency Test',\n                    latencyTestIP: 'Test IP/Domain:',\n                    latencyTestIPPlaceholder: 'Enter IP or Domain, comma separated',\n                    latencyTestPort: 'Port:',\n                    startTest: 'Start Test',\n                    stopTest: 'Stop Test',\n                    testResult: 'Test Result:',\n                    addToYx: 'Add to Preferred List',\n                    addSelectedToYx: 'Add Selected to Preferred List',\n                    selectAll: 'Select All',\n                    deselectAll: 'Deselect All',\n                    testingInProgress: 'Testing...',\n                    testComplete: 'Test Complete',\n                    latencyMs: 'Latency (HTTP Handshake)',\n                    timeout: 'Timeout',\n                    ipSource: 'IP Source:',\n                    manualInput: 'Manual Input',\n                    cfRandomIP: 'CF Random IP',\n                    urlFetch: 'Fetch from URL',\n                    randomCount: 'Generate Count:',\n                    fetchURL: 'Fetch URL:',\n                    fetchURLPlaceholder: 'Enter URL of IP list',\n                    generateIP: 'Generate IP',\n                    fetchIP: 'Fetch IP',\n                    socks5Config: 'SOCKS5 Config (s):',\n                    customHomepage: 'Custom Homepage URL (homepage):',\n                    customHomepagePlaceholder: 'e.g., https://example.com',\n                    customHomepageHint: 'Set custom URL as homepage camouflage. Content of this URL will be shown when accessing root path /. Leave empty to show default terminal page.',\n                    customPathHint: 'Only accessible via this path if set. UUID access will be disabled. Suggest using complex path to prevent scanning.',\n                    customIPHint: 'Hide Worker real IP, or solve Cloudflare Loop issue. Supports IP:Port or Domain:Port.',\n                    preferredIPsHint: 'Manually specify preferred nodes. Highest priority. Format: IP:Port#Remark.',\n                    socks5ConfigHint: 'Format: user:pass@host:port. Worker will connect to target via this proxy.',\n                    saveConfig: 'Save Config',\n                    advancedControl: 'Advanced Control',\n                    subscriptionConverter: 'Sub Converter URL:',\n                    builtinPreferred: 'Built-in Preferred Type:',\n                    enablePreferredDomain: 'Enable Preferred Domain',\n                    enablePreferredIP: 'Enable Preferred IP',\n                    enableGitHubPreferred: 'Enable GitHub Default Preferred',\n                    allowAPIManagement: 'Allow API Management (ae):',\n                    regionMatching: 'Region Matching (rm):',\n                    downgradeControl: 'Downgrade Control (qj):',\n                    tlsControl: 'TLS Control (dkby):',\n                    preferredControl: 'Preferred Control (yxby):',\n                    saveAdvanced: 'Save Advanced Config',\n                    loading: 'Loading...',\n                    currentConfig: '\uD83D\uDCCD Current Path Config',\n                    refreshConfig: 'Refresh Config',\n                    resetConfig: 'Reset Config',\n                    subscriptionCopied: 'Subscription Link Copied',\n                    autoSubscriptionCopied: 'Auto-detected subscription link copied. Client will be recognized by User-Agent.',\n                    trojanPasswordPlaceholder: 'Leave empty to use UUID',\n                    trojanPasswordHint: 'Set custom Trojan password. Leave empty to use UUID. Client will auto-hash password with SHA224.',\n                    protocolHint: 'Multiple protocols can be enabled.<br>\u2022 VLESS WS: Standard WebSocket protocol<br>\u2022 VMess WS: WebSocket-based VMess (link generation)<br>\u2022 Shadowsocks: WebSocket-based SS (link generation)<br>\u2022 Trojan: Uses SHA224 password auth<br>\u2022 xhttp: HTTP POST camouflage (requires custom domain & gRPC)',\n                    enableECH: 'Enable ECH (Encrypted Client Hello)',\n                    enableECHHint: 'When enabled, ECH config is fetched from DoH and added to links on every sub refresh',\n                    customDNS: 'Custom DNS Server',\n                    customDNSPlaceholder: 'e.g., https://dns.joeyblog.eu.org/joeyblog',\n                    customDNSHint: 'DNS server for ECH config query (DoH format)',\n                    customECHDomain: 'Custom ECH Domain',\n                    customECHDomainPlaceholder: 'e.g., cloudflare-ech.com',\n                    customECHDomainHint: 'Domain used in ECH config, leave empty for default',\n                    saveProtocol: 'Save Protocol Config',\n                    subscriptionConverterPlaceholder: 'Default: https://url.v1.mk/sub',\n                    subscriptionConverterHint: 'Custom subscription converter API, leave empty for default',\n                    builtinPreferredHint: 'Control which built-in preferred nodes are included. Default all enabled.',\n                    apiEnabledDefault: 'Default (API Disabled)',\n                    apiEnabledYes: 'Enable API Management',\n                    apiEnabledHint: '\u26A0\uFE0F Security Warning: Enabling API allows dynamic preferred IP addition. Use only if needed.',\n                    regionMatchingDefault: 'Default (Enable Region Match)',\n                    regionMatchingNo: 'Disable Region Match',\n                    regionMatchingHint: 'Smart region matching disabled when set to \"Disable\"',\n                    downgradeControlDefault: 'Default (Disable Downgrade)',\n                    downgradeControlNo: 'Enable Downgrade Mode',\n                    downgradeControlHint: 'When enabled: CF Direct Fail -> SOCKS5 -> Fallback',\n                    tlsControlDefault: 'Default (Keep All Nodes)',\n                    tlsControlYes: 'TLS Nodes Only',\n                    tlsControlHint: 'When set to \"TLS Nodes Only\", non-TLS nodes (e.g., port 80) are not generated',\n                    preferredControlDefault: 'Default (Enable Preferred)',\n                    preferredControlYes: 'Disable Preferred',\n                    preferredControlHint: 'When set to \"Disable Preferred\", only native address is used',\n                    regionNames: {\n                        US: '\uD83C\uDDFA\uD83C\uDDF8 US', SG: '\uD83C\uDDF8\uD83C\uDDEC Singapore', JP: '\uD83C\uDDEF\uD83C\uDDF5 Japan',\n                        KR: '\uD83C\uDDF0\uD83C\uDDF7 South Korea', DE: '\uD83C\uDDE9\uD83C\uDDEA Germany', SE: '\uD83C\uDDF8\uD83C\uDDEA Sweden', NL: '\uD83C\uDDF3\uD83C\uDDF1 Netherlands',\n                        FI: '\uD83C\uDDEB\uD83C\uDDEE Finland', GB: '\uD83C\uDDEC\uD83C\uDDE7 UK', FR: '\uD83C\uDDEB\uD83C\uDDF7 France', CA: '\uD83C\uDDE8\uD83C\uDDE6 Canada',\n                        AU: '\uD83C\uDDE6\uD83C\uDDFA Australia', HK: '\uD83C\uDDED\uD83C\uDDF0 Hong Kong', TW: '\uD83C\uDDF9\uD83C\uDDFC Taiwan'\n                    },\n                    terminal: 'Terminal v2.9.3',\n                    githubProject: 'GitHub Project',\n                    autoDetectClient: 'Auto Detect',\n                    selectionLogicText: 'Same Region -> Nearby Region -> Other Regions',\n                    customIPDisabledHint: 'Region selection disabled when using Custom ProxyIP',\n                    customIPMode: 'Custom ProxyIP Mode (p variable enabled)',\n                    customIPModeDesc: 'Custom IP Mode (Region match disabled)',\n                    usingCustomProxyIP: 'Using Custom ProxyIP: ',\n                    customIPConfig: ' (p variable config)',\n                    customIPModeDisabled: 'Custom IP Mode, region selection disabled',\n                    manualRegion: 'Manual Region',\n                    manualRegionDesc: ' (Manual)',\n                    proxyIPAvailable: '10/10 Available (ProxyIP Domain Pre-set)',\n                    smartSelection: 'Smart Nearby Selection',\n                    sameRegionIP: 'Same Region IP Available (1)',\n                    cloudflareDetection: 'Cloudflare Built-in Detection',\n                    detectionFailed: 'Detection Failed',\n                    apiTestResult: 'API Detection Result: ',\n                    apiTestTime: 'Detection Time: ',\n                    apiTestFailed: 'API Detection Failed: ',\n                    unknownError: 'Unknown Error',\n                    apiTestError: 'API Test Failed: ',\n                    kvNotConfigured: 'KV Storage not configured. Config management unavailable.\\n\\nPlease in Cloudflare Workers:\\n1. Create KV Namespace\\n2. Bind variable C\\n3. Redeploy',\n                    kvNotEnabled: 'KV Storage Not Configured',\n                    kvCheckFailed: 'KV Check Failed: Invalid Response',\n                    kvCheckFailedStatus: 'KV Check Failed - Status: ',\n                    kvCheckFailedError: 'KV Check Failed - Error: '\n                },\n                            fa: {\n                                kvDisabled: '\u26A0\uFE0F \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0641\u0639\u0627\u0644 \u0646\u06CC\u0633\u062A \u06CC\u0627 \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0646\u0634\u062F\u0647 \u0627\u0633\u062A',\n                                kvNotConfigured: '\u26A0\uFE0F \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0646\u0634\u062F\u0647 \u0627\u0633\u062A. \u067E\u0646\u0644 \u06AF\u0631\u0627\u0641\u06CC\u06A9\u06CC \u063A\u06CC\u0631\u0641\u0639\u0627\u0644 \u0627\u0633\u062A.\\\\n\\\\n\uD83D\uDD27 \u0631\u0627\u0647\u0646\u0645\u0627\u06CC \u062A\u0639\u0645\u06CC\u0631:\\\\n1. \u0628\u0647 \u067E\u0646\u0644 Cloudflare -> Workers -> KV \u0628\u0631\u0648\u06CC\u062F.\\\\n2. \u06CC\u06A9 Namespace \u062C\u062F\u06CC\u062F \u0628\u0633\u0627\u0632\u06CC\u062F.\\\\n3. \u062F\u0631 \u062A\u0646\u0638\u06CC\u0645\u0627\u062A Worker -> Variables -> KV Bindings.\\\\n4. \u0645\u062A\u063A\u06CC\u0631\u06CC \u0628\u0627 \u0646\u0627\u0645 \"C\" (\u0628\u0632\u0631\u06AF) \u0627\u0636\u0627\u0641\u0647 \u06A9\u0631\u062F\u0647 \u0648 \u0628\u0647 KV \u0645\u062A\u0635\u0644 \u06A9\u0646\u06CC\u062F.\\\\n5. \u0630\u062E\u06CC\u0631\u0647 \u0648 Deploy \u06A9\u0646\u06CC\u062F.',\n                                kvNotEnabled: 'KV \u0645\u062A\u0635\u0644 \u0646\u06CC\u0633\u062A. \u0644\u0637\u0641\u0627\u064B \u0637\u0628\u0642 \u0631\u0627\u0647\u0646\u0645\u0627 \u062A\u0646\u0638\u06CC\u0645 \u06A9\u0646\u06CC\u062F',\n                                kvEnabled: '\u2705 \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0641\u0639\u0627\u0644 \u0627\u0633\u062A\u060C \u0645\u06CC\u200C\u062A\u0648\u0627\u0646\u06CC\u062F \u0627\u0632 \u0645\u062F\u06CC\u0631\u06CC\u062A \u062A\u0646\u0638\u06CC\u0645\u0627\u062A \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u06A9\u0646\u06CC\u062F',\n                                kvCheckFailed: '\u26A0\uFE0F \u0628\u0631\u0631\u0633\u06CC \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0646\u0627\u0645\u0648\u0641\u0642',\n                                kvCheckFailedFormat: '\u0628\u0631\u0631\u0633\u06CC \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0646\u0627\u0645\u0648\u0641\u0642: \u062E\u0637\u0627\u06CC \u0641\u0631\u0645\u062A \u067E\u0627\u0633\u062E',\n                                kvCheckFailedStatus: '\u0628\u0631\u0631\u0633\u06CC \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0646\u0627\u0645\u0648\u0641\u0642 - \u06A9\u062F \u0648\u0636\u0639\u06CC\u062A: ',\n                                kvCheckFailedError: '\u0628\u0631\u0631\u0633\u06CC \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0646\u0627\u0645\u0648\u0641\u0642 - \u062E\u0637\u0627: '\n                            }\n                        };\n\n                        const t = getTranslations();\n\n                        if (response.status === 503) {\n                            // KV\u672A\u914D\u7F6E\n                            document.getElementById('kvStatus').innerHTML = '<span style=\"color: #ffaa00;\">' + t.kvDisabled + '</span>';\n                            document.getElementById('configCard').style.display = 'block';\n                            document.getElementById('currentConfig').textContent = t.kvNotConfigured;\n                    } else if (response.ok) {\n                        try {\n                        const data = await response.json();\n\n                            // \u68C0\u67E5\u54CD\u5E94\u662F\u5426\u5305\u542BKV\u914D\u7F6E\u4FE1\u606F\n                            if (data && data.kvEnabled === true) {\n                                document.getElementById('kvStatus').innerHTML = '<span style=\"color: #44ff44;\">' + t.kvEnabled + '</span>';\n                                document.getElementById('configContent').style.display = 'block';\n                                document.getElementById('configCard').style.display = 'block';\n                                await loadCurrentConfig();\n                            } else {\n                                document.getElementById('kvStatus').innerHTML = '<span style=\"color: #ffaa00;\">' + t.kvDisabled + '</span>';\n                                document.getElementById('configCard').style.display = 'block';\n                                document.getElementById('currentConfig').textContent = t.kvNotEnabled;\n                                }\n                        } catch (jsonError) {\n                            document.getElementById('kvStatus').innerHTML = '<span style=\"color: #ffaa00;\">' + t.kvCheckFailed + '</span>';\n                            document.getElementById('configCard').style.display = 'block';\n                            document.getElementById('currentConfig').textContent = t.kvCheckFailedFormat;\n                        }\n                    } else {\n                        document.getElementById('kvStatus').innerHTML = '<span style=\"color: #ffaa00;\">' + t.kvDisabled + '</span>';\n                        document.getElementById('configCard').style.display = 'block';\n                        document.getElementById('currentConfig').textContent = t.kvCheckFailedStatus + response.status;\n                    }\n                } catch (error) {\n                    debugConsolePush('checkKVStatus failed: ' + (error && error.message ? error.message : error), 'error');\n                    function getCookie(name) {\n                        const value = '; ' + document.cookie;\n                        const parts = value.split('; ' + name + '=');\n                        if (parts.length === 2) {\n                            const part = parts.pop();\n                            if (part) return part.split(';').shift();\n                        }\n                        return null;\n                    }\n\n                    const browserLang = navigator.language || navigator.userLanguage || '';\n                    const savedLang = safeLocalStorageGet('preferredLanguage') || getCookie('preferredLanguage');\n                    let isFarsi = false;\n\n                    if (savedLang === 'fa' || savedLang === 'fa-IR') {\n                        isFarsi = true;\n                    } else {\n                        isFarsi = browserLang.includes('fa') || browserLang.includes('fa-IR');\n                    }\n\n                    const translations = {\n                        en: {\n                    title: 'Terminal',\n                    congratulations: 'Congratulations, you made it!',\n                    enterU: 'Please enter the value of your U variable',\n                    enterD: 'Please enter the value of your D variable',\n                    command: 'Command: connect [',\n                    uuid: 'UUID',\n                    path: 'PATH',\n                    inputU: 'Enter content of U variable and press Enter...',\n                    inputD: 'Enter content of D variable and press Enter...',\n                    connecting: 'Connecting...',\n                    invading: 'Invading...',\n                    success: 'Connection successful! Returning result...',\n                    error: 'Error: Invalid UUID format',\n                    reenter: 'Please re-enter a valid UUID',\n\n                    // Subscription Page Translations\n                    subtitle: 'Multi-client Support \u2022 Smart Optimization \u2022 One-Click Generation',\n                    selectClient: '[ Select Client ]',\n                    systemStatus: '[ System Status ]',\n                    configManagement: '[ Config Management ]',\n                    relatedLinks: '[ Related Links ]',\n                    checking: 'Checking...',\n                    workerRegion: 'Worker Region: ',\n                    detectionMethod: 'Detection Method: ',\n                    proxyIPStatus: 'ProxyIP Status: ',\n                    currentIP: 'Current IP: ',\n                    regionMatch: 'Region Match: ',\n                    selectionLogic: 'Selection Logic: ',\n                    kvStatusChecking: 'Checking KV Status...',\n                    kvEnabled: '\u2705 KV Storage Enabled, Config Management Available',\n                    kvDisabled: '\u26A0\uFE0F KV Storage Disabled or Not Configured',\n                    specifyRegion: 'Specify Region (wk):',\n                    autoDetect: 'Auto Detect',\n                    saveRegion: 'Save Region Config',\n                    protocolSelection: 'Protocol Selection:',\n                    enableVLESS: 'Enable VLESS Protocol',\n                    enableVMess: 'Enable VMess Protocol',\n                    enableShadowsocks: 'Enable Shadowsocks Protocol',\n                    enableTrojan: 'Enable Trojan Protocol',\n                    enableXhttp: 'Enable xhttp Protocol',\n                    enableTUIC: 'Enable TUIC Protocol',\n                    enableHysteria2: 'Enable Hysteria 2 Protocol',\n                    enableVLESSgRPC: 'Enable VLESS gRPC Protocol',\n                    linkOnlyHint: 'Requires External Backend (Link-Only)',\n                    grpcHint: 'Requires Custom Domain (gRPC)',\n                    trojanPassword: 'Trojan Password (Optional):',\n                    customPath: 'Custom Path (d):',\n                    customPathPlaceholder: 'e.g., /secret-path',\n                    customIP: 'Custom ProxyIP (p):',\n                    customIPPlaceholder: 'e.g., 1.2.3.4 or proxy.example.com',\n                    preferredIPs: 'Preferred IP List (yx):',\n                    preferredIPsPlaceholder: 'e.g., 1.1.1.1:443#HongKong, 8.8.8.8:443#USA',\n                    preferredIPsURL: 'Preferred IP Source URL (yxURL):',\n                    latencyTest: 'Latency Test',\n                    latencyTestIP: 'Test IP/Domain:',\n                    latencyTestIPPlaceholder: 'Enter IP or Domain, comma separated',\n                    latencyTestPort: 'Port:',\n                    startTest: 'Start Test',\n                    stopTest: 'Stop Test',\n                    testResult: 'Test Result:',\n                    addToYx: 'Add to Preferred List',\n                    addSelectedToYx: 'Add Selected to Preferred List',\n                    selectAll: 'Select All',\n                    deselectAll: 'Deselect All',\n                    testingInProgress: 'Testing...',\n                    testComplete: 'Test Complete',\n                    latencyMs: 'Latency (HTTP Handshake)',\n                    timeout: 'Timeout',\n                    ipSource: 'IP Source:',\n                    manualInput: 'Manual Input',\n                    cfRandomIP: 'CF Random IP',\n                    urlFetch: 'Fetch from URL',\n                    randomCount: 'Generate Count:',\n                    fetchURL: 'Fetch URL:',\n                    fetchURLPlaceholder: 'Enter URL of IP list',\n                    generateIP: 'Generate IP',\n                    fetchIP: 'Fetch IP',\n                    socks5Config: 'SOCKS5 Config (s):',\n                    customHomepage: 'Custom Homepage URL (homepage):',\n                    customHomepagePlaceholder: 'e.g., https://example.com',\n                    customHomepageHint: 'Set custom URL as homepage camouflage. Content of this URL will be shown when accessing root path /. Leave empty to show default terminal page.',\n                    customPathHint: 'Only accessible via this path if set. UUID access will be disabled. Suggest using complex path to prevent scanning.',\n                    customIPHint: 'Hide Worker real IP, or solve Cloudflare Loop issue. Supports IP:Port or Domain:Port.',\n                    preferredIPsHint: 'Manually specify preferred nodes. Highest priority. Format: IP:Port#Remark.',\n                    socks5ConfigHint: 'Format: user:pass@host:port. Worker will connect to target via this proxy.',\n                    saveConfig: 'Save Config',\n                    advancedControl: 'Advanced Control',\n                    subscriptionConverter: 'Sub Converter URL:',\n                    builtinPreferred: 'Built-in Preferred Type:',\n                    enablePreferredDomain: 'Enable Preferred Domain',\n                    enablePreferredIP: 'Enable Preferred IP',\n                    enableGitHubPreferred: 'Enable GitHub Default Preferred',\n                    allowAPIManagement: 'Allow API Management (ae):',\n                    regionMatching: 'Region Matching (rm):',\n                    downgradeControl: 'Downgrade Control (qj):',\n                    tlsControl: 'TLS Control (dkby):',\n                    preferredControl: 'Preferred Control (yxby):',\n                    saveAdvanced: 'Save Advanced Config',\n                    loading: 'Loading...',\n                    currentConfig: '\uD83D\uDCCD Current Path Config',\n                    refreshConfig: 'Refresh Config',\n                    resetConfig: 'Reset Config',\n                    subscriptionCopied: 'Subscription Link Copied',\n                    autoSubscriptionCopied: 'Auto-detected subscription link copied. Client will be recognized by User-Agent.',\n                    trojanPasswordPlaceholder: 'Leave empty to use UUID',\n                    trojanPasswordHint: 'Set custom Trojan password. Leave empty to use UUID. Client will auto-hash password with SHA224.',\n                    protocolHint: 'Multiple protocols can be enabled.<br>\u2022 VLESS WS: Standard WebSocket protocol<br>\u2022 VMess WS: WebSocket-based VMess (link generation)<br>\u2022 Shadowsocks: WebSocket-based SS (link generation)<br>\u2022 Trojan: Uses SHA224 password auth<br>\u2022 xhttp: HTTP POST camouflage (requires custom domain & gRPC)',\n                    enableECH: 'Enable ECH (Encrypted Client Hello)',\n                    enableECHHint: 'When enabled, ECH config is fetched from DoH and added to links on every sub refresh',\n                    customDNS: 'Custom DNS Server',\n                    customDNSPlaceholder: 'e.g., https://dns.joeyblog.eu.org/joeyblog',\n                    customDNSHint: 'DNS server for ECH config query (DoH format)',\n                    customECHDomain: 'Custom ECH Domain',\n                    customECHDomainPlaceholder: 'e.g., cloudflare-ech.com',\n                    customECHDomainHint: 'Domain used in ECH config, leave empty for default',\n                    saveProtocol: 'Save Protocol Config',\n                    subscriptionConverterPlaceholder: 'Default: https://url.v1.mk/sub',\n                    subscriptionConverterHint: 'Custom subscription converter API, leave empty for default',\n                    builtinPreferredHint: 'Control which built-in preferred nodes are included. Default all enabled.',\n                    apiEnabledDefault: 'Default (API Disabled)',\n                    apiEnabledYes: 'Enable API Management',\n                    apiEnabledHint: '\u26A0\uFE0F Security Warning: Enabling API allows dynamic preferred IP addition. Use only if needed.',\n                    regionMatchingDefault: 'Default (Enable Region Match)',\n                    regionMatchingNo: 'Disable Region Match',\n                    regionMatchingHint: 'Smart region matching disabled when set to \"Disable\"',\n                    downgradeControlDefault: 'Default (Disable Downgrade)',\n                    downgradeControlNo: 'Enable Downgrade Mode',\n                    downgradeControlHint: 'When enabled: CF Direct Fail -> SOCKS5 -> Fallback',\n                    tlsControlDefault: 'Default (Keep All Nodes)',\n                    tlsControlYes: 'TLS Nodes Only',\n                    tlsControlHint: 'When set to \"TLS Nodes Only\", non-TLS nodes (e.g., port 80) are not generated',\n                    preferredControlDefault: 'Default (Enable Preferred)',\n                    preferredControlYes: 'Disable Preferred',\n                    preferredControlHint: 'When set to \"Disable Preferred\", only native address is used',\n                    regionNames: {\n                        US: '\uD83C\uDDFA\uD83C\uDDF8 US', SG: '\uD83C\uDDF8\uD83C\uDDEC Singapore', JP: '\uD83C\uDDEF\uD83C\uDDF5 Japan',\n                        KR: '\uD83C\uDDF0\uD83C\uDDF7 South Korea', DE: '\uD83C\uDDE9\uD83C\uDDEA Germany', SE: '\uD83C\uDDF8\uD83C\uDDEA Sweden', NL: '\uD83C\uDDF3\uD83C\uDDF1 Netherlands',\n                        FI: '\uD83C\uDDEB\uD83C\uDDEE Finland', GB: '\uD83C\uDDEC\uD83C\uDDE7 UK', FR: '\uD83C\uDDEB\uD83C\uDDF7 France', CA: '\uD83C\uDDE8\uD83C\uDDE6 Canada',\n                        AU: '\uD83C\uDDE6\uD83C\uDDFA Australia', HK: '\uD83C\uDDED\uD83C\uDDF0 Hong Kong', TW: '\uD83C\uDDF9\uD83C\uDDFC Taiwan'\n                    },\n                    terminal: 'Terminal v2.9.3',\n                    githubProject: 'GitHub Project',\n                    autoDetectClient: 'Auto Detect',\n                    selectionLogicText: 'Same Region -> Nearby Region -> Other Regions',\n                    customIPDisabledHint: 'Region selection disabled when using Custom ProxyIP',\n                    customIPMode: 'Custom ProxyIP Mode (p variable enabled)',\n                    customIPModeDesc: 'Custom IP Mode (Region match disabled)',\n                    usingCustomProxyIP: 'Using Custom ProxyIP: ',\n                    customIPConfig: ' (p variable config)',\n                    customIPModeDisabled: 'Custom IP Mode, region selection disabled',\n                    manualRegion: 'Manual Region',\n                    manualRegionDesc: ' (Manual)',\n                    proxyIPAvailable: '10/10 Available (ProxyIP Domain Pre-set)',\n                    smartSelection: 'Smart Nearby Selection',\n                    sameRegionIP: 'Same Region IP Available (1)',\n                    cloudflareDetection: 'Cloudflare Built-in Detection',\n                    detectionFailed: 'Detection Failed',\n                    apiTestResult: 'API Detection Result: ',\n                    apiTestTime: 'Detection Time: ',\n                    apiTestFailed: 'API Detection Failed: ',\n                    unknownError: 'Unknown Error',\n                    apiTestError: 'API Test Failed: ',\n                    kvNotConfigured: 'KV Storage not configured. Config management unavailable.\\n\\nPlease in Cloudflare Workers:\\n1. Create KV Namespace\\n2. Bind variable C\\n3. Redeploy',\n                    kvNotEnabled: 'KV Storage Not Configured',\n                    kvCheckFailed: 'KV Check Failed: Invalid Response',\n                    kvCheckFailedStatus: 'KV Check Failed - Status: ',\n                    kvCheckFailedError: 'KV Check Failed - Error: '\n                },\n                        fa: {\n                            kvDisabled: '\u26A0\uFE0F \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0641\u0639\u0627\u0644 \u0646\u06CC\u0633\u062A \u06CC\u0627 \u067E\u06CC\u06A9\u0631\u0628\u0646\u062F\u06CC \u0646\u0634\u062F\u0647 \u0627\u0633\u062A',\n                            kvCheckFailedError: '\u0628\u0631\u0631\u0633\u06CC \u0630\u062E\u06CC\u0631\u0647\u200C\u0633\u0627\u0632\u06CC KV \u0646\u0627\u0645\u0648\u0641\u0642 - \u062E\u0637\u0627: '\n                        }\n                    };\n\n                    const t = getTranslations();\n\n                    document.getElementById('kvStatus').innerHTML = '<span style=\"color: #ffaa00;\">' + t.kvDisabled + '</span>';\n                    document.getElementById('configCard').style.display = 'block';\n                    document.getElementById('currentConfig').textContent = t.kvCheckFailedError + error.message;\n                }\n            }\n\n            async function loadCurrentConfig() {\n                const apiUrl = window.location.pathname + '/api/config';\n\n                try {\n                    const response = await fetch(apiUrl);\n\n                    if (response.status === 503) {\n                        document.getElementById('currentConfig').textContent = t.configNotConfigured;\n                        return;\n                    }\n                    if (!response.ok) {\n                        const errorText = await response.text();\n                        document.getElementById('currentConfig').textContent = t.configLoadFailedStatus + errorText;\n                        return;\n                    }\n                    const config = await response.json();\n\n                    // \u8FC7\u6EE4\u6389\u5185\u90E8\u5B57\u6BB5 kvEnabled\n                    const displayConfig = {};\n                    for (const [key, value] of Object.entries(config)) {\n                        if (key !== 'kvEnabled') {\n                            displayConfig[key] = value;\n                        }\n                    }\n\n                    let configText = t.currentConfigLabel;\n                    if (Object.keys(displayConfig).length === 0) {\n                        configText += t.currentConfigEmpty;\n                    } else {\n                        for (const [key, value] of Object.entries(displayConfig)) {\n                            configText += key + ': ' + (value || t.currentConfigUnset) + '\\\\n';\n                        }\n                    }\n\n                    document.getElementById('currentConfig').textContent = configText;\n\n                    // \u66F4\u65B0\u8868\u5355\u503C\n                    document.getElementById('wkRegion').value = config.wk || '';\n                    document.getElementById('ev').checked = config.ev !== 'no';\n                    document.getElementById('et').checked = config.et === 'yes';\n                    document.getElementById('ex').checked = config.ex === 'yes';\n                    document.getElementById('ech').checked = config.ech === 'yes';\n                    document.getElementById('tp').value = config.tp || '';\n                    if (document.getElementById('customDNS')) {\n                        document.getElementById('customDNS').value = config.customDNS || '';\n                    }\n                    if (document.getElementById('customECHDomain')) {\n                        document.getElementById('customECHDomain').value = config.customECHDomain || '';\n                    }\n                    document.getElementById('scu').value = config.scu || '';\n                    document.getElementById('epd').checked = config.epd !== 'no';\n                    document.getElementById('epi').checked = config.epi !== 'no';\n                    document.getElementById('egi').checked = config.egi !== 'no';\n                    document.getElementById('enableDiverseProxies').checked = config.edp === 'yes' || config.edp === true;\n                    if (document.getElementById('ipv4Enabled')) document.getElementById('ipv4Enabled').checked = config.ipv4 !== 'no';\n                    if (document.getElementById('ipv6Enabled')) document.getElementById('ipv6Enabled').checked = config.ipv6 !== 'no';\n                    if (document.getElementById('ispMobile')) document.getElementById('ispMobile').checked = config.ispMobile !== 'no';\n                    if (document.getElementById('ispUnicom')) document.getElementById('ispUnicom').checked = config.ispUnicom !== 'no';\n                    if (document.getElementById('ispTelecom')) document.getElementById('ispTelecom').checked = config.ispTelecom !== 'no';\n                    document.getElementById('customPath').value = config.d || '';\n                    document.getElementById('customIP').value = config.p || '';\n                    document.getElementById('yx').value = config.yx || '';\n                    document.getElementById('yxURL').value = config.yxURL || '';\n                    document.getElementById('socksConfig').value = config.s || '';\n                    document.getElementById('customHomepage').value = config.homepage || '';\n                    document.getElementById('apiEnabled').value = config.ae || '';\n                    document.getElementById('regionMatching').value = config.rm || '';\n                    document.getElementById('downgradeControl').value = config.qj || '';\n                    document.getElementById('portControl').value = config.dkby || '';\n                    document.getElementById('preferredControl').value = config.yxby || '';\n\n                    // Update path type display\n                    updatePathTypeStatus(config.d);\n\n                    // Check p variable, if it has value, disable wk region selection\n                    updateWkRegionState();\n\n                } catch (error) {\n                    document.getElementById('currentConfig').textContent = t.configLoadFailedStatus + error.message;\n                }\n            }\n\n            // Update path type display\n            function updatePathTypeStatus(cp) {\n                const pathTypeStatus = document.getElementById('pathTypeStatus');\n                const currentUrl = window.location.href;\n                const pathParts = window.location.pathname.split('/').filter(p => p);\n                const currentPath = pathParts.length > 0 ? pathParts[0] : '';\n\n                if (cp && cp.trim()) {\n                    // Use custom path (d)\n                    pathTypeStatus.innerHTML = '<div style=\"color: #44ff44;\">' + t.pathTypeCustom + '</div>' +\n                        '<div style=\"margin-top: 5px; color: #00ff00;\">' + t.currentPathLabel + ': <span style=\"color: #ffaa00;\">' + cp + '</span></div>' +\n                        '<div style=\"margin-top: 5px; font-size: 0.9rem; color: #00aa00;\">' + t.accessUrlLabel + ': ' +\n                        (currentUrl.split('/')[0] + '//' + currentUrl.split('/')[2]) + cp + '/sub</div>';\n                } else {\n                    // Use UUID (u)\n                    pathTypeStatus.innerHTML = '<div style=\"color: #44ff44;\">' + t.pathTypeUUID + '</div>' +\n                        '<div style=\"margin-top: 5px; color: #00ff00;\">' + t.currentPathLabel + ': <span style=\"color: #ffaa00;\">' + (currentPath || '(UUID)') + '</span></div>' +\n                        '<div style=\"margin-top: 5px; font-size: 0.9rem; color: #00aa00;\">' + t.accessUrlLabel + ': ' + currentUrl.split('/sub')[0] + '/sub</div>';\n                }\n            }\n\n            // Update wk region selection enabled/disabled state\n            function updateWkRegionState() {\n                const customIPInput = document.getElementById('customIP');\n                const wkRegion = document.getElementById('wkRegion');\n                const wkRegionHint = document.getElementById('wkRegionHint');\n\n                if (customIPInput && wkRegion) {\n                    const hasCustomIP = customIPInput.value.trim() !== '';\n                    wkRegion.disabled = hasCustomIP;\n\n                    // Add visual feedback\n                    if (hasCustomIP) {\n                        wkRegion.style.opacity = '0.5';\n                        wkRegion.style.cursor = 'not-allowed';\n                        wkRegion.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';\n                        // Show hint message\n                        if (wkRegionHint) {\n                            wkRegionHint.style.display = 'block';\n                            wkRegionHint.style.color = '#ffaa00';\n                        }\n                    } else {\n                        wkRegion.style.opacity = '1';\n                        wkRegion.style.cursor = 'pointer';\n                        wkRegion.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';\n                        // Hide hint message\n                        if (wkRegionHint) {\n                            wkRegionHint.style.display = 'none';\n                        }\n                    }\n                }\n            }\n\n            async function saveConfig(configData) {\n                const apiUrl = window.location.pathname + '/api/config';\n\n                try {\n                    const response = await fetch(apiUrl, {\n                        method: 'POST',\n                        headers: { 'Content-Type': 'application/json' },\n                        body: JSON.stringify(configData)\n                    });\n\n\n                    if (response.status === 503) {\n                        showStatus(t.kvNotConfiguredSave, 'error');\n                        return;\n                    }\n\n                    if (!response.ok) {\n                        const errorText = await response.text();\n\n                        // Try parsing JSON error message\n                        try {\n                            const errorData = JSON.parse(errorText);\n                            showStatus(errorData.message || t.saveFailed, 'error');\n                        } catch (parseError) {\n                            // If not JSON, display text directly\n                            showStatus(t.saveFailed + ': ' + errorText, 'error');\n                        }\n                        return;\n                    }\n\n                    const result = await response.json();\n\n                    showStatus(result.message, result.success ? 'success' : 'error');\n\n                    if (result.success) {\n                        await loadCurrentConfig();\n                        // \u66F4\u65B0wk\u5730\u533A\u9009\u62E9\u72B6\u6001\n                        updateWkRegionState();\n                        // Reload page after successful save to update system status\n                        setTimeout(function() {\n                            window.location.reload();\n                        }, 1500);\n                    } else {\n                    }\n                } catch (error) {\n                    showStatus(t.saveFailed + ': ' + error.message, 'error');\n                }\n            }\n\n            function showStatus(message, type) {\n                const statusDiv = document.getElementById('statusMessage');\n                statusDiv.textContent = message;\n                statusDiv.style.display = 'block';\n                statusDiv.style.color = type === 'success' ? '#00ff00' : '#ff0000';\n                statusDiv.style.borderColor = type === 'success' ? '#00ff00' : '#ff0000';\n                if (type === 'error' || type === 'warn') {\n                    debugConsolePush(message, type === 'warn' ? 'warn' : 'error');\n                }\n\n                setTimeout(function() {\n                    statusDiv.style.display = 'none';\n                }, 3000);\n            }\n\n            async function resetAllConfig() {\n                if (confirm(t.resetConfirm)) {\n                    try {\n                        const response = await fetch(window.location.pathname + '/api/config', {\n                            method: 'POST',\n                            headers: { 'Content-Type': 'application/json' },\n                            body: JSON.stringify({\n                                wk: '',\n                                d: '',\n                                p: '',\n                                yx: '',\n                                yxURL: '',\n                                s: '', ae: '',\n                                rm: '',\n                                qj: '',\n                                dkby: '',\n                                yxby: '', ev: '', et: '', ex: '', tp: '', scu: '', epd: '', epi: '', egi: '',\n                                ipv4: '', ipv6: '', ispMobile: '', ispUnicom: '', ispTelecom: '',\n                                homepage: ''\n                            })\n                        });\n\n                        if (response.status === 503) {\n                            showStatus(t.kvNotConfiguredReset, 'error');\n                            return;\n                        }\n\n                        if (!response.ok) {\n                            const errorText = await response.text();\n\n                            // Try parsing JSON error message\n                            try {\n                                const errorData = JSON.parse(errorText);\n                                showStatus(errorData.message || t.resetFailed, 'error');\n                            } catch (parseError) {\n                                // If not JSON, display text directly\n                                showStatus(t.resetFailed + ': ' + errorText, 'error');\n                            }\n                            return;\n                        }\n\n                        const result = await response.json();\n                        showStatus(result.message || t.resetSuccess, result.success ? 'success' : 'error');\n\n                        if (result.success) {\n                            await loadCurrentConfig();\n                            // \u66F4\u65B0wk\u5730\u533A\u9009\u62E9\u72B6\u6001\n                            updateWkRegionState();\n                            // Reload page to update system status\n                            setTimeout(function() {\n                                window.location.reload();\n                            }, 1500);\n                        }\n                    } catch (error) {\n                        showStatus(t.resetFailed + ': ' + error.message, 'error');\n                    }\n                }\n            }\n\n            async function checkECHStatus() {\n                const echStatusEl = document.getElementById('echStatus');\n\n                if (!echStatusEl) return;\n\n                try {\n                    const currentUrl = window.location.href;\n                    const subscriptionUrl = currentUrl + '/sub';\n\n                    echStatusEl.innerHTML = t.echStatusLabel + ' <span style=\"color: #ffaa00;\">' + t.checking + '</span>';\n\n                    const response = await fetch(subscriptionUrl, {\n                        method: 'GET',\n                        headers: {\n                            'Accept': 'text/plain'\n                        }\n                    });\n\n                    const echStatusHeader = response.headers.get('X-ECH-Status');\n                    const echConfigLength = response.headers.get('X-ECH-Config-Length');\n\n                    if (echStatusHeader === 'ENABLED') {\n                        echStatusEl.innerHTML = t.echStatusLabel + ' <span style=\"color: #44ff44;\">\u2705 ' + t.statusEnabled + (echConfigLength ? ' (' + t.configLengthLabel + ': ' + echConfigLength + ')' : '') + '</span>';\n                    } else {\n                        echStatusEl.innerHTML = t.echStatusLabel + ' <span style=\"color: #ffaa00;\">\u26A0\uFE0F ' + t.statusDisabled + '</span>';\n                    }\n                } catch (error) {\n                    debugConsolePush('checkECHStatus failed: ' + (error && error.message ? error.message : error), 'error');\n                    echStatusEl.innerHTML = t.echStatusLabel + ' <span style=\"color: #ff4444;\">\u274C ' + t.statusCheckFailed + ': ' + error.message + '</span>';\n                }\n            }\n\n            document.addEventListener('DOMContentLoaded', function() {\n                initDebugConsole();\n                createMatrixRain();\n                checkSystemStatus();\n                checkKVStatus();\n                checkECHStatus();\n\n                // Automatically enable TLS-only when ECH is enabled\n                const echCheckbox = document.getElementById('ech');\n                const portControl = document.getElementById('portControl');\n                if (echCheckbox && portControl) {\n                    echCheckbox.addEventListener('change', function() {\n                        if (this.checked) {\n                            // When ECH is enabled, automatically set TLS-only to yes\n                            portControl.value = 'yes';\n                        }\n                    });\n\n                    // On page load, if ECH is checked, also automatically set TLS-only\n                    if (echCheckbox.checked) {\n                        portControl.value = 'yes';\n                    }\n                }\n\n                // Listen for customIP input changes, update wk region selection state in real-time\n                const customIPInput = document.getElementById('customIP');\n                if (customIPInput) {\n                    customIPInput.addEventListener('input', function() {\n                        updateWkRegionState();\n                    });\n                }\n\n                // Bind form events\n                const regionForm = document.getElementById('regionForm');\n                if (regionForm) {\n                    regionForm.addEventListener('submit', async function(e) {\n                        e.preventDefault();\n                        const wkRegion = document.getElementById('wkRegion').value;\n                        await saveConfig({ wk: wkRegion });\n                    });\n                }\n\n                const saveProtocolBtn = document.getElementById('saveProtocolBtn');\n                if (saveProtocolBtn) {\n                    saveProtocolBtn.addEventListener('click', async function(e) {\n                        e.preventDefault();\n                        const configData = {\n                            ev: document.getElementById('ev').checked ? 'yes' : 'no',\n                            evm: document.getElementById('evm').checked ? 'yes' : 'no',\n                            ess: document.getElementById('ess').checked ? 'yes' : 'no',\n                            etu: document.getElementById('etu').checked ? 'yes' : 'no',\n                            ehy: document.getElementById('ehy').checked ? 'yes' : 'no',\n                            eg: document.getElementById('eg').checked ? 'yes' : 'no',\n                            et: document.getElementById('et').checked ? 'yes' : 'no',\n                            ex: document.getElementById('ex').checked ? 'yes' : 'no',\n                            ech: document.getElementById('ech').checked ? 'yes' : 'no',\n                            tp: document.getElementById('tp').value,\n                            customDNS: document.getElementById('customDNS').value,\n                            customECHDomain: document.getElementById('customECHDomain').value\n                        };\n\n                        if (!document.getElementById('ev').checked &&\n                            !document.getElementById('evm').checked &&\n                            !document.getElementById('ess').checked &&\n                            !document.getElementById('etu').checked &&\n                            !document.getElementById('ehy').checked &&\n                            !document.getElementById('eg').checked &&\n                            !document.getElementById('et').checked &&\n                            !document.getElementById('ex').checked) {\n                            alert(t.selectAtLeastOne);\n                            return;\n                        }\n\n                        await saveConfig(configData);\n                    });\n                }\n\n                const otherConfigForm = document.getElementById('otherConfigForm');\n                if (otherConfigForm) {\n                    otherConfigForm.addEventListener('submit', async function(e) {\n                        e.preventDefault();\n                        const configData = {\n                            ev: document.getElementById('ev').checked ? 'yes' : 'no',\n                            evm: document.getElementById('evm').checked ? 'yes' : 'no',\n                            ess: document.getElementById('ess').checked ? 'yes' : 'no',\n                            etu: document.getElementById('etu').checked ? 'yes' : 'no',\n                            ehy: document.getElementById('ehy').checked ? 'yes' : 'no',\n                            eg: document.getElementById('eg').checked ? 'yes' : 'no',\n                            et: document.getElementById('et').checked ? 'yes' : 'no',\n                            ex: document.getElementById('ex').checked ? 'yes' : 'no',\n                            ech: document.getElementById('ech').checked ? 'yes' : 'no',\n                            tp: document.getElementById('tp').value,\n                            d: document.getElementById('customPath').value,\n                            p: document.getElementById('customIP').value,\n                            yx: document.getElementById('yx').value,\n                            yxURL: document.getElementById('yxURL').value,\n                            s: document.getElementById('socksConfig').value,\n                            homepage: document.getElementById('customHomepage').value,\n                            customDNS: document.getElementById('customDNS').value,\n                            customECHDomain: document.getElementById('customECHDomain').value\n                        };\n\n                        // Ensure at least one protocol is selected\n                        if (!document.getElementById('ev').checked &&\n                            !document.getElementById('evm').checked &&\n                            !document.getElementById('ess').checked &&\n                            !document.getElementById('etu').checked &&\n                            !document.getElementById('ehy').checked &&\n                            !document.getElementById('eg').checked &&\n                            !document.getElementById('et').checked &&\n                            !document.getElementById('ex').checked) {\n                            alert(t.selectAtLeastOne);\n                            return;\n                        }\n\n                        await saveConfig(configData);\n                    });\n                }\n\n                const advancedConfigForm = document.getElementById('advancedConfigForm');\n                if (advancedConfigForm) {\n                    advancedConfigForm.addEventListener('submit', async function(e) {\n                        e.preventDefault();\n                        const configData = { scu: document.getElementById('scu').value, epd: document.getElementById('epd').checked ? 'yes' : 'no', epi: document.getElementById('epi').checked ? 'yes' : 'no', egi: document.getElementById('egi').checked ? 'yes' : 'no', edp: document.getElementById('enableDiverseProxies').checked ? 'yes' : 'no', ae: document.getElementById('apiEnabled').value,\n                            rm: document.getElementById('regionMatching').value,\n                            qj: document.getElementById('downgradeControl').value,\n                            dkby: document.getElementById('portControl').value,\n                            yxby: document.getElementById('preferredControl').value,\n                            ipv4: document.getElementById('ipv4Enabled').checked ? 'yes' : 'no',\n                            ipv6: document.getElementById('ipv6Enabled').checked ? 'yes' : 'no',\n                            ispMobile: document.getElementById('ispMobile').checked ? 'yes' : 'no',\n                            ispUnicom: document.getElementById('ispUnicom').checked ? 'yes' : 'no',\n                            ispTelecom: document.getElementById('ispTelecom').checked ? 'yes' : 'no'\n                        };\n                        await saveConfig(configData);\n                    });\n                }\n\n                let testAbortController = null;\n                let testResults = [];\n\n                const startTestBtn = document.getElementById('startLatencyTest');\n                const stopTestBtn = document.getElementById('stopLatencyTest');\n                const testStatus = document.getElementById('latencyTestStatus');\n                const testResultsDiv = document.getElementById('latencyTestResults');\n                const resultsList = document.getElementById('latencyResultsList');\n                const overwriteSelectedBtn = document.getElementById('overwriteSelectedToYx');\n                const appendSelectedBtn = document.getElementById('appendSelectedToYx');\n                const selectAllBtn = document.getElementById('selectAllResults');\n                const deselectAllBtn = document.getElementById('deselectAllResults');\n                const ipSourceSelect = document.getElementById('ipSourceSelect');\n                const manualInputDiv = document.getElementById('manualInputDiv');\n                const urlFetchDiv = document.getElementById('urlFetchDiv');\n                const latencyTestInput = document.getElementById('latencyTestInput');\n                const fetchURLInput = document.getElementById('fetchURLInput');\n                const latencyTestPort = document.getElementById('latencyTestPort');\n                const randomIPCount = document.getElementById('randomIPCount');\n                const cfRandomDiv = document.getElementById('cfRandomDiv');\n                const randomCountDiv = document.getElementById('randomCountDiv');\n                const generateCFIPBtn = document.getElementById('generateCFIPBtn');\n                const fetchIPBtn = document.getElementById('fetchIPBtn');\n\n                if (latencyTestInput) {\n                    const savedTestInput = safeLocalStorageGet('latencyTestInput');\n                    if (savedTestInput) latencyTestInput.value = savedTestInput;\n                    latencyTestInput.addEventListener('input', function() {\n                        safeLocalStorageSet('latencyTestInput', this.value);\n                    });\n                }\n                if (fetchURLInput) {\n                    const savedFetchURL = safeLocalStorageGet('fetchURLInput');\n                    if (savedFetchURL) fetchURLInput.value = savedFetchURL;\n                    fetchURLInput.addEventListener('input', function() {\n                        safeLocalStorageSet('fetchURLInput', this.value);\n                    });\n                }\n                if (latencyTestPort) {\n                    const savedPort = safeLocalStorageGet('latencyTestPort');\n                    if (savedPort) latencyTestPort.value = savedPort;\n                    latencyTestPort.addEventListener('input', function() {\n                        safeLocalStorageSet('latencyTestPort', this.value);\n                    });\n                }\n                if (randomIPCount) {\n                    const savedCount = safeLocalStorageGet('randomIPCount');\n                    if (savedCount) randomIPCount.value = savedCount;\n                    randomIPCount.addEventListener('input', function() {\n                        safeLocalStorageSet('randomIPCount', this.value);\n                    });\n                    // On init, if hidden by default, disable input box\n                    if (randomCountDiv && randomCountDiv.style.display === 'none') {\n                        randomIPCount.disabled = true;\n                    }\n                }\n                const testThreadsInput = document.getElementById('testThreads');\n                if (testThreadsInput) {\n                    const savedThreads = safeLocalStorageGet('testThreads');\n                    if (savedThreads) testThreadsInput.value = savedThreads;\n                    testThreadsInput.addEventListener('input', function() {\n                        safeLocalStorageSet('testThreads', this.value);\n                    });\n                }\n                if (ipSourceSelect) {\n                    const savedSource = safeLocalStorageGet('ipSourceSelect');\n                    const currentSource = savedSource || ipSourceSelect.value || 'manual';\n                    if (savedSource) {\n                        ipSourceSelect.value = savedSource;\n                    }\n                    manualInputDiv.style.display = currentSource === 'manual' ? 'block' : 'none';\n                    urlFetchDiv.style.display = currentSource === 'urlFetch' ? 'block' : 'none';\n                    cfRandomDiv.style.display = currentSource === 'cfRandom' ? 'block' : 'none';\n                    randomCountDiv.style.display = currentSource === 'cfRandom' ? 'block' : 'none';\n                    // When hidden, disable input box to avoid form validation errors\n                    if (randomIPCount) {\n                        randomIPCount.disabled = currentSource !== 'cfRandom';\n                    }\n                }\n\n                const CF_CIDR_LIST = [\n                    '173.245.48.0/20', '103.21.244.0/22', '103.22.200.0/22', '103.31.4.0/22',\n                    '141.101.64.0/18', '108.162.192.0/18', '190.93.240.0/20', '188.114.96.0/20',\n                    '197.234.240.0/22', '198.41.128.0/17', '162.158.0.0/15', '104.16.0.0/13',\n                    '104.24.0.0/14', '172.64.0.0/13', '131.0.72.0/22'\n                ];\n\n                function generateRandomIPFromCIDR(cidr) {\n                    const [baseIP, prefixLength] = cidr.split('/');\n                    const prefix = parseInt(prefixLength);\n                    const hostBits = 32 - prefix;\n                    const ipParts = baseIP.split('.').map(p => parseInt(p));\n                    const ipInt = (ipParts[0] << 24) | (ipParts[1] << 16) | (ipParts[2] << 8) | ipParts[3];\n                    const randomOffset = Math.floor(Math.random() * Math.pow(2, hostBits));\n                    const mask = (0xFFFFFFFF << hostBits) >>> 0;\n                    const randomIP = (((ipInt & mask) >>> 0) + randomOffset) >>> 0;\n                    return [(randomIP >>> 24) & 0xFF, (randomIP >>> 16) & 0xFF, (randomIP >>> 8) & 0xFF, randomIP & 0xFF].join('.');\n                }\n\n                function generateCFRandomIPs(count, port) {\n                    const ips = [];\n                    for (let i = 0; i < count; i++) {\n                        const cidr = CF_CIDR_LIST[Math.floor(Math.random() * CF_CIDR_LIST.length)];\n                        const ip = generateRandomIPFromCIDR(cidr);\n                        ips.push(ip + ':' + port);\n                    }\n                    return ips;\n                }\n\n                if (ipSourceSelect) {\n                    ipSourceSelect.addEventListener('change', function() {\n                        const value = this.value;\n                        safeLocalStorageSet('ipSourceSelect', value);\n                        manualInputDiv.style.display = value === 'manual' ? 'block' : 'none';\n                        urlFetchDiv.style.display = value === 'urlFetch' ? 'block' : 'none';\n                        cfRandomDiv.style.display = value === 'cfRandom' ? 'block' : 'none';\n                        randomCountDiv.style.display = value === 'cfRandom' ? 'block' : 'none';\n                        // When hidden, disable input box to avoid form validation errors\n                        if (randomIPCount) {\n                            randomIPCount.disabled = value !== 'cfRandom';\n                        }\n                    });\n                }\n\n                if (generateCFIPBtn) {\n                    generateCFIPBtn.addEventListener('click', function() {\n                        const count = parseInt(document.getElementById('randomIPCount').value) || 20;\n                        const port = document.getElementById('latencyTestPort').value || '443';\n                        const ips = generateCFRandomIPs(count, port);\n                        document.getElementById('latencyTestInput').value = ips.join(',');\n                        manualInputDiv.style.display = 'block';\n                        showStatus(t.generated + ' ' + count + ' ' + t.cfRandomIPs, 'success');\n                    });\n                }\n\n                if (fetchIPBtn) {\n                    fetchIPBtn.addEventListener('click', async function() {\n                        const urlInput = document.getElementById('fetchURLInput');\n                        const fetchUrl = urlInput.value.trim();\n                        if (!fetchUrl) {\n                            alert(t.pleaseEnterUrl);\n                            return;\n                        }\n\n                        fetchIPBtn.disabled = true;\n                        fetchIPBtn.textContent = t.fetching;\n\n                        try {\n                            // Support multiple URLs (comma separated) and multiple IPs/nodes (comma separated) in response\n                            const urlList = Array.from(new Set(\n                                fetchUrl.split(',').map(u => u.trim()).filter(u => u)\n                            ));\n\n                            const allItems = [];\n\n                            for (const u of urlList) {\n                                const response = await fetch(u);\n                                if (!response.ok) {\n                                    throw new Error('HTTP ' + response.status + ' @ ' + u);\n                                }\n                                const text = await response.text();\n\n                                // Split by line first, then by comma in each line, compatible with both 'multi-line' and 'comma-separated' formats\n                                const perUrlItems = text\n                                    .split(/\\\\r?\\\\n/)\n                                    .map(l => l.trim())\n                                    .filter(l => l && !l.startsWith('#'))\n                                    .flatMap(l => l.split(',').map(p => p.trim()).filter(p => p));\n\n                                allItems.push(...perUrlItems);\n                            }\n\n                            if (allItems.length > 0) {\n                                document.getElementById('latencyTestInput').value = allItems.join(',');\n                                manualInputDiv.style.display = 'block';\n                                showStatus(t.fetched + ' ' + allItems.length + ' ' + t.ipCountSuffix, 'success');\n                            } else {\n                                showStatus(t.noDataFound, 'error');\n                            }\n                        } catch (err) {\n                            showStatus(t.fetchFailed + ': ' + err.message, 'error');\n                        } finally {\n                            fetchIPBtn.disabled = false;\n                            fetchIPBtn.textContent = '\u2B07 ' + t.fetchIP;\n                        }\n                    });\n                }\n\n                if (startTestBtn) {\n                    startTestBtn.addEventListener('click', async function() {\n                        const inputField = document.getElementById('latencyTestInput');\n                        const portField = document.getElementById('latencyTestPort');\n                        const threadsField = document.getElementById('testThreads');\n                        const inputValue = inputField.value.trim();\n                        const defaultPort = portField.value || '443';\n                        const threads = parseInt(threadsField.value) || 5;\n\n                        if (!inputValue) {\n                            showStatus(t.pleaseEnterIPOrDomain, 'error');\n                            return;\n                        }\n\n                        const targets = inputValue.split(',').map(t => t.trim()).filter(t => t);\n                        if (targets.length === 0) return;\n\n                        startTestBtn.style.display = 'none';\n                        stopTestBtn.style.display = 'inline-block';\n                        testStatus.style.display = 'block';\n                        testResultsDiv.style.display = 'block';\n                        resultsList.innerHTML = '';\n                        testResults = [];\n                        if (cityFilterContainer) {\n                            cityFilterContainer.style.display = 'none';\n                        }\n\n                        testAbortController = new AbortController();\n\n                        let completed = 0;\n                        const total = targets.length;\n\n                        function parseTarget(target) {\n                            let host = target;\n                            let port = defaultPort;\n                            let nodeName = '';\n\n                            if (target.includes('#')) {\n                                const parts = target.split('#');\n                                nodeName = parts[1] || '';\n                                host = parts[0];\n                            }\n\n                            if (host.includes(':') && !host.startsWith('[')) {\n                                const lastColon = host.lastIndexOf(':');\n                                const possiblePort = host.substring(lastColon + 1);\n                                if (/^[0-9]+$/.test(possiblePort)) {\n                                    port = possiblePort;\n                                    host = host.substring(0, lastColon);\n                                }\n                            } else if (host.includes(']:')) {\n                                const parts = host.split(']:');\n                                host = parts[0] + ']';\n                                port = parts[1];\n                            }\n                            return { host, port, nodeName };\n                        }\n\n                        function renderResult(result, index, shouldShow = true) {\n                            // Only show successful online optimization results, failed/timed out ones are not shown\n                            if (!result.success) {\n                                return null;\n                            }\n\n                            const resultItem = document.createElement('div');\n                            resultItem.style.cssText = 'display: flex; align-items: center; padding: 8px; border-bottom: 1px solid #003300; gap: 10px;';\n                            resultItem.dataset.index = index;\n                            resultItem.dataset.colo = result.colo || '';\n                            if (!shouldShow) {\n                                resultItem.style.display = 'none';\n                            }\n\n                            const checkbox = document.createElement('input');\n                            checkbox.type = 'checkbox';\n                            checkbox.checked = true;\n                            checkbox.disabled = false;\n                            checkbox.dataset.index = index;\n                            checkbox.style.cssText = 'width: 18px; height: 18px; cursor: pointer;';\n\n                            const info = document.createElement('div');\n                            info.style.cssText = 'flex: 1; font-family: monospace; font-size: 13px;';\n\n                            const coloName = result.colo ? getColoName(result.colo) : '';\n                            const coloDisplay = coloName ? ' <span style=\"color: #00aaff;\">[' + coloName + ']</span>' : '';\n                            info.innerHTML = '<span style=\"color: #00ff00;\">' + result.host + ':' + result.port + '</span>' + coloDisplay + ' <span style=\"color: #ffff00;\">' + result.latency + 'ms</span>';\n\n                            resultItem.appendChild(checkbox);\n                            resultItem.appendChild(info);\n                            resultsList.appendChild(resultItem);\n                            return resultItem;\n                        }\n\n                        async function testOne(target) {\n                            if (testAbortController.signal.aborted) return null;\n                            const { host, port, nodeName } = parseTarget(target);\n                            const result = await testLatency(host, port, testAbortController.signal);\n                            result.host = host;\n                            result.port = port;\n                            result.nodeName = (result.success && result.colo) ? (nodeName || ('CF-' + result.colo)) : (nodeName || host);\n                            return result;\n                        }\n\n                        for (let i = 0; i < total; i += threads) {\n                            if (testAbortController.signal.aborted) break;\n\n                            const batch = targets.slice(i, Math.min(i + threads, total));\n                            testStatus.textContent = t.testing + ': ' + (i + 1) + '-' + Math.min(i + threads, total) + '/' + total + ' (' + t.threadsLabel + ': ' + threads + ')';\n\n                            const results = await Promise.all(batch.map(t => testOne(t)));\n\n                            for (const result of results) {\n                                if (result) {\n                                    const idx = testResults.length;\n                                    testResults.push(result);\n                                    renderResult(result, idx);\n                                    completed++;\n                                }\n                            }\n                        }\n\n                        testStatus.textContent = t.testComplete + ': ' + completed + '/' + total;\n                        startTestBtn.style.display = 'inline-block';\n                        stopTestBtn.style.display = 'none';\n\n                        // Update city filter\n                        updateCityFilter();\n                    });\n                }\n\n                if (stopTestBtn) {\n                    stopTestBtn.addEventListener('click', function() {\n                        if (testAbortController) {\n                            testAbortController.abort();\n                        }\n                        startTestBtn.style.display = 'inline-block';\n                        stopTestBtn.style.display = 'none';\n                        testStatus.textContent = t.testStopped;\n                    });\n                }\n\n                if (selectAllBtn) {\n                    selectAllBtn.addEventListener('click', function() {\n                        const checkboxes = resultsList.querySelectorAll('input[type=\"checkbox\"]:not(:disabled)');\n                        checkboxes.forEach(cb => cb.checked = true);\n                    });\n                }\n\n                if (deselectAllBtn) {\n                    deselectAllBtn.addEventListener('click', function() {\n                        const checkboxes = resultsList.querySelectorAll('input[type=\"checkbox\"]');\n                        checkboxes.forEach(cb => cb.checked = false);\n                    });\n                }\n\n                // Generic function to get selected items\n                function getSelectedItems() {\n                    const checkboxes = resultsList.querySelectorAll('input[type=\"checkbox\"]:checked');\n                    if (checkboxes.length === 0) {\n                        showStatus(t.selectAtLeastOne, 'error');\n                        return null;\n                    }\n\n                    const selectedItems = [];\n                    checkboxes.forEach(cb => {\n                        const idx = parseInt(cb.dataset.index);\n                        const result = testResults[idx];\n                        if (result && result.success) {\n                            const coloName = result.colo ? getColoName(result.colo) : result.nodeName;\n                            const itemStr = result.host + ':' + result.port + '#' + coloName;\n                            selectedItems.push(itemStr);\n                        }\n                    });\n\n                    return selectedItems;\n                }\n\n                // Overwrite add\n                if (overwriteSelectedBtn) {\n                    overwriteSelectedBtn.addEventListener('click', async function() {\n                        const selectedItems = getSelectedItems();\n                        if (!selectedItems || selectedItems.length === 0) return;\n\n                        const yxInput = document.getElementById('yx');\n                        const newValue = selectedItems.join(',');\n                        yxInput.value = newValue;\n\n                        overwriteSelectedBtn.disabled = true;\n                        appendSelectedBtn.disabled = true;\n                        overwriteSelectedBtn.textContent = t.saving;\n\n                        try {\n                            const configData = {\n                                p: document.getElementById('customIP').value,\n                                yx: newValue,\n                                yxURL: document.getElementById('yxURL').value,\n                                s: document.getElementById('socksConfig').value\n                            };\n                            await saveConfig(configData);\n                            showStatus(t.overwritten + ' ' + selectedItems.length + t.itemsSaved, 'success');\n                        } catch (err) {\n                            showStatus(t.saveFailed + ': ' + err.message, 'error');\n                        } finally {\n                            overwriteSelectedBtn.disabled = false;\n                            appendSelectedBtn.disabled = false;\n                            overwriteSelectedBtn.textContent = t.overwriteAdd;\n                        }\n                    });\n                }\n\n                // Append add\n                if (appendSelectedBtn) {\n                    appendSelectedBtn.addEventListener('click', async function() {\n                        const selectedItems = getSelectedItems();\n                        if (!selectedItems || selectedItems.length === 0) return;\n\n                        const yxInput = document.getElementById('yx');\n                        const currentValue = yxInput.value.trim();\n                        const newItems = selectedItems.join(',');\n                        const newValue = currentValue ? (currentValue + ',' + newItems) : newItems;\n                        yxInput.value = newValue;\n\n                        overwriteSelectedBtn.disabled = true;\n                        appendSelectedBtn.disabled = true;\n                        appendSelectedBtn.textContent = t.saving;\n\n                        try {\n                            const configData = {\n                                p: document.getElementById('customIP').value,\n                                yx: newValue,\n                                yxURL: document.getElementById('yxURL').value,\n                                s: document.getElementById('socksConfig').value\n                            };\n                            await saveConfig(configData);\n                            showStatus(t.appended + ' ' + selectedItems.length + t.itemsSaved, 'success');\n                        } catch (err) {\n                            showStatus(t.saveFailed + ': ' + err.message, 'error');\n                        } finally {\n                            overwriteSelectedBtn.disabled = false;\n                            appendSelectedBtn.disabled = false;\n                            appendSelectedBtn.textContent = t.appendAdd;\n                        }\n                    });\n                }\n\n                function ipToHex(ip) {\n                    const parts = ip.split('.');\n                    if (parts.length !== 4) return null;\n                    let hex = '';\n                    for (let i = 0; i < 4; i++) {\n                        const num = parseInt(parts[i]);\n                        if (isNaN(num) || num < 0 || num > 255) return null;\n                        hex += num.toString(16).padStart(2, '0');\n                    }\n                    return hex;\n                }\n\n                const coloMap = {\n                    'SJC': '\uD83C\uDDFA\uD83C\uDDF8 \u5723\u4F55\u585E', 'LAX': '\uD83C\uDDFA\uD83C\uDDF8 \u6D1B\u6749\u77F6', 'SEA': '\uD83C\uDDFA\uD83C\uDDF8 \u897F\u96C5\u56FE', 'SFO': '\uD83C\uDDFA\uD83C\uDDF8 \u65E7\u91D1\u5C71', 'DFW': '\uD83C\uDDFA\uD83C\uDDF8 \u8FBE\u62C9\u65AF',\n                    'ORD': '\uD83C\uDDFA\uD83C\uDDF8 \u829D\u52A0\u54E5', 'IAD': '\uD83C\uDDFA\uD83C\uDDF8 \u534E\u76DB\u987F', 'ATL': '\uD83C\uDDFA\uD83C\uDDF8 \u4E9A\u7279\u5170\u5927', 'MIA': '\uD83C\uDDFA\uD83C\uDDF8 \u8FC8\u963F\u5BC6', 'DEN': '\uD83C\uDDFA\uD83C\uDDF8 \u4E39\u4F5B',\n                    'PHX': '\uD83C\uDDFA\uD83C\uDDF8 \u51E4\u51F0\u57CE', 'BOS': '\uD83C\uDDFA\uD83C\uDDF8 \u6CE2\u58EB\u987F', 'EWR': '\uD83C\uDDFA\uD83C\uDDF8 \u7EBD\u74E6\u514B', 'JFK': '\uD83C\uDDFA\uD83C\uDDF8 \u7EBD\u7EA6', 'LAS': '\uD83C\uDDFA\uD83C\uDDF8 \u62C9\u65AF\u7EF4\u52A0\u65AF',\n                    'MSP': '\uD83C\uDDFA\uD83C\uDDF8 \u660E\u5C3C\u963F\u6CE2\u5229\u65AF', 'DTW': '\uD83C\uDDFA\uD83C\uDDF8 \u5E95\u7279\u5F8B', 'PHL': '\uD83C\uDDFA\uD83C\uDDF8 \u8D39\u57CE', 'CLT': '\uD83C\uDDFA\uD83C\uDDF8 \u590F\u6D1B\u7279', 'SLC': '\uD83C\uDDFA\uD83C\uDDF8 \u76D0\u6E56\u57CE',\n                    'PDX': '\uD83C\uDDFA\uD83C\uDDF8 \u6CE2\u7279\u5170', 'SAN': '\uD83C\uDDFA\uD83C\uDDF8 \u5723\u5730\u4E9A\u54E5', 'TPA': '\uD83C\uDDFA\uD83C\uDDF8 \u5766\u5E15', 'IAH': '\uD83C\uDDFA\uD83C\uDDF8 \u4F11\u65AF\u987F', 'MCO': '\uD83C\uDDFA\uD83C\uDDF8 \u5965\u5170\u591A',\n                    'AUS': '\uD83C\uDDFA\uD83C\uDDF8 \u5965\u65AF\u6C40', 'BNA': '\uD83C\uDDFA\uD83C\uDDF8 \u7EB3\u4EC0\u7EF4\u5C14', 'RDU': '\uD83C\uDDFA\uD83C\uDDF8 \u7F57\u5229', 'IND': '\uD83C\uDDFA\uD83C\uDDF8 \u5370\u7B2C\u5B89\u7EB3\u6CE2\u5229\u65AF', 'CMH': '\uD83C\uDDFA\uD83C\uDDF8 \u54E5\u4F26\u5E03',\n                    'MCI': '\uD83C\uDDFA\uD83C\uDDF8 \u582A\u8428\u65AF\u57CE', 'OMA': '\uD83C\uDDFA\uD83C\uDDF8 \u5965\u9A6C\u54C8', 'ABQ': '\uD83C\uDDFA\uD83C\uDDF8 \u963F\u5C14\u4F2F\u514B\u57FA', 'OKC': '\uD83C\uDDFA\uD83C\uDDF8 \u4FC4\u514B\u62C9\u8377\u9A6C\u57CE', 'MEM': '\uD83C\uDDFA\uD83C\uDDF8 \u5B5F\u83F2\u65AF',\n                    'JAX': '\uD83C\uDDFA\uD83C\uDDF8 \u6770\u514B\u900A\u7EF4\u5C14', 'RIC': '\uD83C\uDDFA\uD83C\uDDF8 \u91CC\u58EB\u6EE1', 'BUF': '\uD83C\uDDFA\uD83C\uDDF8 \u5E03\u6CD5\u7F57', 'PIT': '\uD83C\uDDFA\uD83C\uDDF8 \u5339\u5179\u5821', 'CLE': '\uD83C\uDDFA\uD83C\uDDF8 \u514B\u5229\u592B\u5170',\n                    'CVG': '\uD83C\uDDFA\uD83C\uDDF8 \u8F9B\u8F9B\u90A3\u63D0', 'MKE': '\uD83C\uDDFA\uD83C\uDDF8 \u5BC6\u5C14\u6C83\u57FA', 'STL': '\uD83C\uDDFA\uD83C\uDDF8 \u5723\u8DEF\u6613\u65AF', 'SAT': '\uD83C\uDDFA\uD83C\uDDF8 \u5723\u5B89\u4E1C\u5C3C\u5965', 'HNL': '\uD83C\uDDFA\uD83C\uDDF8 \u6A80\u9999\u5C71',\n                    'ANC': '\uD83C\uDDFA\uD83C\uDDF8 \u5B89\u514B\u96F7\u5947', 'SMF': '\uD83C\uDDFA\uD83C\uDDF8 \u8428\u514B\u62C9\u95E8\u6258', 'ONT': '\uD83C\uDDFA\uD83C\uDDF8 \u5B89\u5927\u7565', 'OAK': '\uD83C\uDDFA\uD83C\uDDF8 \u5965\u514B\u5170',\n                    'HKG': '\uD83C\uDDED\uD83C\uDDF0 \u9999\u6E2F', 'TPE': '\uD83C\uDDF9\uD83C\uDDFC \u53F0\u5317', 'TSA': '\uD83C\uDDF9\uD83C\uDDFC \u53F0\u5317\u677E\u5C71', 'KHH': '\uD83C\uDDF9\uD83C\uDDFC \u9AD8\u96C4',\n                    'NRT': '\uD83C\uDDEF\uD83C\uDDF5 \u4E1C\u4EAC\u6210\u7530', 'HND': '\uD83C\uDDEF\uD83C\uDDF5 \u4E1C\u4EAC\u7FBD\u7530', 'KIX': '\uD83C\uDDEF\uD83C\uDDF5 \u5927\u962A\u5173\u897F', 'ITM': '\uD83C\uDDEF\uD83C\uDDF5 \u5927\u962A\u4F0A\u4E39', 'NGO': '\uD83C\uDDEF\uD83C\uDDF5 \u540D\u53E4\u5C4B',\n                    'FUK': '\uD83C\uDDEF\uD83C\uDDF5 \u798F\u5188', 'CTS': '\uD83C\uDDEF\uD83C\uDDF5 \u672D\u5E4C', 'OKA': '\uD83C\uDDEF\uD83C\uDDF5 \u51B2\u7EF3',\n                    'ICN': '\uD83C\uDDF0\uD83C\uDDF7 \u9996\u5C14\u4EC1\u5DDD', 'GMP': '\uD83C\uDDF0\uD83C\uDDF7 \u9996\u5C14\u91D1\u6D66', 'PUS': '\uD83C\uDDF0\uD83C\uDDF7 \u91DC\u5C71',\n                    'SIN': '\uD83C\uDDF8\uD83C\uDDEC \u65B0\u52A0\u5761', 'BKK': '\uD83C\uDDF9\uD83C\uDDED \u66FC\u8C37', 'DMK': '\uD83C\uDDF9\uD83C\uDDED \u66FC\u8C37\u5ECA\u66FC', 'KUL': '\uD83C\uDDF2\uD83C\uDDFE \u5409\u9686\u5761', 'CGK': '\uD83C\uDDEE\uD83C\uDDE9 \u96C5\u52A0\u8FBE',\n                    'MNL': '\uD83C\uDDF5\uD83C\uDDED \u9A6C\u5C3C\u62C9', 'CEB': '\uD83C\uDDF5\uD83C\uDDED \u5BBF\u52A1', 'HAN': '\uD83C\uDDFB\uD83C\uDDF3 \u6CB3\u5185', 'SGN': '\uD83C\uDDFB\uD83C\uDDF3 \u80E1\u5FD7\u660E', 'DAD': '\uD83C\uDDFB\uD83C\uDDF3 \u5C98\u6E2F',\n                    'RGN': '\uD83C\uDDF2\uD83C\uDDF2 \u4EF0\u5149', 'PNH': '\uD83C\uDDF0\uD83C\uDDED \u91D1\u8FB9', 'REP': '\uD83C\uDDF0\uD83C\uDDED \u66B9\u7C92', 'VTE': '\uD83C\uDDF1\uD83C\uDDE6 \u4E07\u8C61',\n                    'BOM': '\uD83C\uDDEE\uD83C\uDDF3 \u5B5F\u4E70', 'DEL': '\uD83C\uDDEE\uD83C\uDDF3 \u65B0\u5FB7\u91CC', 'MAA': '\uD83C\uDDEE\uD83C\uDDF3 \u91D1\u5948', 'BLR': '\uD83C\uDDEE\uD83C\uDDF3 \u73ED\u52A0\u7F57\u5C14', 'CCU': '\uD83C\uDDEE\uD83C\uDDF3 \u52A0\u5C14\u5404\u7B54',\n                    'HYD': '\uD83C\uDDEE\uD83C\uDDF3 \u6D77\u5F97\u62C9\u5DF4', 'AMD': '\uD83C\uDDEE\uD83C\uDDF3 \u827E\u54C8\u8FC8\u8FBE\u5DF4\u5FB7', 'COK': '\uD83C\uDDEE\uD83C\uDDF3 \u79D1\u94A6', 'PNQ': '\uD83C\uDDEE\uD83C\uDDF3 \u6D66\u90A3', 'GOI': '\uD83C\uDDEE\uD83C\uDDF3 \u679C\u963F',\n                    'CMB': '\uD83C\uDDF1\uD83C\uDDF0 \u79D1\u4F26\u5761', 'DAC': '\uD83C\uDDE7\uD83C\uDDE9 \u8FBE\u5361', 'KTM': '\uD83C\uDDF3\uD83C\uDDF5 \u52A0\u5FB7\u6EE1\u90FD', 'ISB': '\uD83C\uDDF5\uD83C\uDDF0 \u4F0A\u65AF\u5170\u5821', 'KHI': '\uD83C\uDDF5\uD83C\uDDF0 \u5361\u62C9\u5947', 'LHE': '\uD83C\uDDF5\uD83C\uDDF0 \u62C9\u5408\u5C14',\n                    'LHR': '\uD83C\uDDEC\uD83C\uDDE7 \u4F26\u6566\u5E0C\u601D\u7F57', 'LGW': '\uD83C\uDDEC\uD83C\uDDE7 \u4F26\u6566\u76D6\u7279\u5A01\u514B', 'STN': '\uD83C\uDDEC\uD83C\uDDE7 \u4F26\u6566\u65AF\u5766\u65AF\u7279\u5FB7', 'LTN': '\uD83C\uDDEC\uD83C\uDDE7 \u4F26\u6566\u5362\u987F', 'MAN': '\uD83C\uDDEC\uD83C\uDDE7 \u66FC\u5F7B\u65AF\u7279', 'EDI': '\uD83C\uDDEC\uD83C\uDDE7 \u7231\u4E01\u5821', 'BHX': '\uD83C\uDDEC\uD83C\uDDE7 \u4F2F\u660E\u7FF0',\n                    'CDG': '\uD83C\uDDEB\uD83C\uDDF7 \u5DF4\u9ECE\u6234\u9AD8\u4E50', 'ORY': '\uD83C\uDDEB\uD83C\uDDF7 \u5DF4\u9ECE\u5965\u5229', 'MRS': '\uD83C\uDDEB\uD83C\uDDF7 \u9A6C\u8D5B', 'LYS': '\uD83C\uDDEB\uD83C\uDDF7 \u91CC\u6602', 'NCE': '\uD83C\uDDEB\uD83C\uDDF7 \u5C3C\u65AF',\n                    'FRA': '\uD83C\uDDE9\uD83C\uDDEA \u6CD5\u5170\u514B\u798F', 'MUC': '\uD83C\uDDE9\uD83C\uDDEA \u6155\u5C3C\u9ED1', 'TXL': '\uD83C\uDDE9\uD83C\uDDEA \u67CF\u6797', 'BER': '\uD83C\uDDE9\uD83C\uDDEA \u67CF\u6797\u52C3\u5170\u767B\u5821', 'HAM': '\uD83C\uDDE9\uD83C\uDDEA \u6C49\u5821', 'DUS': '\uD83C\uDDE9\uD83C\uDDEA \u675C\u585E\u5C14\u591A\u592B', 'CGN': '\uD83C\uDDE9\uD83C\uDDEA \u79D1\u9686', 'STR': '\uD83C\uDDE9\uD83C\uDDEA \u65AF\u56FE\u52A0\u7279',\n                    'AMS': '\uD83C\uDDF3\uD83C\uDDF1 \u963F\u59C6\u65AF\u7279\u4E39', 'BRU': '\uD83C\uDDE7\uD83C\uDDEA \u5E03\u9C81\u585E\u5C14', 'LUX': '\uD83C\uDDF1\uD83C\uDDFA \u5362\u68EE\u5821',\n                    'ZRH': '\uD83C\uDDE8\uD83C\uDDED \u82CF\u9ECE\u4E16', 'GVA': '\uD83C\uDDE8\uD83C\uDDED \u65E5\u5185\u74E6', 'BSL': '\uD83C\uDDE8\uD83C\uDDED \u5DF4\u585E\u5C14',\n                    'VIE': '\uD83C\uDDE6\uD83C\uDDF9 \u7EF4\u4E5F\u7EB3', 'PRG': '\uD83C\uDDE8\uD83C\uDDFF \u5E03\u62C9\u683C', 'BUD': '\uD83C\uDDED\uD83C\uDDFA \u5E03\u8FBE\u4F69\u65AF', 'WAW': '\uD83C\uDDF5\uD83C\uDDF1 \u534E\u6C99', 'KRK': '\uD83C\uDDF5\uD83C\uDDF1 \u514B\u62C9\u79D1\u592B',\n                    'MXP': '\uD83C\uDDEE\uD83C\uDDF9 \u7C73\u5170\u9A6C\u5C14\u5F6D\u8428', 'LIN': '\uD83C\uDDEE\uD83C\uDDF9 \u7C73\u5170\u5229\u7EB3\u7279', 'FCO': '\uD83C\uDDEE\uD83C\uDDF9 \u7F57\u9A6C', 'VCE': '\uD83C\uDDEE\uD83C\uDDF9 \u5A01\u5C3C\u65AF', 'NAP': '\uD83C\uDDEE\uD83C\uDDF9 \u90A3\u4E0D\u52D2\u65AF', 'FLR': '\uD83C\uDDEE\uD83C\uDDF9 \u4F5B\u7F57\u4F26\u8428', 'BGY': '\uD83C\uDDEE\uD83C\uDDF9 \u8D1D\u52A0\u83AB',\n                    'MAD': '\uD83C\uDDEA\uD83C\uDDF8 \u9A6C\u5FB7\u91CC', 'BCN': '\uD83C\uDDEA\uD83C\uDDF8 \u5DF4\u585E\u7F57\u90A3', 'PMI': '\uD83C\uDDEA\uD83C\uDDF8 \u5E15\u5C14\u9A6C', 'AGP': '\uD83C\uDDEA\uD83C\uDDF8 \u9A6C\u62C9\u52A0', 'VLC': '\uD83C\uDDEA\uD83C\uDDF8 \u74E6\u4F26\u897F\u4E9A', 'SVQ': '\uD83C\uDDEA\uD83C\uDDF8 \u585E\u7EF4\u5229\u4E9A', 'BIO': '\uD83C\uDDEA\uD83C\uDDF8 \u6BD5\u5C14\u5DF4\u9102',\n                    'LIS': '\uD83C\uDDF5\uD83C\uDDF9 \u91CC\u65AF\u672C', 'OPO': '\uD83C\uDDF5\uD83C\uDDF9 \u6CE2\u5C14\u56FE', 'FAO': '\uD83C\uDDF5\uD83C\uDDF9 \u6CD5\u9C81',\n                    'DUB': '\uD83C\uDDEE\uD83C\uDDEA \u90FD\u67CF\u6797', 'CPH': '\uD83C\uDDE9\uD83C\uDDF0 \u54E5\u672C\u54C8\u6839', 'ARN': '\uD83C\uDDF8\uD83C\uDDEA \u65AF\u5FB7\u54E5\u5C14\u6469', 'GOT': '\uD83C\uDDF8\uD83C\uDDEA \u54E5\u5FB7\u5821',\n                    'OSL': '\uD83C\uDDF3\uD83C\uDDF4 \u5965\u65AF\u9646', 'BGO': '\uD83C\uDDF3\uD83C\uDDF4 \u5351\u5C14\u6839', 'HEL': '\uD83C\uDDEB\uD83C\uDDEE \u8D6B\u5C14\u8F9B\u57FA', 'RIX': '\uD83C\uDDF1\uD83C\uDDFB \u91CC\u52A0', 'TLL': '\uD83C\uDDEA\uD83C\uDDEA \u5854\u6797', 'VNO': '\uD83C\uDDF1\uD83C\uDDF9 \u7EF4\u5C14\u7EBD\u65AF',\n                    'ATH': '\uD83C\uDDEC\uD83C\uDDF7 \u96C5\u5178', 'SKG': '\uD83C\uDDEC\uD83C\uDDF7 \u585E\u8428\u6D1B\u5C3C\u57FA', 'SOF': '\uD83C\uDDE7\uD83C\uDDEC \u7D22\u975E\u4E9A', 'OTP': '\uD83C\uDDF7\uD83C\uDDF4 \u5E03\u52A0\u52D2\u65AF\u7279', 'BEG': '\uD83C\uDDF7\uD83C\uDDF8 \u8D1D\u5C14\u683C\u83B1\u5FB7', 'ZAG': '\uD83C\uDDED\uD83C\uDDF7 \u8428\u683C\u52D2\u5E03', 'LJU': '\uD83C\uDDF8\uD83C\uDDEE \u5362\u5E03\u5C14\u96C5\u90A3',\n                    'KBP': '\uD83C\uDDFA\uD83C\uDDE6 \u57FA\u8F85', 'IEV': '\uD83C\uDDFA\uD83C\uDDE6 \u57FA\u8F85\u8339\u826F\u5C3C', 'ODS': '\uD83C\uDDFA\uD83C\uDDE6 \u6556\u5FB7\u8428',\n                    'SVO': '\uD83C\uDDF7\uD83C\uDDFA \u83AB\u65AF\u79D1\u8C22\u5217\u6885\u6377\u6C83', 'DME': '\uD83C\uDDF7\uD83C\uDDFA \u83AB\u65AF\u79D1\u591A\u83AB\u6770\u591A\u6C83', 'VKO': '\uD83C\uDDF7\uD83C\uDDFA \u83AB\u65AF\u79D1\u4F0F\u52AA\u79D1\u6C83', 'LED': '\uD83C\uDDF7\uD83C\uDDFA \u5723\u5F7C\u5F97\u5821',\n                    'IST': '\uD83C\uDDF9\uD83C\uDDF7 \u4F0A\u65AF\u5766\u5E03\u5C14', 'SAW': '\uD83C\uDDF9\uD83C\uDDF7 \u4F0A\u65AF\u5766\u5E03\u5C14\u8428\u6BD4\u54C8', 'ESB': '\uD83C\uDDF9\uD83C\uDDF7 \u5B89\u5361\u62C9', 'AYT': '\uD83C\uDDF9\uD83C\uDDF7 \u5B89\u5854\u5229\u4E9A', 'ADB': '\uD83C\uDDF9\uD83C\uDDF7 \u4F0A\u5179\u5BC6\u5C14',\n                    'TLV': '\uD83C\uDDEE\uD83C\uDDF1 \u7279\u62C9\u7EF4\u592B', 'AMM': '\uD83C\uDDEF\uD83C\uDDF4 \u5B89\u66FC', 'BEY': '\uD83C\uDDF1\uD83C\uDDE7 \u8D1D\u9C81\u7279', 'BAH': '\uD83C\uDDE7\uD83C\uDDED \u5DF4\u6797', 'KWI': '\uD83C\uDDF0\uD83C\uDDFC \u79D1\u5A01\u7279',\n                    'DXB': '\uD83C\uDDE6\uD83C\uDDEA \u8FEA\u62DC', 'AUH': '\uD83C\uDDE6\uD83C\uDDEA \u963F\u5E03\u624E\u6BD4', 'SHJ': '\uD83C\uDDE6\uD83C\uDDEA \u6C99\u8FE6', 'DOH': '\uD83C\uDDF6\uD83C\uDDE6 \u591A\u54C8', 'MCT': '\uD83C\uDDF4\uD83C\uDDF2 \u9A6C\u65AF\u5580\u7279',\n                    'RUH': '\uD83C\uDDF8\uD83C\uDDE6 \u5229\u96C5\u5F97', 'JED': '\uD83C\uDDF8\uD83C\uDDE6 \u5409\u8FBE', 'DMM': '\uD83C\uDDF8\uD83C\uDDE6 \u8FBE\u66FC',\n                    'CAI': '\uD83C\uDDEA\uD83C\uDDEC \u5F00\u7F57', 'HBE': '\uD83C\uDDEA\uD83C\uDDEC \u4E9A\u5386\u5C71\u5927', 'SSH': '\uD83C\uDDEA\uD83C\uDDEC \u6C99\u59C6\u6C99\u4F0A\u8D6B',\n                    'CMN': '\uD83C\uDDF2\uD83C\uDDE6 \u5361\u8428\u5E03\u5170\u5361', 'RAK': '\uD83C\uDDF2\uD83C\uDDE6 \u9A6C\u62C9\u5580\u4EC0', 'TUN': '\uD83C\uDDF9\uD83C\uDDF3 \u7A81\u5C3C\u65AF', 'ALG': '\uD83C\uDDE9\uD83C\uDDFF \u963F\u5C14\u53CA\u5C14',\n                    'LOS': '\uD83C\uDDF3\uD83C\uDDEC \u62C9\u5404\u65AF', 'ABV': '\uD83C\uDDF3\uD83C\uDDEC \u963F\u5E03\u8D3E', 'ACC': '\uD83C\uDDEC\uD83C\uDDED \u963F\u514B\u62C9', 'NBO': '\uD83C\uDDF0\uD83C\uDDEA \u5185\u7F57\u6BD5', 'MBA': '\uD83C\uDDF0\uD83C\uDDEA \u8499\u5DF4\u8428', 'ADD': '\uD83C\uDDEA\uD83C\uDDF9 \u4E9A\u7684\u65AF\u4E9A\u8D1D\u5DF4', 'DAR': '\uD83C\uDDF9\uD83C\uDDFF \u8FBE\u7D2F\u65AF\u8428\u62C9\u59C6',\n                    'JNB': '\uD83C\uDDFF\uD83C\uDDE6 \u7EA6\u7FF0\u5185\u65AF\u5821', 'CPT': '\uD83C\uDDFF\uD83C\uDDE6 \u5F00\u666E\u6566', 'DUR': '\uD83C\uDDFF\uD83C\uDDE6 \u5FB7\u73ED', 'HRE': '\uD83C\uDDFF\uD83C\uDDFC \u54C8\u62C9\u96F7', 'LUN': '\uD83C\uDDFF\uD83C\uDDF2 \u5362\u8428\u5361',\n                    'MRU': '\uD83C\uDDF2\uD83C\uDDFA \u6BDB\u91CC\u6C42\u65AF', 'SEZ': '\uD83C\uDDF8\uD83C\uDDE8 \u585E\u820C\u5C14',\n                    'SYD': '\uD83C\uDDE6\uD83C\uDDFA \u6089\u5C3C', 'MEL': '\uD83C\uDDE6\uD83C\uDDFA \u58A8\u5C14\u672C', 'BNE': '\uD83C\uDDE6\uD83C\uDDFA \u5E03\u91CC\u65AF\u73ED', 'PER': '\uD83C\uDDE6\uD83C\uDDFA \u73C0\u65AF', 'ADL': '\uD83C\uDDE6\uD83C\uDDFA \u963F\u5FB7\u83B1\u5FB7', 'CBR': '\uD83C\uDDE6\uD83C\uDDFA \u582A\u57F9\u62C9', 'OOL': '\uD83C\uDDE6\uD83C\uDDFA \u9EC4\u91D1\u6D77\u5CB8', 'CNS': '\uD83C\uDDE6\uD83C\uDDFA \u51EF\u6069\u65AF',\n                    'AKL': '\uD83C\uDDF3\uD83C\uDDFF \u5965\u514B\u5170', 'WLG': '\uD83C\uDDF3\uD83C\uDDFF \u60E0\u7075\u987F', 'CHC': '\uD83C\uDDF3\uD83C\uDDFF \u57FA\u7763\u57CE', 'ZQN': '\uD83C\uDDF3\uD83C\uDDFF \u7687\u540E\u9547',\n                    'NAN': '\uD83C\uDDEB\uD83C\uDDEF \u6960\u8FEA', 'PPT': '\uD83C\uDDF5\uD83C\uDDEB \u5E15\u76AE\u63D0', 'GUM': '\uD83C\uDDEC\uD83C\uDDFA \u5173\u5C9B',\n                    'GRU': '\uD83C\uDDE7\uD83C\uDDF7 \u5723\u4FDD\u7F57\u74DC\u9C81\u67F3\u65AF', 'CGH': '\uD83C\uDDE7\uD83C\uDDF7 \u5723\u4FDD\u7F57\u5B54\u6208\u5C3C\u4E9A\u65AF', 'GIG': '\uD83C\uDDE7\uD83C\uDDF7 \u91CC\u7EA6\u70ED\u5185\u5362', 'BSB': '\uD83C\uDDE7\uD83C\uDDF7 \u5DF4\u897F\u5229\u4E9A', 'CNF': '\uD83C\uDDE7\uD83C\uDDF7 \u8D1D\u6D1B\u5965\u91CC\u85CF\u7279', 'POA': '\uD83C\uDDE7\uD83C\uDDF7 \u963F\u96F7\u683C\u91CC\u6E2F', 'CWB': '\uD83C\uDDE7\uD83C\uDDF7 \u5E93\u91CC\u8482\u5DF4', 'FOR': '\uD83C\uDDE7\uD83C\uDDF7 \u798F\u5854\u83B1\u8428', 'REC': '\uD83C\uDDE7\uD83C\uDDF7 \u7D2F\u897F\u8153', 'SSA': '\uD83C\uDDE7\uD83C\uDDF7 \u8428\u5C14\u74E6\u591A',\n                    'EZE': '\uD83C\uDDE6\uD83C\uDDF7 \u5E03\u5B9C\u8BFA\u65AF\u827E\u5229\u65AF', 'AEP': '\uD83C\uDDE6\uD83C\uDDF7 \u5E03\u5B9C\u8BFA\u65AF\u827E\u5229\u65AF\u57CE', 'COR': '\uD83C\uDDE6\uD83C\uDDF7 \u79D1\u5C14\u591A\u74E6', 'MDZ': '\uD83C\uDDE6\uD83C\uDDF7 \u95E8\u591A\u8428',\n                    'SCL': '\uD83C\uDDE8\uD83C\uDDF1 \u5723\u5730\u4E9A\u54E5', 'LIM': '\uD83C\uDDF5\uD83C\uDDEA \u5229\u9A6C', 'BOG': '\uD83C\uDDE8\uD83C\uDDF4 \u6CE2\u54E5\u5927', 'MDE': '\uD83C\uDDE8\uD83C\uDDF4 \u9EA6\u5FB7\u6797', 'CLO': '\uD83C\uDDE8\uD83C\uDDF4 \u5361\u5229',\n                    'UIO': '\uD83C\uDDEA\uD83C\uDDE8 \u57FA\u591A', 'GYE': '\uD83C\uDDEA\uD83C\uDDE8 \u74DC\u4E9A\u57FA\u5C14', 'CCS': '\uD83C\uDDFB\uD83C\uDDEA \u52A0\u62C9\u52A0\u65AF', 'MVD': '\uD83C\uDDFA\uD83C\uDDFE \u8499\u5F97\u7EF4\u7684\u4E9A', 'ASU': '\uD83C\uDDF5\uD83C\uDDFE \u4E9A\u677E\u68EE',\n                    'PTY': '\uD83C\uDDF5\uD83C\uDDE6 \u5DF4\u62FF\u9A6C\u57CE', 'SJO': '\uD83C\uDDE8\uD83C\uDDF7 \u5723\u4F55\u585E', 'GUA': '\uD83C\uDDEC\uD83C\uDDF9 \u5371\u5730\u9A6C\u62C9\u57CE', 'SAL': '\uD83C\uDDF8\uD83C\uDDFB \u5723\u8428\u5C14\u74E6\u591A', 'TGU': '\uD83C\uDDED\uD83C\uDDF3 \u7279\u53E4\u897F\u52A0\u5C14\u5DF4', 'MGA': '\uD83C\uDDF3\uD83C\uDDEE \u9A6C\u90A3\u74DC', 'BZE': '\uD83C\uDDE7\uD83C\uDDFF \u4F2F\u5229\u5179\u57CE',\n                    'MEX': '\uD83C\uDDF2\uD83C\uDDFD \u58A8\u897F\u54E5\u57CE', 'GDL': '\uD83C\uDDF2\uD83C\uDDFD \u74DC\u8FBE\u62C9\u54C8\u62C9', 'MTY': '\uD83C\uDDF2\uD83C\uDDFD \u8499\u7279\u96F7', 'CUN': '\uD83C\uDDF2\uD83C\uDDFD \u574E\u6606', 'TIJ': '\uD83C\uDDF2\uD83C\uDDFD \u8482\u534E\u7EB3', 'SJD': '\uD83C\uDDF2\uD83C\uDDFD \u5723\u4F55\u585E\u5FB7\u5C14\u5361\u6C83',\n                    'YYZ': '\uD83C\uDDE8\uD83C\uDDE6 \u591A\u4F26\u591A', 'YVR': '\uD83C\uDDE8\uD83C\uDDE6 \u6E29\u54E5\u534E', 'YUL': '\uD83C\uDDE8\uD83C\uDDE6 \u8499\u7279\u5229\u5C14', 'YYC': '\uD83C\uDDE8\uD83C\uDDE6 \u5361\u5C14\u52A0\u91CC', 'YEG': '\uD83C\uDDE8\uD83C\uDDE6 \u57C3\u5FB7\u8499\u987F', 'YOW': '\uD83C\uDDE8\uD83C\uDDE6 \u6E25\u592A\u534E', 'YWG': '\uD83C\uDDE8\uD83C\uDDE6 \u6E29\u5C3C\u4F2F', 'YHZ': '\uD83C\uDDE8\uD83C\uDDE6 \u54C8\u5229\u6CD5\u514B\u65AF',\n                    'HAV': '\uD83C\uDDE8\uD83C\uDDFA \u54C8\u74E6\u90A3', 'SJU': '\uD83C\uDDF5\uD83C\uDDF7 \u5723\u80E1\u5B89', 'SDQ': '\uD83C\uDDE9\uD83C\uDDF4 \u5723\u591A\u660E\u5404', 'PAP': '\uD83C\uDDED\uD83C\uDDF9 \u592A\u5B50\u6E2F', 'KIN': '\uD83C\uDDEF\uD83C\uDDF2 \u91D1\u65AF\u987F', 'NAS': '\uD83C\uDDE7\uD83C\uDDF8 \u62FF\u9A9A', 'MBJ': '\uD83C\uDDEF\uD83C\uDDF2 \u8499\u7279\u54E5\u8D1D'\n                };\n\n                function getColoName(colo) {\n                    if (getPreferredLanguage() !== 'zh') return colo;\n                    return coloMap[colo] || colo;\n                }\n\n                // City filtering related functions\n                const cityFilterContainer = document.getElementById('cityFilterContainer');\n                const cityCheckboxesContainer = document.getElementById('cityCheckboxesContainer');\n\n                function updateCityFilter() {\n                    if (!cityFilterContainer || !cityCheckboxesContainer) return;\n\n                    // Extract all available cities from test results\n                    const cityMap = new Map();\n                    testResults.forEach((result, index) => {\n                        if (result.success && result.colo) {\n                            const colo = result.colo;\n                            if (!cityMap.has(colo)) {\n                                cityMap.set(colo, {\n                                    colo: colo,\n                                    name: getColoName(colo),\n                                    count: 0\n                                });\n                            }\n                            cityMap.get(colo).count++;\n                        }\n                    });\n\n                    if (cityMap.size === 0) {\n                        cityFilterContainer.style.display = 'none';\n                        return;\n                    }\n\n                    cityFilterContainer.style.display = 'block';\n                    cityCheckboxesContainer.innerHTML = '';\n\n                    // Sort by city name\n                    const cities = Array.from(cityMap.values()).sort((a, b) => a.name.localeCompare(b.name));\n\n                    cities.forEach(city => {\n                        const label = document.createElement('label');\n                        label.style.cssText = 'display: inline-flex; align-items: center; cursor: pointer; color: #00ff00; font-size: 0.85rem; padding: 4px 8px; background: rgba(0, 40, 0, 0.4); border: 1px solid #00aa00; border-radius: 4px;';\n\n                        const checkbox = document.createElement('input');\n                        checkbox.type = 'checkbox';\n                        checkbox.value = city.colo;\n                        checkbox.checked = true;\n                        checkbox.dataset.colo = city.colo;\n                        checkbox.style.cssText = 'margin-right: 6px; width: 16px; height: 16px; cursor: pointer;';\n\n                        const span = document.createElement('span');\n                        span.textContent = city.name + ' (' + city.count + ')';\n\n                        label.appendChild(checkbox);\n                        label.appendChild(span);\n                        cityCheckboxesContainer.appendChild(label);\n\n                        checkbox.addEventListener('change', filterResultsByCity);\n                    });\n\n                    // Listen for filter mode changes\n                    const filterModeRadios = document.querySelectorAll('input[name=\"cityFilterMode\"]');\n                    filterModeRadios.forEach(radio => {\n                        radio.addEventListener('change', function() {\n                            if (this.value === 'all') {\n                                // When switching to 'All Cities' mode, automatically check all city checkboxes\n                                const cityCheckboxes = cityCheckboxesContainer.querySelectorAll('input[type=\"checkbox\"]');\n                                cityCheckboxes.forEach(cb => {\n                                    cb.checked = true;\n                                    cb.disabled = false;\n                                });\n                            }\n                            filterResultsByCity();\n                        });\n                    });\n                }\n\n                function filterResultsByCity() {\n                    if (!resultsList || !cityCheckboxesContainer) return;\n\n                    const filterModeEl = document.querySelector('input[name=\"cityFilterMode\"]:checked');\n                    const filterMode = filterModeEl && filterModeEl.value ? filterModeEl.value : 'all';\n                    const resultItems = resultsList.querySelectorAll('[data-index]');\n                    const cityCheckboxes = cityCheckboxesContainer.querySelectorAll('input[type=\"checkbox\"]');\n\n                    if (filterMode === 'fastest10') {\n                        // Select only the fastest 10\n                        const sortedResults = testResults\n                            .map((result, index) => ({ result, index }))\n                            .filter(item => item.result.success)\n                            .sort((a, b) => a.result.latency - b.result.latency)\n                            .slice(0, 10);\n\n                        const fastestIndices = new Set(sortedResults.map(item => item.index));\n\n                        resultItems.forEach(item => {\n                            const index = parseInt(item.dataset.index);\n                            const checkbox = item.querySelector('input[type=\"checkbox\"]');\n                            if (fastestIndices.has(index)) {\n                                item.style.display = 'flex';\n                                if (checkbox) checkbox.checked = true;\n                            } else {\n                                item.style.display = 'none';\n                                if (checkbox) checkbox.checked = false;\n                            }\n                        });\n\n                        // Disable city checkboxes\n                        cityCheckboxes.forEach(cb => cb.disabled = true);\n                    } else {\n                        // Filter by selected cities\n                        const selectedCities = new Set();\n                        cityCheckboxes.forEach(cb => {\n                            if (cb.checked) {\n                                selectedCities.add(cb.value);\n                            }\n                        });\n\n                        // If all cities are selected (or none), show all results\n                        const allChecked = cityCheckboxes.length > 0 && selectedCities.size === cityCheckboxes.length;\n                        const noneChecked = selectedCities.size === 0;\n\n                        resultItems.forEach(item => {\n                            const colo = item.dataset.colo || '';\n                            const checkbox = item.querySelector('input[type=\"checkbox\"]');\n                            if (allChecked || noneChecked || selectedCities.has(colo)) {\n                                item.style.display = 'flex';\n                                // Sync update result item checkbox state\n                                if (checkbox) {\n                                    if (allChecked) {\n                                        // When all cities are selected, all result item checkboxes are checked\n                                        checkbox.checked = true;\n                                    } else if (noneChecked) {\n                                        // When no city is selected, all result item checkboxes are unchecked\n                                        checkbox.checked = false;\n                                    } else {\n                                        // Sync checkboxes based on city selection state\n                                        checkbox.checked = selectedCities.has(colo);\n                                    }\n                                }\n                            } else {\n                                item.style.display = 'none';\n                                // Uncheck hidden result item checkboxes\n                                if (checkbox) {\n                                    checkbox.checked = false;\n                                }\n                            }\n                        });\n\n                        // Enable city checkboxes\n                        cityCheckboxes.forEach(cb => cb.disabled = false);\n                    }\n                }\n\n                async function testLatency(host, port, signal) {\n                    const timeout = 8000;\n                    let colo = '';\n                    let testUrl = '';\n\n                    try {\n                        const controller = new AbortController();\n                        const timeoutId = setTimeout(() => controller.abort(), timeout);\n\n                        if (signal) {\n                            signal.addEventListener('abort', () => controller.abort());\n                        }\n\n                        const cleanHost = host.replace(/^\\\\[|\\\\]$/g, '');\n                        const hexIP = ipToHex(cleanHost);\n                        const testDomain = hexIP ? (hexIP + '.nip.lfree.org') : (cleanHost + '.nip.lfree.org');\n                        testUrl = 'https://' + testDomain + ':' + port + '/';\n\n                        console.log('[LatencyTest] Testing:', testUrl, 'Original:', host + ':' + port, 'HexIP:', hexIP);\n\n                        const firstStart = Date.now();\n                        const response1 = await fetch(testUrl, {\n                            signal: controller.signal\n                        });\n                        const firstTime = Date.now() - firstStart;\n\n                        if (!response1.ok) {\n                            clearTimeout(timeoutId);\n                            return { success: false, latency: firstTime, error: 'HTTP ' + response1.status + ' ' + response1.statusText, colo: '', testUrl: testUrl };\n                        }\n\n                        try {\n                            const text = await response1.text();\n                            console.log('[LatencyTest] Response body:', text.substring(0, 200));\n                            const data = JSON.parse(text);\n                            if (data.colo) {\n                                colo = data.colo;\n                            }\n                        } catch (e) {\n                            console.log('[LatencyTest] Parse error:', e.message);\n                        }\n\n                        const secondStart = Date.now();\n                        const response2 = await fetch(testUrl, {\n                            signal: controller.signal\n                        });\n                        await response2.text();\n                        const latency = Date.now() - secondStart;\n\n                        clearTimeout(timeoutId);\n\n                        console.log('[LatencyTest] First:', firstTime + 'ms (DNS+TLS+RTT)', 'Second:', latency + 'ms (RTT only)');\n\n                        return { success: true, latency: latency, colo: colo, testUrl: testUrl };\n                    } catch (error) {\n                        const errorMsg = error.name === 'AbortError' ? t.timeoutLabel : error.message;\n                        console.log('[LatencyTest] Error:', errorMsg, 'URL:', testUrl);\n                        return { success: false, latency: -1, error: errorMsg, colo: '', testUrl: testUrl };\n                    }\n                }\n            });\n        </script>\n    </body>\n    </html>`;\n\n        return new Response(pageHtml, {\n            status: 200,\n            headers: { 'Content-Type': 'text/html; charset=utf-8' }\n        });\n    }\n\n    async function parseTrojanHeader(buffer, ut) {\n\n        const passwordToHash = tp || ut;\n        const sha224Password = await sha224Hash(passwordToHash);\n\n        if (buffer.byteLength < 56) {\n            return {\n                hasError: true,\n                message: \"invalid \" + atob('dHJvamFu') + \" data - too short\"\n            };\n        }\n        let crLfIndex = 56;\n        if (new Uint8Array(buffer.slice(56, 57))[0] !== 0x0d || new Uint8Array(buffer.slice(57, 58))[0] !== 0x0a) {\n            return {\n                hasError: true,\n                message: \"invalid \" + atob('dHJvamFu') + \" header format (missing CR LF)\"\n            };\n        }\n        const password = new TextDecoder().decode(buffer.slice(0, crLfIndex));\n        if (password !== sha224Password) {\n            return {\n                hasError: true,\n                message: \"invalid \" + atob('dHJvamFu') + \" password\"\n            };\n        }\n\n        const socks5DataBuffer = buffer.slice(crLfIndex + 2);\n        if (socks5DataBuffer.byteLength < 6) {\n            return {\n                hasError: true,\n                message: atob('aW52YWxpZCBTT0NLUzUgcmVxdWVzdCBkYXRh')\n            };\n        }\n\n        const view = new DataView(socks5DataBuffer);\n        const cmd = view.getUint8(0);\n        if (cmd !== 1) {\n            return {\n                hasError: true,\n                message: \"unsupported command, only TCP (CONNECT) is allowed\"\n            };\n        }\n\n        const atype = view.getUint8(1);\n        let addressLength = 0;\n        let addressIndex = 2;\n        let address = \"\";\n        switch (atype) {\n            case 1:\n                addressLength = 4;\n                address = new Uint8Array(\n                socks5DataBuffer.slice(addressIndex, addressIndex + addressLength)\n                ).join(\".\");\n                break;\n            case 3:\n                addressLength = new Uint8Array(\n                socks5DataBuffer.slice(addressIndex, addressIndex + 1)\n                )[0];\n                addressIndex += 1;\n                address = new TextDecoder().decode(\n                socks5DataBuffer.slice(addressIndex, addressIndex + addressLength)\n                );\n                break;\n            case 4:\n                addressLength = 16;\n                const dataView = new DataView(socks5DataBuffer.slice(addressIndex, addressIndex + addressLength));\n                const ipv6 = [];\n                for (let i = 0; i < 8; i++) {\n                    ipv6.push(dataView.getUint16(i * 2).toString(16));\n                }\n                address = ipv6.join(\":\");\n                break;\n            default:\n                return {\n                    hasError: true,\n                    message: `invalid addressType is ${atype}`\n                };\n        }\n\n        if (!address) {\n            return {\n                hasError: true,\n                message: `address is empty, addressType is ${atype}`\n            };\n        }\n\n        const portIndex = addressIndex + addressLength;\n        const portBuffer = socks5DataBuffer.slice(portIndex, portIndex + 2);\n        const portRemote = new DataView(portBuffer).getUint16(0);\n\n        return {\n            hasError: false,\n            addressRemote: address,\n            addressType: atype,\n            port: portRemote,\n            hostname: address,\n            rawClientData: socks5DataBuffer.slice(portIndex + 4)\n        };\n    }\n\n    async function sha224Hash(text) {\n        const encoder = new TextEncoder();\n        const data = encoder.encode(text);\n\n        const K = [\n            0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n            0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n            0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n            0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n            0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n            0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n            0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n            0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n        ];\n\n        let H = [\n            0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939,\n            0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4\n        ];\n\n        const msgLen = data.length;\n        const bitLen = msgLen * 8;\n        const paddedLen = Math.ceil((msgLen + 9) / 64) * 64;\n        const padded = new Uint8Array(paddedLen);\n        padded.set(data);\n        padded[msgLen] = 0x80;\n\n        const view = new DataView(padded.buffer);\n        view.setUint32(paddedLen - 4, bitLen, false);\n\n        for (let chunk = 0; chunk < paddedLen; chunk += 64) {\n            const W = new Uint32Array(64);\n\n            for (let i = 0; i < 16; i++) {\n                W[i] = view.getUint32(chunk + i * 4, false);\n            }\n\n            for (let i = 16; i < 64; i++) {\n                const s0 = rightRotate(W[i - 15], 7) ^ rightRotate(W[i - 15], 18) ^ (W[i - 15] >>> 3);\n                const s1 = rightRotate(W[i - 2], 17) ^ rightRotate(W[i - 2], 19) ^ (W[i - 2] >>> 10);\n                W[i] = (W[i - 16] + s0 + W[i - 7] + s1) >>> 0;\n            }\n\n            let [a, b, c, d, e, f, g, h] = H;\n\n            for (let i = 0; i < 64; i++) {\n                const S1 = rightRotate(e, 6) ^ rightRotate(e, 11) ^ rightRotate(e, 25);\n                const ch = (e & f) ^ (~e & g);\n                const temp1 = (h + S1 + ch + K[i] + W[i]) >>> 0;\n                const S0 = rightRotate(a, 2) ^ rightRotate(a, 13) ^ rightRotate(a, 22);\n                const maj = (a & b) ^ (a & c) ^ (b & c);\n                const temp2 = (S0 + maj) >>> 0;\n\n                h = g;\n                g = f;\n                f = e;\n                e = (d + temp1) >>> 0;\n                d = c;\n                c = b;\n                b = a;\n                a = (temp1 + temp2) >>> 0;\n            }\n\n            H[0] = (H[0] + a) >>> 0;\n            H[1] = (H[1] + b) >>> 0;\n            H[2] = (H[2] + c) >>> 0;\n            H[3] = (H[3] + d) >>> 0;\n            H[4] = (H[4] + e) >>> 0;\n            H[5] = (H[5] + f) >>> 0;\n            H[6] = (H[6] + g) >>> 0;\n            H[7] = (H[7] + h) >>> 0;\n        }\n\n        const result = [];\n        for (let i = 0; i < 7; i++) {\n            result.push(\n                ((H[i] >>> 24) & 0xff).toString(16).padStart(2, '0'),\n                ((H[i] >>> 16) & 0xff).toString(16).padStart(2, '0'),\n                ((H[i] >>> 8) & 0xff).toString(16).padStart(2, '0'),\n                (H[i] & 0xff).toString(16).padStart(2, '0')\n            );\n        }\n\n        return result.join('');\n    }\n\n    function rightRotate(value, amount) {\n        return (value >>> amount) | (value << (32 - amount));\n    }\n\n    let ACTIVE_CONNECTIONS = 0;\n    const XHTTP_BUFFER_SIZE = 128 * 1024;\n    const CONNECT_TIMEOUT_MS = 5000;\n    const IDLE_TIMEOUT_MS = 45000;\n    const MAX_RETRIES = 2;\n    const MAX_CONCURRENT = 32;\n\n    function xhttp_sleep(ms) {\n        return new Promise((r) => setTimeout(r, ms));\n    }\n\n    function validate_uuid_xhttp(id, uuid) {\n        for (let index = 0; index < 16; index++) {\n            if (id[index] !== uuid[index]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    class XhttpCounter {\n        #total\n\n        constructor() {\n            this.#total = 0;\n        }\n\n        get() {\n            return this.#total;\n        }\n\n        add(size) {\n            this.#total += size;\n        }\n    }\n\n    function concat_typed_arrays(first, ...args) {\n        let len = first.length;\n        for (let a of args) {\n            len += a.length;\n        }\n        const r = new first.constructor(len);\n        r.set(first, 0);\n        len = first.length;\n        for (let a of args) {\n            r.set(a, len);\n            len += a.length;\n        }\n        return r;\n    }\n\n    function parse_uuid_xhttp(uuid) {\n        uuid = uuid.replaceAll('-', '');\n        const r = [];\n        for (let index = 0; index < 16; index++) {\n            const v = parseInt(uuid.substr(index * 2, 2), 16);\n            r.push(v);\n        }\n        return r;\n    }\n\n    function get_xhttp_buffer(size) {\n        return new Uint8Array(new ArrayBuffer(size || XHTTP_BUFFER_SIZE));\n    }\n\n    async function read_xhttp_header(readable, uuid_str) {\n        const reader = readable.getReader({ mode: 'byob' });\n\n        try {\n            let r = await reader.readAtLeast(1 + 16 + 1, get_xhttp_buffer());\n            let rlen = 0;\n            let idx = 0;\n            let cache = r.value;\n            rlen += r.value.length;\n\n            const version = cache[0];\n            const id = cache.slice(1, 1 + 16);\n            const uuid = parse_uuid_xhttp(uuid_str);\n            if (!validate_uuid_xhttp(id, uuid)) {\n                return `invalid UUID`;\n            }\n            const pb_len = cache[1 + 16];\n            const addr_plus1 = 1 + 16 + 1 + pb_len + 1 + 2 + 1;\n\n            if (addr_plus1 + 1 > rlen) {\n                if (r.done) {\n                    return `header too short`;\n                }\n                idx = addr_plus1 + 1 - rlen;\n                r = await reader.readAtLeast(idx, get_xhttp_buffer());\n                rlen += r.value.length;\n                cache = concat_typed_arrays(cache, r.value);\n            }\n\n            const cmd = cache[1 + 16 + 1 + pb_len];\n            if (cmd !== 1) {\n                return `unsupported command: ${cmd}`;\n            }\n            const port = (cache[addr_plus1 - 1 - 2] << 8) + cache[addr_plus1 - 1 - 1];\n            const atype = cache[addr_plus1 - 1];\n            let header_len = -1;\n            if (atype === ADDRESS_TYPE_IPV4) {\n                header_len = addr_plus1 + 4;\n            } else if (atype === ADDRESS_TYPE_IPV6) {\n                header_len = addr_plus1 + 16;\n            } else if (atype === ADDRESS_TYPE_URL) {\n                header_len = addr_plus1 + 1 + cache[addr_plus1];\n            }\n\n            if (header_len < 0) {\n                return 'read address type failed';\n            }\n\n            idx = header_len - rlen;\n            if (idx > 0) {\n                if (r.done) {\n                    return `read address failed`;\n                }\n                r = await reader.readAtLeast(idx, get_xhttp_buffer());\n                rlen += r.value.length;\n                cache = concat_typed_arrays(cache, r.value);\n            }\n\n            let hostname = '';\n            idx = addr_plus1;\n            switch (atype) {\n                case ADDRESS_TYPE_IPV4:\n                    hostname = cache.slice(idx, idx + 4).join('.');\n                    break;\n                case ADDRESS_TYPE_URL:\n                    hostname = new TextDecoder().decode(\n                        cache.slice(idx + 1, idx + 1 + cache[idx]),\n                    );\n                    break;\n                case ADDRESS_TYPE_IPV6:\n                    hostname = cache\n                        .slice(idx, idx + 16)\n                        .reduce(\n                            (s, b2, i2, a) =>\n                                i2 % 2\n                                    ? s.concat(((a[i2 - 1] << 8) + b2).toString(16))\n                                    : s,\n                            [],\n                        )\n                        .join(':');\n                    break;\n            }\n\n            if (hostname.length < 1) {\n                return 'failed to parse hostname';\n            }\n\n            const data = cache.slice(header_len);\n            return {\n                hostname,\n                port,\n                data,\n                resp: new Uint8Array([version, 0]),\n                reader,\n                done: r.done,\n            };\n        } catch (error) {\n            try { reader.releaseLock(); } catch (_) {}\n            throw error;\n        }\n    }\n\n    async function upload_to_remote_xhttp(counter, writer, httpx) {\n        async function inner_upload(d) {\n            if (!d || d.length === 0) {\n                return;\n            }\n            counter.add(d.length);\n            try {\n                await writer.write(d);\n            } catch (error) {\n                throw error;\n            }\n        }\n\n        try {\n            await inner_upload(httpx.data);\n            let chunkCount = 0;\n            while (!httpx.done) {\n                const r = await httpx.reader.read(get_xhttp_buffer());\n                if (r.done) break;\n                await inner_upload(r.value);\n                httpx.done = r.done;\n                chunkCount++;\n                if (chunkCount % 10 === 0) {\n                    await xhttp_sleep(0);\n                }\n                if (!r.value || r.value.length === 0) {\n                    await xhttp_sleep(2);\n                }\n            }\n        } catch (error) {\n            throw error;\n        }\n    }\n\n    function create_xhttp_uploader(httpx, writable) {\n        const counter = new XhttpCounter();\n        const writer = writable.getWriter();\n\n        const done = (async () => {\n            try {\n                await upload_to_remote_xhttp(counter, writer, httpx);\n            } catch (error) {\n                throw error;\n            } finally {\n                try {\n                    await writer.close();\n                } catch (error) {\n\n                }\n            }\n        })();\n\n        return {\n            counter,\n            done,\n            abort: () => {\n                try { writer.abort(); } catch (_) {}\n            }\n        };\n    }\n\n    function create_xhttp_downloader(resp, remote_readable) {\n        const counter = new XhttpCounter();\n        let stream;\n\n        const done = new Promise((resolve, reject) => {\n            stream = new TransformStream(\n                {\n                    start(controller) {\n                        counter.add(resp.length);\n                        controller.enqueue(resp);\n                    },\n                    transform(chunk, controller) {\n                        counter.add(chunk.length);\n                        controller.enqueue(chunk);\n                    },\n                    cancel(reason) {\n                        reject(`download cancelled: ${reason}`);\n                    },\n                },\n                null,\n                new ByteLengthQueuingStrategy({ highWaterMark: XHTTP_BUFFER_SIZE }),\n            );\n\n            let lastActivity = Date.now();\n            const idleTimer = setInterval(() => {\n                if (Date.now() - lastActivity > IDLE_TIMEOUT_MS) {\n                    try {\n                        stream.writable.abort?.('idle timeout');\n                    } catch (_) {}\n                    clearInterval(idleTimer);\n                    reject('idle timeout');\n                }\n            }, 5000);\n\n            const reader = remote_readable.getReader();\n            const writer = stream.writable.getWriter();\n\n            ;(async () => {\n                try {\n                    let chunkCount = 0;\n                    while (true) {\n                        const r = await reader.read();\n                        if (r.done) {\n                            break;\n                        }\n                        lastActivity = Date.now();\n                        await writer.write(r.value);\n                        chunkCount++;\n                        if (chunkCount % 5 === 0) {\n                            await xhttp_sleep(0);\n                        }\n                    }\n                    await writer.close();\n                    resolve();\n                } catch (err) {\n                    reject(err);\n                } finally {\n                    try {\n                        reader.releaseLock();\n                    } catch (_) {}\n                    try {\n                        writer.releaseLock();\n                    } catch (_) {}\n                    clearInterval(idleTimer);\n                }\n            })();\n        });\n\n        return {\n            readable: stream.readable,\n            counter,\n            done,\n            abort: () => {\n                try { stream.readable.cancel(); } catch (_) {}\n                try { stream.writable.abort(); } catch (_) {}\n            }\n        };\n    }\n\n    async function connect_to_remote_xhttp(httpx, ...remotes) {\n        let attempt = 0;\n        let lastErr;\n\n        const connectionList = [httpx.hostname, ...remotes.filter(r => r && r !== httpx.hostname)];\n\n        for (const hostname of connectionList) {\n            if (!hostname) continue;\n\n            attempt = 0;\n            while (attempt < MAX_RETRIES) {\n                attempt++;\n                try {\n                    const remote = connect({ hostname, port: httpx.port });\n                    const timeoutPromise = xhttp_sleep(CONNECT_TIMEOUT_MS).then(() => {\n                        throw new Error(atob('Y29ubmVjdCB0aW1lb3V0'));\n                    });\n\n                    await Promise.race([remote.opened, timeoutPromise]);\n\n                    const uploader = create_xhttp_uploader(httpx, remote.writable);\n                    const downloader = create_xhttp_downloader(httpx.resp, remote.readable);\n\n                    return {\n                        downloader,\n                        uploader,\n                        close: () => {\n                            try { remote.close(); } catch (_) {}\n                        }\n                    };\n                } catch (err) {\n                    lastErr = err;\n                    if (attempt < MAX_RETRIES) {\n                        await xhttp_sleep(500 * attempt);\n                    }\n                }\n            }\n        }\n\n        return null;\n    }\n\n    async function handle_xhttp_client(body, uuid) {\n        if (ACTIVE_CONNECTIONS >= MAX_CONCURRENT) {\n            return new Response('Too many connections', { status: 429 });\n        }\n\n        ACTIVE_CONNECTIONS++;\n\n        let cleaned = false;\n        const cleanup = () => {\n            if (!cleaned) {\n                ACTIVE_CONNECTIONS = Math.max(0, ACTIVE_CONNECTIONS - 1);\n                cleaned = true;\n            }\n        };\n\n        try {\n            const httpx = await read_xhttp_header(body, uuid);\n            if (typeof httpx !== 'object' || !httpx) {\n                return null;\n            }\n\n            const remoteConnection = await connect_to_remote_xhttp(httpx, fallbackAddress, '13.230.34.30');\n            if (remoteConnection === null) {\n                return null;\n            }\n\n            const connectionClosed = Promise.race([\n                (async () => {\n                    try {\n                        await remoteConnection.downloader.done;\n                    } catch (err) {\n\n                    }\n                })(),\n                (async () => {\n                    try {\n                        await remoteConnection.uploader.done;\n                    } catch (err) {\n\n                    }\n                })(),\n                xhttp_sleep(IDLE_TIMEOUT_MS).then(() => {\n\n                })\n            ]).finally(() => {\n                try { remoteConnection.close(); } catch (_) {}\n                try { remoteConnection.downloader.abort(); } catch (_) {}\n                try { remoteConnection.uploader.abort(); } catch (_) {}\n\n                cleanup();\n            });\n\n            return {\n                readable: remoteConnection.downloader.readable,\n                closed: connectionClosed\n            };\n        } catch (error) {\n            cleanup();\n            return null;\n        }\n    }\n\n    async function handleXhttpPost(request) {\n        try {\n            return await handle_xhttp_client(request.body, at);\n        } catch (err) {\n            return null;\n        }\n    }\n\n    function base64ToArray(b64Str) {\n        if (!b64Str) return { error: null };\n        try { b64Str = b64Str.replace(/-/g, '+').replace(/_/g, '/'); return { earlyData: Uint8Array.from(atob(b64Str), (c) => c.charCodeAt(0)).buffer, error: null }; }\n        catch (error) { return { error }; }\n    }\n\n    function closeSocketQuietly(socket) { try { if (socket.readyState === 1 || socket.readyState === 2) socket.close(); } catch (error) {} }\n\n    const hexTable = Array.from({ length: 256 }, (v, i) => (i + 256).toString(16).slice(1));\n    function formatIdentifier(arr, offset = 0) {\n        const id = (hexTable[arr[offset]]+hexTable[arr[offset+1]]+hexTable[arr[offset+2]]+hexTable[arr[offset+3]]+\"-\"+hexTable[arr[offset+4]]+hexTable[arr[offset+5]]+\"-\"+hexTable[arr[offset+6]]+hexTable[arr[offset+7]]+\"-\"+hexTable[arr[offset+8]]+hexTable[arr[offset+9]]+\"-\"+hexTable[arr[offset+10]]+hexTable[arr[offset+11]]+hexTable[arr[offset+12]]+hexTable[arr[offset+13]]+hexTable[arr[offset+14]]+hexTable[arr[offset+15]]).toLowerCase();\n        if (!isValidFormat(id)) throw new TypeError(E_INVALID_ID_STR);\n        return id;\n    }\n\n    async function fetchAndParseNewIPs() {\n        const url = piu || \"https://raw.githubusercontent.com/qwer-search/bestip/refs/heads/main/kejilandbestip.txt\";\n        try {\n            const urls = url.includes(',') ? url.split(',').map(u => u.trim()).filter(u => u) : [url];\n            const apiResults = await fetchPreferredAPI(urls, '443', 5000);\n\n            if (apiResults.length > 0) {\n                const results = [];\n                const regex = /^(\\[[\\da-fA-F:]+\\]|[\\d.]+|[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?)*)(?::(\\d+))?(?:#(.+))?$/;\n\n                for (const item of apiResults) {\n                    const match = item.match(regex);\n                    if (match) {\n                        results.push({\n                            ip: match[1],\n                            port: parseInt(match[2] || '443', 10),\n                            name: match[3]?.trim() || match[1]\n                        });\n                    }\n                }\n                return results;\n            }\n\n            const response = await fetch(url);\n            if (!response.ok) return [];\n            const text = await response.text();\n            const results = [];\n            const lines = text.trim().replace(/\\r/g, \"\").split('\\n');\n            const simpleRegex = /^([^:]+):(\\d+)#(.*)$/;\n\n            for (const line of lines) {\n                const trimmedLine = line.trim();\n                if (!trimmedLine) continue;\n                const match = trimmedLine.match(simpleRegex);\n                if (match) {\n                    results.push({\n                        ip: match[1],\n                        port: parseInt(match[2], 10),\n                        name: match[3].trim() || match[1]\n                    });\n                }\n            }\n            return results;\n        } catch (error) {\n            return [];\n        }\n    }\n\n    function generateLinksFromNewIPs(list, user, workerDomain, echConfig = null) {\n\n        const CF_HTTP_PORTS = [80, 8080, 8880, 2052, 2082, 2086, 2095];\n        const CF_HTTPS_PORTS = [443, 2053, 2083, 2087, 2096, 8443];\n\n        const links = [];\n        const wsPath = '/?ed=2048';\n        const proto = atob('dmxlc3M=');\n\n        list.forEach(item => {\n            const nodeName = item.name.replace(/\\s/g, '_');\n            const port = item.port;\n\n            if (CF_HTTPS_PORTS.includes(port)) {\n\n                const wsNodeName = `${nodeName}-${port}-WS-TLS`;\n                let link = `${proto}://${user}@${item.ip}:${port}?encryption=none&security=tls&sni=${workerDomain}&fp=${enableECH ? 'chrome' : 'randomized'}&type=ws&host=${workerDomain}&path=${wsPath}`;\n\n                // If ECH is enabled, add ech parameter (ECH requires masquerading as Chrome browser)\n                if (enableECH) {\n                    const dnsServer = customDNS || 'https://dns.joeyblog.eu.org/joeyblog';\n                    const echDomain = customECHDomain || 'cloudflare-ech.com';\n                    link += `&alpn=h3%2Ch2%2Chttp%2F1.1&ech=${encodeURIComponent(`${echDomain}+${dnsServer}`)}`;\n                }\n\n                link += `#${encodeURIComponent(wsNodeName)}`;\n                links.push(link);\n            } else if (CF_HTTP_PORTS.includes(port)) {\n\n                if (!disableNonTLS) {\n                    const wsNodeName = `${nodeName}-${port}-WS`;\n                    const link = `${proto}://${user}@${item.ip}:${port}?encryption=none&security=none&type=ws&host=${workerDomain}&path=${wsPath}#${encodeURIComponent(wsNodeName)}`;\n                    links.push(link);\n                }\n            } else {\n\n                const wsNodeName = `${nodeName}-${port}-WS-TLS`;\n                let link = `${proto}://${user}@${item.ip}:${port}?encryption=none&security=tls&sni=${workerDomain}&fp=${enableECH ? 'chrome' : 'randomized'}&type=ws&host=${workerDomain}&path=${wsPath}`;\n\n                // If ECH is enabled, add ech parameter (ECH requires masquerading as Chrome browser)\n                if (enableECH) {\n                    const dnsServer = customDNS || 'https://dns.joeyblog.eu.org/joeyblog';\n                    const echDomain = customECHDomain || 'cloudflare-ech.com';\n                    link += `&alpn=h3%2Ch2%2Chttp%2F1.1&ech=${encodeURIComponent(`${echDomain}+${dnsServer}`)}`;\n                }\n\n                link += `#${encodeURIComponent(wsNodeName)}`;\n                links.push(link);\n            }\n        });\n        return links;\n    }\n\n    function generateXhttpLinksFromSource(list, user, workerDomain, echConfig = null) {\n        const links = [];\n        const nodePath = user.substring(0, 8);\n\n        list.forEach(item => {\n            let nodeNameBase = item.isp.replace(/\\s/g, '_');\n            if (item.colo && item.colo.trim()) {\n                nodeNameBase = `${nodeNameBase}-${item.colo.trim()}`;\n            }\n            const safeIP = item.ip.includes(':') ? `[${item.ip}]` : item.ip;\n            const port = item.port || 443;\n\n            const wsNodeName = `${nodeNameBase}-${port}-xhttp`;\n            const params = new URLSearchParams({\n                encryption: 'none',\n                security: 'tls',\n                sni: workerDomain,\n                fp: 'chrome',\n                type: 'xhttp',\n                host: workerDomain,\n                path: `/${nodePath}`,\n                mode: 'stream-one'\n            });\n\n            // If ECH is enabled, add ech parameter (ECH requires masquerading as Chrome browser)\n            if (enableECH) {\n                const dnsServer = customDNS || 'https://dns.joeyblog.eu.org/joeyblog';\n                const echDomain = customECHDomain || 'cloudflare-ech.com';\n                params.set('alpn', 'h3,h2,http/1.1');\n                params.set('ech', `${echDomain}+${dnsServer}`);\n            }\n\n            links.push(`vless://${user}@${safeIP}:${port}?${params.toString()}#${encodeURIComponent(wsNodeName)}`);\n        });\n\n        return links;\n    }\n\n    async function generateTrojanLinksFromNewIPs(list, user, workerDomain, echConfig = null) {\n\n        const CF_HTTP_PORTS = [80, 8080, 8880, 2052, 2082, 2086, 2095];\n        const CF_HTTPS_PORTS = [443, 2053, 2083, 2087, 2096, 8443];\n\n        const links = [];\n        const wsPath = '/?ed=2048';\n\n        const password = tp || user;\n\n        list.forEach(item => {\n            const nodeName = item.name.replace(/\\s/g, '_');\n            const port = item.port;\n\n            if (CF_HTTPS_PORTS.includes(port)) {\n\n                const wsNodeName = `${nodeName}-${port}-${atob('VHJvamFu')}-WS-TLS`;\n                let link = `${atob('dHJvamFuOi8v')}${password}@${item.ip}:${port}?security=tls&sni=${workerDomain}&fp=chrome&type=ws&host=${workerDomain}&path=${wsPath}`;\n\n                // If ECH is enabled, add ech parameter (ECH requires masquerading as Chrome browser)\n                if (enableECH) {\n                    const dnsServer = customDNS || 'https://dns.joeyblog.eu.org/joeyblog';\n                    const echDomain = customECHDomain || 'cloudflare-ech.com';\n                    link += `&alpn=h3%2Ch2%2Chttp%2F1.1&ech=${encodeURIComponent(`${echDomain}+${dnsServer}`)}`;\n                }\n\n                link += `#${encodeURIComponent(wsNodeName)}`;\n                links.push(link);\n            } else if (CF_HTTP_PORTS.includes(port)) {\n\n                if (!disableNonTLS) {\n                    const wsNodeName = `${nodeName}-${port}-${atob('VHJvamFu')}-WS`;\n                    const link = `${atob('dHJvamFuOi8v')}${password}@${item.ip}:${port}?security=none&type=ws&host=${workerDomain}&path=${wsPath}#${encodeURIComponent(wsNodeName)}`;\n                    links.push(link);\n                }\n            } else {\n\n                const wsNodeName = `${nodeName}-${port}-${atob('VHJvamFu')}-WS-TLS`;\n                let link = `${atob('dHJvamFuOi8v')}${password}@${item.ip}:${port}?security=tls&sni=${workerDomain}&fp=chrome&type=ws&host=${workerDomain}&path=${wsPath}`;\n\n                // If ECH is enabled, add ech parameter (ECH requires masquerading as Chrome browser)\n                if (enableECH) {\n                    const dnsServer = customDNS || 'https://dns.joeyblog.eu.org/joeyblog';\n                    const echDomain = customECHDomain || 'cloudflare-ech.com';\n                    link += `&alpn=h3%2Ch2%2Chttp%2F1.1&ech=${encodeURIComponent(`${echDomain}+${dnsServer}`)}`;\n                }\n\n                link += `#${encodeURIComponent(wsNodeName)}`;\n                links.push(link);\n            }\n        });\n        return links;\n    }\n\n    async function handleConfigAPI(request) {\n        if (request.method === 'GET') {\n\n            if (!kvStore) {\n                return new Response(JSON.stringify({\n                    error: 'KV Storage Not Configured',\n                    kvEnabled: false\n                }), {\n                    status: 503,\n                    headers: { 'Content-Type': 'application/json' }\n                });\n            }\n\n            return new Response(JSON.stringify({\n                ...kvConfig,\n                kvEnabled: true\n            }), {\n                headers: { 'Content-Type': 'application/json' }\n            });\n        } else if (request.method === 'POST') {\n\n            if (!kvStore) {\n                return new Response(JSON.stringify({\n                    success: false,\n                    message: 'KV\u5B58\u50A8\u672A\u914D\u7F6E\uFF0C\u65E0\u6CD5\u4FDD\u5B58\u914D\u7F6E'\n                }), {\n                    status: 503,\n                    headers: { 'Content-Type': 'application/json' }\n                });\n            }\n\n            try {\n                const newConfig = await request.json();\n\n                for (const [key, value] of Object.entries(newConfig)) {\n                    if (value === '' || value === null || value === undefined) {\n                        delete kvConfig[key];\n                    } else {\n                        kvConfig[key] = value;\n                    }\n                }\n\n                await saveKVConfig();\n\n                updateConfigVariables();\n\n                if (newConfig.yx !== undefined) {\n                    updateCustomPreferredFromYx();\n                }\n\n                const newPreferredIPsURL = getConfigValue('yxURL', '') || 'https://raw.githubusercontent.com/qwer-search/bestip/refs/heads/main/kejilandbestip.txt';\n                const defaultURL = 'https://raw.githubusercontent.com/qwer-search/bestip/refs/heads/main/kejilandbestip.txt';\n                if (newPreferredIPsURL !== defaultURL) {\n                    directDomains.length = 0;\n                    customPreferredIPs = [];\n                    customPreferredDomains = [];\n                } else {\n                    backupIPs = [\n                        { domain: 'ProxyIP.US.CMLiussss.net', region: 'US', regionCode: 'US', port: 443 },\n                        { domain: 'ProxyIP.SG.CMLiussss.net', region: 'SG', regionCode: 'SG', port: 443 },\n                        { domain: 'ProxyIP.JP.CMLiussss.net', region: 'JP', regionCode: 'JP', port: 443 },\n                        { domain: 'ProxyIP.KR.CMLiussss.net', region: 'KR', regionCode: 'KR', port: 443 },\n                        { domain: 'ProxyIP.DE.CMLiussss.net', region: 'DE', regionCode: 'DE', port: 443 },\n                        { domain: 'ProxyIP.SE.CMLiussss.net', region: 'SE', regionCode: 'SE', port: 443 },\n                        { domain: 'ProxyIP.NL.CMLiussss.net', region: 'NL', regionCode: 'NL', port: 443 },\n                        { domain: 'ProxyIP.FI.CMLiussss.net', region: 'FI', regionCode: 'FI', port: 443 },\n                        { domain: 'ProxyIP.GB.CMLiussss.net', region: 'GB', regionCode: 'GB', port: 443 },\n                        { domain: 'ProxyIP.IN.CMLiussss.net', region: 'IN', regionCode: 'IN', port: 443 },\n                        { domain: 'ProxyIP.BR.CMLiussss.net', region: 'BR', regionCode: 'BR', port: 443 },\n                        { domain: 'ProxyIP.PL.CMLiussss.net', region: 'PL', regionCode: 'PL', port: 443 },\n                        { domain: 'ProxyIP.RU.CMLiussss.net', region: 'RU', regionCode: 'RU', port: 443 },\n                        { domain: 'ProxyIP.LV.CMLiussss.net', region: 'LV', regionCode: 'LV', port: 443 },\n                        { domain: 'ProxyIP.IR.CMLiussss.net', region: 'IR', regionCode: 'IR', port: 443 },\n                        { domain: 'ProxyIP.Oracle.cmliussss.net', region: 'Oracle', regionCode: 'Oracle', port: 443 },\n                        { domain: 'ProxyIP.DigitalOcean.CMLiussss.net', region: 'DigitalOcean', regionCode: 'DigitalOcean', port: 443 },\n                        { domain: 'ProxyIP.Vultr.CMLiussss.net', region: 'Vultr', regionCode: 'Vultr', port: 443 },\n                        { domain: 'ProxyIP.Multacom.CMLiussss.net', region: 'Multacom', regionCode: 'Multacom', port: 443 }\n                    ];\n                    directDomains.length = 0;\n                    directDomains.push(\n                        { name: \"cloudflare.182682.xyz\", domain: \"cloudflare.182682.xyz\" },\n                        { name: \"speed.marisalnc.com\", domain: \"speed.marisalnc.com\" },\n                        { domain: \"freeyx.cloudflare88.eu.org\" },\n                        { domain: \"bestcf.top\" },\n                        { domain: \"cdn.2020111.xyz\" },\n                        { domain: \"cfip.cfcdn.vip\" },\n                        { domain: \"cf.0sm.com\" },\n                        { domain: \"cf.090227.xyz\" },\n                        { domain: \"cf.zhetengsha.eu.org\" },\n                        { domain: \"cloudflare.9jy.cc\" },\n                        { domain: \"cf.zerone-cdn.pp.ua\" },\n                        { domain: \"cfip.1323123.xyz\" },\n                        { domain: \"cnamefuckxxs.yuchen.icu\" },\n                        { domain: \"cloudflare-ip.mofashi.ltd\" },\n                        { domain: \"115155.xyz\" },\n                        { domain: \"cname.xirancdn.us\" },\n                        { domain: \"f3058171cad.002404.xyz\" },\n                        { domain: \"8.889288.xyz\" },\n                        { domain: \"cdn.tzpro.xyz\" },\n                        { domain: \"cf.877771.xyz\" },\n                        { domain: \"xn--b6gac.eu.org\" }\n                    );\n                }\n\n                return new Response(JSON.stringify({\n                    success: true,\n                    message: '\u914D\u7F6E\u5DF2\u4FDD\u5B58',\n                    config: kvConfig\n                }), {\n                    headers: { 'Content-Type': 'application/json' }\n                });\n            } catch (error) {\n\n                return new Response(JSON.stringify({\n                    success: false,\n                    message: '\u4FDD\u5B58\u914D\u7F6E\u5931\u8D25: ' + error.message\n                }), {\n                    status: 500,\n                    headers: { 'Content-Type': 'application/json' }\n                });\n            }\n        }\n\n        return new Response(JSON.stringify({ error: 'Method not allowed' }), {\n            status: 405,\n            headers: { 'Content-Type': 'application/json' }\n        });\n    }\n\n    async function handlePreferredIPsAPI(request) {\n\n        if (!kvStore) {\n            return new Response(JSON.stringify({\n                success: false,\n                error: 'KV Storage Not Configured',\n                message: 'Requires KV storage configuration'\n            }), {\n                status: 503,\n                headers: { 'Content-Type': 'application/json' }\n            });\n        }\n\n        const ae = getConfigValue('ae', '') === 'yes';\n        if (!ae) {\n            return new Response(JSON.stringify({\n                success: false,\n                error: 'API Disabled',\n                message: 'API disabled for security. Enable \"Allow API Management\" in settings.'\n            }), {\n                status: 403,\n                headers: { 'Content-Type': 'application/json' }\n            });\n        }\n\n        try {\n            if (request.method === 'GET') {\n\n                const yxValue = getConfigValue('yx', '');\n                const pi = parseYxToArray(yxValue);\n\n                return new Response(JSON.stringify({\n                    success: true,\n                    count: pi.length,\n                    data: pi\n                }), {\n                    headers: { 'Content-Type': 'application/json' }\n                });\n\n            } else if (request.method === 'POST') {\n\n                const body = await request.json();\n\n                const ipsToAdd = Array.isArray(body) ? body : [body];\n\n                if (ipsToAdd.length === 0) {\n                    return new Response(JSON.stringify({\n                        success: false,\n                        error: 'Request Body Empty',\n                        message: 'Please provide IP data'\n                    }), {\n                        status: 400,\n                        headers: { 'Content-Type': 'application/json' }\n                    });\n                }\n\n                const yxValue = getConfigValue('yx', '');\n                let pi = parseYxToArray(yxValue);\n\n                const addedIPs = [];\n                const skippedIPs = [];\n                const errors = [];\n\n                for (const item of ipsToAdd) {\n\n                    if (!item.ip) {\n                        errors.push({ ip: 'Unknown', reason: 'IP address is required' });\n                        continue;\n                    }\n\n                    const port = item.port || 443;\n                    const name = item.name || `API\u4F18\u9009-${item.ip}:${port}`;\n\n                    if (!isValidIP(item.ip) && !isValidDomain(item.ip)) {\n                        errors.push({ ip: item.ip, reason: 'Invalid IP or domain format' });\n                        continue;\n                    }\n\n                    const exists = pi.some(existItem =>\n                        existItem.ip === item.ip && existItem.port === port\n                    );\n\n                    if (exists) {\n                        skippedIPs.push({ ip: item.ip, port: port, reason: 'Already exists' });\n                        continue;\n                    }\n\n                    const newIP = {\n                        ip: item.ip,\n                        port: port,\n                        name: name,\n                        addedAt: new Date().toISOString()\n                    };\n\n                    pi.push(newIP);\n                    addedIPs.push(newIP);\n                }\n\n                if (addedIPs.length > 0) {\n                    const newYxValue = arrayToYx(pi);\n                    await setConfigValue('yx', newYxValue);\n                    updateCustomPreferredFromYx();\n                }\n\n                return new Response(JSON.stringify({\n                    success: addedIPs.length > 0,\n                    message: `Successfully added ${addedIPs.length} IPs`,\n                    added: addedIPs.length,\n                    skipped: skippedIPs.length,\n                    errors: errors.length,\n                    data: {\n                        addedIPs: addedIPs,\n                        skippedIPs: skippedIPs.length > 0 ? skippedIPs : undefined,\n                        errors: errors.length > 0 ? errors : undefined\n                    }\n                }), {\n                    headers: { 'Content-Type': 'application/json' }\n                });\n\n            } else if (request.method === 'DELETE') {\n\n                const body = await request.json();\n\n                if (body.all === true) {\n\n                    const yxValue = getConfigValue('yx', '');\n                    const pi = parseYxToArray(yxValue);\n                    const deletedCount = pi.length;\n\n                    await setConfigValue('yx', '');\n                    updateCustomPreferredFromYx();\n\n                    return new Response(JSON.stringify({\n                        success: true,\n                        message: `All preferred IPs cleared, deleted ${deletedCount}`,\n                        deletedCount: deletedCount\n                    }), {\n                        headers: { 'Content-Type': 'application/json' }\n                    });\n                }\n\n                if (!body.ip) {\n                    return new Response(JSON.stringify({\n                        success: false,\n                        error: 'IP address is required',\n                        message: 'Provide ip field to delete, or use {\"all\": true} to clear all'\n                    }), {\n                        status: 400,\n                        headers: { 'Content-Type': 'application/json' }\n                    });\n                }\n\n                const port = body.port || 443;\n\n                const yxValue = getConfigValue('yx', '');\n                let pi = parseYxToArray(yxValue);\n                const initialLength = pi.length;\n\n                const filteredIPs = pi.filter(item =>\n                    !(item.ip === body.ip && item.port === port)\n                );\n\n                if (filteredIPs.length === initialLength) {\n                    return new Response(JSON.stringify({\n                        success: false,\n                        error: 'Preferred IP Not Found',\n                        message: `${body.ip}:${port} not found`\n                    }), {\n                        status: 404,\n                        headers: { 'Content-Type': 'application/json' }\n                    });\n                }\n\n                const newYxValue = arrayToYx(filteredIPs);\n                await setConfigValue('yx', newYxValue);\n                updateCustomPreferredFromYx();\n\n                return new Response(JSON.stringify({\n                    success: true,\n                    message: 'Preferred IP Deleted',\n                    deleted: { ip: body.ip, port: port }\n                }), {\n                    headers: { 'Content-Type': 'application/json' }\n                });\n\n            } else {\n                return new Response(JSON.stringify({\n                    success: false,\n                    error: 'Method Not Allowed',\n                    message: 'Supported methods: GET, POST, DELETE'\n                }), {\n                    status: 405,\n                    headers: { 'Content-Type': 'application/json' }\n                });\n            }\n        } catch (error) {\n            return new Response(JSON.stringify({\n                success: false,\n                error: 'Processing Failed',\n                message: error.message\n            }), {\n                status: 500,\n                headers: { 'Content-Type': 'application/json' }\n            });\n        }\n    }\n\n    function updateConfigVariables() {\n        const manualRegion = getConfigValue('wk', '');\n        if (manualRegion && manualRegion.trim()) {\n            manualWorkerRegion = manualRegion.trim().toUpperCase();\n            currentWorkerRegion = manualWorkerRegion;\n        } else {\n            const ci = getConfigValue('p', '');\n            if (ci && ci.trim()) {\n                currentWorkerRegion = 'CUSTOM';\n            } else {\n                manualWorkerRegion = '';\n            }\n        }\n\n        const regionMatchingControl = getConfigValue('rm', '');\n        if (regionMatchingControl && regionMatchingControl.toLowerCase() === 'no') {\n            enableRegionMatching = false;\n        } else {\n            enableRegionMatching = true;\n        }\n\n        const vlessControl = getConfigValue('ev', '');\n        if (vlessControl !== undefined && vlessControl !== '') {\n            ev = vlessControl === 'yes' || vlessControl === true || vlessControl === 'true';\n        }\n\n        const tjControl = getConfigValue('et', '');\n        if (tjControl !== undefined && tjControl !== '') {\n            et = tjControl === 'yes' || tjControl === true || tjControl === 'true';\n        }\n\n        tp = getConfigValue('tp', '') || '';\n\n        const xhttpControl = getConfigValue('ex', '');\n        if (xhttpControl !== undefined && xhttpControl !== '') {\n            ex = xhttpControl === 'yes' || xhttpControl === true || xhttpControl === 'true';\n        }\n\n        const vmessControl = getConfigValue('evm', '');\n        if (vmessControl !== undefined && vmessControl !== '') {\n            evm = vmessControl === 'yes' || vmessControl === true || vmessControl === 'true';\n        }\n\n        const ssControl = getConfigValue('ess', '');\n        if (ssControl !== undefined && ssControl !== '') {\n            ess = ssControl === 'yes' || ssControl === true || ssControl === 'true';\n        }\n\n        const tuicControl = getConfigValue('etu', '');\n        if (tuicControl !== undefined && tuicControl !== '') {\n            etu = tuicControl === 'yes' || tuicControl === true || tuicControl === 'true';\n        }\n\n        const hyControl = getConfigValue('ehy', '');\n        if (hyControl !== undefined && hyControl !== '') {\n            ehy = hyControl === 'yes' || hyControl === true || hyControl === 'true';\n        }\n\n        const grpcControl = getConfigValue('eg', '');\n        if (grpcControl !== undefined && grpcControl !== '') {\n            eg = grpcControl === 'yes' || grpcControl === true || grpcControl === 'true';\n        }\n\n        if (!ev && !et && !ex && !evm && !ess && !etu && !ehy && !eg) {\n            ev = true;\n        }\n\n        scu = getConfigValue('scu', '') || 'https://url.v1.mk/sub';\n\n        const preferredDomainsControl = getConfigValue('epd', 'no');\n        if (preferredDomainsControl !== undefined && preferredDomainsControl !== '') {\n            epd = preferredDomainsControl !== 'no' && preferredDomainsControl !== false && preferredDomainsControl !== 'false';\n        }\n\n        const preferredIPsControl = getConfigValue('epi', '');\n        if (preferredIPsControl !== undefined && preferredIPsControl !== '') {\n            epi = preferredIPsControl !== 'no' && preferredIPsControl !== false && preferredIPsControl !== 'false';\n        }\n\n        const githubIPsControl = getConfigValue('egi', '');\n        if (githubIPsControl !== undefined && githubIPsControl !== '') {\n            egi = githubIPsControl !== 'no' && githubIPsControl !== false && githubIPsControl !== 'false';\n        }\n\n        const echControl = getConfigValue('ech', '');\n        if (echControl !== undefined && echControl !== '') {\n            enableECH = echControl === 'yes' || echControl === true || echControl === 'true';\n        }\n\n        // Update custom DNS and ECH domain\n        const customDNSValue = getConfigValue('customDNS', '');\n        if (customDNSValue && customDNSValue.trim()) {\n            customDNS = customDNSValue.trim();\n        } else {\n            customDNS = 'https://dns.joeyblog.eu.org/joeyblog';\n        }\n\n        const customECHDomainValue = getConfigValue('customECHDomain', '');\n        if (customECHDomainValue && customECHDomainValue.trim()) {\n            customECHDomain = customECHDomainValue.trim();\n        } else {\n            customECHDomain = 'cloudflare-ech.com';\n        }\n\n        // If ECH is enabled, automatically enable TLS-only mode (avoid port 80 interference)\n        // ECH requires TLS to work, so non-TLS nodes must be disabled\n        if (enableECH) {\n            disableNonTLS = true;\n        }\n\n        // Check dkby config (if manually set dkby=yes, also enable TLS-only)\n        const dkbyControl = getConfigValue('dkby', '');\n        if (dkbyControl && dkbyControl.toLowerCase() === 'yes') {\n            disableNonTLS = true;\n        }\n\n        cp = getConfigValue('d', '') || '';\n\n        piu = getConfigValue('yxURL', '') || 'https://raw.githubusercontent.com/qwer-search/bestip/refs/heads/main/kejilandbestip.txt';\n\n        const envFallback = getConfigValue('p', '');\n        if (envFallback) {\n            fallbackAddress = envFallback.trim();\n        } else {\n            fallbackAddress = '';\n        }\n\n        socks5Config = getConfigValue('s', '') || '';\n        if (socks5Config) {\n            try {\n                parsedSocks5Config = parseSocksConfig(socks5Config);\n                isSocksEnabled = true;\n            } catch (err) {\n                isSocksEnabled = false;\n            }\n        } else {\n            isSocksEnabled = false;\n        }\n\n        const yxbyControl = getConfigValue('yxby', '');\n        if (yxbyControl && yxbyControl.toLowerCase() === 'yes') {\n            disablePreferred = true;\n        } else {\n            disablePreferred = false;\n        }\n\n        const defaultURL = 'https://raw.githubusercontent.com/qwer-search/bestip/refs/heads/main/kejilandbestip.txt';\n        if (piu !== defaultURL) {\n            directDomains.length = 0;\n            customPreferredIPs = [];\n            customPreferredDomains = [];\n        }\n    }\n\n    function updateCustomPreferredFromYx() {\n        const yxValue = getConfigValue('yx', '');\n        if (yxValue) {\n            try {\n                const preferredList = yxValue.split(',').map(item => item.trim()).filter(item => item);\n                customPreferredIPs = [];\n                customPreferredDomains = [];\n\n                preferredList.forEach(item => {\n                    let nodeName = '';\n                    let addressPart = item;\n\n                    if (item.includes('#')) {\n                        const parts = item.split('#');\n                        addressPart = parts[0].trim();\n                        nodeName = parts[1].trim();\n                    }\n\n                    const { address, port } = parseAddressAndPort(addressPart);\n\n                    if (!nodeName) {\n                        nodeName = 'CustomPreferred-' + address + (port ? ':' + port : '');\n                    }\n\n                    if (isValidIP(address)) {\n                        customPreferredIPs.push({\n                            ip: address,\n                            port: port,\n                            isp: nodeName\n                        });\n                    } else {\n                        customPreferredDomains.push({\n                            domain: address,\n                            port: port,\n                            name: nodeName\n                        });\n                    }\n                });\n            } catch (err) {\n                customPreferredIPs = [];\n                customPreferredDomains = [];\n            }\n        } else {\n            customPreferredIPs = [];\n            customPreferredDomains = [];\n        }\n    }\n\n    function parseYxToArray(yxValue) {\n        if (!yxValue || !yxValue.trim()) return [];\n\n        const items = yxValue.split(',').map(item => item.trim()).filter(item => item);\n        const result = [];\n\n        for (const item of items) {\n\n            let nodeName = '';\n            let addressPart = item;\n\n            if (item.includes('#')) {\n                const parts = item.split('#');\n                addressPart = parts[0].trim();\n                nodeName = parts[1].trim();\n            }\n\n            const { address, port } = parseAddressAndPort(addressPart);\n\n            if (!nodeName) {\n                nodeName = address + (port ? ':' + port : '');\n            }\n\n            result.push({\n                ip: address,\n                port: port || 443,\n                name: nodeName,\n                addedAt: new Date().toISOString()\n            });\n        }\n\n        return result;\n    }\n\n    function arrayToYx(array) {\n        if (!array || array.length === 0) return '';\n\n        return array.map(item => {\n            const port = item.port || 443;\n            return `${item.ip}:${port}#${item.name}`;\n        }).join(',');\n    }\n\n    function isValidDomain(domain) {\n        const domainRegex = /^(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$/;\n        return domainRegex.test(domain);\n    }\n\n    async function parseTextToArray(content) {\n        var processed = content.replace(/[\t\"'\\r\\n]+/g, ',').replace(/,+/g, ',');\n        if (processed.charAt(0) == ',') processed = processed.slice(1);\n        if (processed.charAt(processed.length - 1) == ',') processed = processed.slice(0, processed.length - 1);\n        return processed.split(',');\n    }\n\n    async function fetchPreferredAPI(urls, defaultPort = '443', timeout = 3000) {\n        if (!urls?.length) return [];\n        const results = new Set();\n        await Promise.allSettled(urls.map(async (url) => {\n            try {\n                const controller = new AbortController();\n                const timeoutId = setTimeout(() => controller.abort(), timeout);\n                const response = await fetch(url, { signal: controller.signal });\n                clearTimeout(timeoutId);\n                let text = '';\n                try {\n                    const buffer = await response.arrayBuffer();\n                    const contentType = (response.headers.get('content-type') || '').toLowerCase();\n                    const charset = contentType.match(/charset=([^\\s;]+)/i)?.[1]?.toLowerCase() || '';\n\n                    let decoders = ['utf-8', 'gb2312'];\n                    if (charset.includes('gb') || charset.includes('gbk') || charset.includes('gb2312')) {\n                        decoders = ['gb2312', 'utf-8'];\n                    }\n\n                    let decodeSuccess = false;\n                    for (const decoder of decoders) {\n                        try {\n                            const decoded = new TextDecoder(decoder).decode(buffer);\n                            if (decoded && decoded.length > 0 && !decoded.includes('\\ufffd')) {\n                                text = decoded;\n                                decodeSuccess = true;\n                                break;\n                            } else if (decoded && decoded.length > 0) {\n                                continue;\n                            }\n                        } catch (e) {\n                            continue;\n                        }\n                    }\n\n                    if (!decodeSuccess) {\n                        text = await response.text();\n                    }\n\n                    if (!text || text.trim().length === 0) {\n                        return;\n                    }\n                } catch (e) {\n                    return;\n                }\n                const lines = text.trim().split('\\n').map(l => l.trim()).filter(l => l);\n                const isCSV = lines.length > 1 && lines[0].includes(',');\n                const IPV6_PATTERN = /^[^\\[\\]]*:[^\\[\\]]*:[^\\[\\]]/;\n                if (!isCSV) {\n                    lines.forEach(line => {\n                        const hashIndex = line.indexOf('#');\n                        const [hostPart, remark] = hashIndex > -1 ? [line.substring(0, hashIndex), line.substring(hashIndex)] : [line, ''];\n                        let hasPort = false;\n                        if (hostPart.startsWith('[')) {\n                            hasPort = /\\]:(\\d+)$/.test(hostPart);\n                        } else {\n                            const colonIndex = hostPart.lastIndexOf(':');\n                            hasPort = colonIndex > -1 && /^\\d+$/.test(hostPart.substring(colonIndex + 1));\n                        }\n                        const port = new URL(url).searchParams.get('port') || defaultPort;\n                        results.add(hasPort ? line : `${hostPart}:${port}${remark}`);\n                    });\n                } else {\n                    const headers = lines[0].split(',').map(h => h.trim());\n                    const dataLines = lines.slice(1);\n                    if (headers.includes('IP\u5730\u5740') && headers.includes('\u7AEF\u53E3') && headers.includes('\u6570\u636E\u4E2D\u5FC3')) {\n                        const ipIdx = headers.indexOf('IP\u5730\u5740'), portIdx = headers.indexOf('\u7AEF\u53E3');\n                        const remarkIdx = headers.indexOf('\u56FD\u5BB6') > -1 ? headers.indexOf('\u56FD\u5BB6') :\n                            headers.indexOf('\u57CE\u5E02') > -1 ? headers.indexOf('\u57CE\u5E02') : headers.indexOf('\u6570\u636E\u4E2D\u5FC3');\n                        const tlsIdx = headers.indexOf('TLS');\n                        dataLines.forEach(line => {\n                            const cols = line.split(',').map(c => c.trim());\n                            if (tlsIdx !== -1 && cols[tlsIdx]?.toLowerCase() !== 'true') return;\n                            const wrappedIP = IPV6_PATTERN.test(cols[ipIdx]) ? `[${cols[ipIdx]}]` : cols[ipIdx];\n                            results.add(`${wrappedIP}:${cols[portIdx]}#${cols[remarkIdx]}`);\n                        });\n                    } else if (headers.some(h => h.includes('IP')) && headers.some(h => h.includes('\u5EF6\u8FDF')) && headers.some(h => h.includes('\u4E0B\u8F7D\u901F\u5EA6'))) {\n                        const ipIdx = headers.findIndex(h => h.includes('IP'));\n                        const delayIdx = headers.findIndex(h => h.includes('\u5EF6\u8FDF'));\n                        const speedIdx = headers.findIndex(h => h.includes('\u4E0B\u8F7D\u901F\u5EA6'));\n                        const port = new URL(url).searchParams.get('port') || defaultPort;\n                        dataLines.forEach(line => {\n                            const cols = line.split(',').map(c => c.trim());\n                            const wrappedIP = IPV6_PATTERN.test(cols[ipIdx]) ? `[${cols[ipIdx]}]` : cols[ipIdx];\n                            results.add(`${wrappedIP}:${port}#CF Preferred ${cols[delayIdx]}ms ${cols[speedIdx]}MB/s`);\n                        });\n                    }\n                }\n            } catch (e) { }\n        }));\n        return Array.from(results);\n    }\n\n    // --- DoH & Protocols Implementation ---\n\n    const DOH_PROVIDERS = [\n      { name: \"Cloudflare\", url: \"https://cloudflare-dns.com/dns-query\", weight: 20 },\n      { name: \"Google\", url: \"https://dns.google/dns-query\", weight: 15 },\n      { name: \"Quad9\", url: \"https://dns.quad9.net/dns-query\", weight: 15 },\n      { name: \"OpenDNS\", url: \"https://doh.opendns.com/dns-query\", weight: 10 },\n      { name: \"AdGuard\", url: \"https://dns.adguard.com/dns-query\", weight: 10 },\n      { name: \"ControlD\", url: \"https://freedns.controld.com/p2\", weight: 10 },\n      { name: \"Mullvad\", url: \"https://adblock.dns.mullvad.net/dns-query\", weight: 10 },\n      { name: \"NextDNS\", url: \"https://dns.nextdns.io/dns-query\", weight: 10 }\n    ];\n    const CACHE_TTL = 300;\n\n    async function handleDoHRequest(request, env, ctx) {\n        const url = new URL(request.url);\n        if (request.method === 'OPTIONS') return handleCORS();\n\n        const isGet = request.method === 'GET';\n        const isPost = request.method === 'POST';\n        if (!isGet && !isPost) return new Response('Method not allowed', { status: 405 });\n        if (isGet && !url.searchParams.has('dns')) return new Response('Missing DNS query parameter', { status: 400 });\n\n        const selectedProvider = selectProvider(DOH_PROVIDERS);\n        try {\n            const targetUrl = selectedProvider.url + url.search;\n            const headers = new Headers(request.headers);\n            if (isPost) headers.set('Content-Type', 'application/dns-message');\n            else headers.set('Accept', 'application/dns-message');\n            headers.set('User-Agent', 'DoH-Proxy-Worker/1.0');\n\n            const upstreamRequest = new Request(targetUrl, {\n                method: request.method,\n                headers: headers,\n                body: isPost ? await request.arrayBuffer() : null,\n                redirect: 'follow'\n            });\n\n            const response = await fetch(upstreamRequest);\n            const responseHeaders = new Headers(response.headers);\n            responseHeaders.set('Access-Control-Allow-Origin', '*');\n            responseHeaders.set('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');\n            responseHeaders.set('Access-Control-Allow-Headers', 'Content-Type, Accept');\n            responseHeaders.set('Cache-Control', `public, max-age=${CACHE_TTL}`);\n\n            return new Response(response.body, {\n                status: response.status,\n                statusText: response.statusText,\n                headers: responseHeaders\n            });\n        } catch (error) {\n            return await tryFallbackProviders(request, url, selectedProvider);\n        }\n    }\n\n    function handleCORS() {\n        return new Response(null, {\n            status: 204,\n            headers: {\n                'Access-Control-Allow-Origin': '*',\n                'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',\n                'Access-Control-Allow-Headers': 'Content-Type, Accept',\n                'Access-Control-Max-Age': '86400'\n            }\n        });\n    }\n\n    function selectProvider(providers) {\n        const totalWeight = providers.reduce((sum, provider) => sum + provider.weight, 0);\n        let random = Math.random() * totalWeight;\n        for (const provider of providers) {\n            if (random < provider.weight) return provider;\n            random -= provider.weight;\n        }\n        return providers[0];\n    }\n\n    async function tryFallbackProviders(request, url, failedProvider) {\n        const fallbackProviders = DOH_PROVIDERS.filter(p => p.name !== failedProvider.name);\n        for (const provider of fallbackProviders.slice(0, 2)) {\n            try {\n                const targetUrl = provider.url + url.search;\n                const headers = new Headers(request.headers);\n                if (request.method === 'POST') headers.set('Content-Type', 'application/dns-message');\n                else headers.set('Accept', 'application/dns-message');\n\n                const upstreamRequest = new Request(targetUrl, {\n                    method: request.method,\n                    headers: headers,\n                    body: request.method === 'POST' ? await request.arrayBuffer() : null\n                });\n\n                const response = await fetch(upstreamRequest);\n                if (response.ok) {\n                    const responseHeaders = new Headers(response.headers);\n                    responseHeaders.set('Access-Control-Allow-Origin', '*');\n                    return new Response(response.body, {\n                        status: response.status,\n                        headers: responseHeaders\n                    });\n                }\n            } catch (e) { continue; }\n        }\n        return new Response('All DNS providers failed', { status: 503 });\n    }\n\n    function serveDNSEncodingExplanation() {\n        return new Response('DNS Encoding Explanation: GET requests must use base64url encoded DNS query in ?dns= param. POST requests send raw binary.', { status: 200 });\n    }\n\n    // --- VMess & Shadowsocks Link Generation ---\n\n    function generateVMessLinksFromSource(list, user, workerDomain) {\n        const links = [];\n        const wsPath = '/vm?ed=2048';\n        const CF_HTTP_PORTS = [80, 8080, 8880, 2052, 2082, 2086, 2095];\n        const CF_HTTPS_PORTS = [443, 2053, 2083, 2087, 2096, 8443];\n\n        list.forEach(item => {\n            let nodeName = item.isp.replace(/\\s/g, '_');\n            if (item.colo && item.colo.trim()) nodeName += `-${item.colo.trim()}`;\n            const port = parseInt(item.port || 443);\n            const isTLS = CF_HTTPS_PORTS.includes(port);\n\n            if (!isTLS && disableNonTLS) return;\n\n            const vmessConfig = {\n                v: \"2\",\n                ps: nodeName,\n                add: item.ip,\n                port: port,\n                id: user,\n                aid: \"0\",\n                scy: \"auto\",\n                net: \"ws\",\n                type: \"none\",\n                host: workerDomain,\n                path: wsPath,\n                tls: isTLS ? \"tls\" : \"\",\n                sni: isTLS ? workerDomain : \"\",\n                alpn: isTLS ? \"h2,http/1.1\" : \"\"\n            };\n            const b64 = btoa(JSON.stringify(vmessConfig));\n            links.push(`vmess://${b64}`);\n        });\n        return links;\n    }\n\n    function generateVMessLinksFromNewIPs(list, user, workerDomain) {\n        const links = [];\n        const wsPath = '/vm?ed=2048';\n        const CF_HTTPS_PORTS = [443, 2053, 2083, 2087, 2096, 8443];\n\n        list.forEach(item => {\n            const nodeName = item.name.replace(/\\s/g, '_');\n            const port = parseInt(item.port);\n            const isTLS = CF_HTTPS_PORTS.includes(port);\n\n            if (!isTLS && disableNonTLS) return;\n\n            const vmessConfig = {\n                v: \"2\",\n                ps: nodeName,\n                add: item.ip,\n                port: port,\n                id: user,\n                aid: \"0\",\n                scy: \"auto\",\n                net: \"ws\",\n                type: \"none\",\n                host: workerDomain,\n                path: wsPath,\n                tls: isTLS ? \"tls\" : \"\",\n                sni: isTLS ? workerDomain : \"\",\n                alpn: isTLS ? \"h2,http/1.1\" : \"\"\n            };\n            const b64 = btoa(JSON.stringify(vmessConfig));\n            links.push(`vmess://${b64}`);\n        });\n        return links;\n    }\n\n    function generateShadowsocksLinksFromSource(list, user, workerDomain) {\n        const links = [];\n        const method = 'chacha20-ietf-poly1305';\n        const password = user;\n        const wsPath = '/ss?ed=2048';\n        const CF_HTTPS_PORTS = [443, 2053, 2083, 2087, 2096, 8443];\n\n        list.forEach(item => {\n            let nodeName = item.isp.replace(/\\s/g, '_');\n            if (item.colo && item.colo.trim()) nodeName += `-${item.colo.trim()}`;\n            const port = parseInt(item.port || 443);\n            const isTLS = CF_HTTPS_PORTS.includes(port);\n\n            if (!isTLS && disableNonTLS) return;\n\n            const userInfo = btoa(`${method}:${password}`);\n            let pluginParam = `v2ray-plugin;mode=websocket;host=${workerDomain};path=${encodeURIComponent(wsPath)}`;\n            if (isTLS) pluginParam += ';tls';\n\n            links.push(`ss://${userInfo}@${item.ip}:${port}?plugin=${encodeURIComponent(pluginParam)}#${encodeURIComponent(nodeName)}`);\n        });\n        return links;\n    }\n\n    function generateShadowsocksLinksFromNewIPs(list, user, workerDomain) {\n        const links = [];\n        const method = 'chacha20-ietf-poly1305';\n        const password = user;\n        const wsPath = '/ss?ed=2048';\n        const CF_HTTPS_PORTS = [443, 2053, 2083, 2087, 2096, 8443];\n\n        list.forEach(item => {\n            const nodeName = item.name.replace(/\\s/g, '_');\n            const port = parseInt(item.port);\n            const isTLS = CF_HTTPS_PORTS.includes(port);\n\n            if (!isTLS && disableNonTLS) return;\n\n            const userInfo = btoa(`${method}:${password}`);\n            let pluginParam = `v2ray-plugin;mode=websocket;host=${workerDomain};path=${encodeURIComponent(wsPath)}`;\n            if (isTLS) pluginParam += ';tls';\n\n            links.push(`ss://${userInfo}@${item.ip}:${port}?plugin=${encodeURIComponent(pluginParam)}#${encodeURIComponent(nodeName)}`);\n        });\n        return links;\n    }\n\n\n\n\n\n\n", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"/app/worker.js\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"/app/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"/app/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"/app/worker.js\";\n\t\t\t\tconst MIDDLEWARE_TEST_INJECT = \"__INJECT_FOR_TESTING_WRANGLER_MIDDLEWARE__\";\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"/app/.wrangler/tmp/bundle-zXIEZU/middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"/app/node_modules/wrangler/templates/middleware/common.ts\";\nimport type { WorkerEntrypointConstructor } from \"/app/.wrangler/tmp/bundle-zXIEZU/middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"/app/.wrangler/tmp/bundle-zXIEZU/middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAoQhC,EAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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Q,UAAU,UAAU,QAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,qBAI1C,EAAE,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDA8JD,KAAK,UAAU,YAAY,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiwF3E,SAAO,IAAI,SAAS,UAAU;AAAA,IAC1B,QAAQ;AAA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",
  "names": ["selectedIP", "ci", "manualRegion", "encoder", "results", "yxValue", "pi"]
}
