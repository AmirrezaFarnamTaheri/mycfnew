# CFnew - ุชุฑููุงู v2.9.3

**ุฒุจุงู:** [ไธญๆ](README.md) | [ูุงุฑุณ](ูุงุฑุณ.md)

[ฺฏุฑูู ุชูฺฏุฑุงู](https://t.me/+ft-zI76oovgwNmRh)

## ๐ ููุฑุณุช ูุทุงูุจ

1.  [ูุนุฑู ู ููุณูู ุทุฑุงุญ (Introduction & Philosophy)](#ูุนุฑู-ู-ููุณูู-ุทุฑุงุญ-introduction--philosophy)
2.  [ููุงูู ฺฉูุฏ: ูุซุงู ูพุณุชฺ (The Mailman Analogy)](#ููุงูู-ฺฉูุฏ-ูุซุงู-ูพุณุชฺ-the-mailman-analogy)
3.  [ูุนูุงุฑ ุณุณุชู ู ุฌุฑุงู ุชุฑุงูฺฉ (System Architecture)](#ูุนูุงุฑ-ุณุณุชู-ู-ุฌุฑุงู-ุชุฑุงูฺฉ-system-architecture)
4.  [ุฏุงูุดูุงูู ูพฺฉุฑุจูุฏ (Configuration Encyclopedia)](#ุฏุงูุดูุงูู-ูพฺฉุฑุจูุฏ-configuration-encyclopedia)
    *   [ฑ. ููุช ู ุงุญุฑุงุฒ ููุช (Identity)](#ฑ-ููุช-ู-ุงุญุฑุงุฒ-ููุช-identity)
    *   [ฒ. ุดุจฺฉู ู ุฑูู (Network & Relay)](#ฒ-ุดุจฺฉู-ู-ุฑูู-network--relay)
    *   [ณ. ุชูุธู ูพุฑูุชฺฉูโูุง (Protocols)](#ณ-ุชูุธู-ูพุฑูุชฺฉูโูุง-protocols)
    *   [ด. ฺฉูุชุฑู ููุทู (Logic Control)](#ด-ฺฉูุชุฑู-ููุทู-logic-control)
    *   [ต. ุชุฑุฌุญุงุช ู ูพุดุฑูุชู (Preferred & Advanced)](#ต-ุชุฑุฌุญุงุช-ู-ูพุดุฑูุชู-preferred--advanced)
5.  [ุชุญูู ุนูู ู ููุงุณู ูพุฑูุชฺฉูโูุง (Protocol Deep Dive)](#ุชุญูู-ุนูู-ู-ููุงุณู-ูพุฑูุชฺฉูโูุง-protocol-deep-dive)
6.  [ุณูุงุฑููุง ุงุณุชูุงุฏู ู ุจูุชุฑู ุฑูุดโูุง](#ุณูุงุฑููุง-ุงุณุชูุงุฏู-ู-ุจูุชุฑู-ุฑูุดโูุง-scenarios)
7.  [ุฑุงูููุง ูุตุจ ุงุฒ ุตูุฑ (Zero to Hero)](#ุฑุงูููุง-ูุตุจ-ุงุฒ-ุตูุฑ-zero-to-hero)
8.  [ุฑุงูููุง ุชูุธูุงุช ฺฉูุงูุช (Client Configuration)](#ุฑุงูููุง-ุชูุธูุงุช-ฺฉูุงูุช-client-configuration)
9.  [ุนุจโุงุจ ู ูุงฺฏโูุง (Troubleshooting & Logs)](#ุนุจโุงุจ-ู-ูุงฺฏโูุง-troubleshooting--logs)
10. [ุฑุงูููุง ูุฏุฑุช API](#ุฑุงูููุง-ูุฏุฑุช-api)
11. [ุชุงุฑุฎฺู ุณุชุงุฑู](#ุชุงุฑุฎฺู-ุณุชุงุฑู)

---

## ูุนุฑู ู ููุณูู ุทุฑุงุญ (Introduction & Philosophy)

ูพุฑูฺู CFnew ฺฉ ุงุณฺฉุฑูพุช ูพุฑูฺฉุณ ููู ูู ุญุฑู ุงุณุช ฺฉู ุจุฑ ุฑู Cloudflare Workers ุงุฌุฑุง ูโุดูุฏ. ุงู ุงุจุฒุงุฑ ุจุฑุง **ููุงููุช ุฏุฑ ุจุฑุงุจุฑ ููุชุฑูฺฏ**ุ **ุนููฺฉุฑุฏ ุจุงูุง** ู **ูุฏุฑุช ุขุณุงู** ุทุฑุงุญ ุดุฏู ุงุณุช.

*   **ุจุฏูู ุณุฑูุฑ (Serverless)**: ูุงุฒ ุจู ุฎุฑุฏ VPS ูุณุชุ ุงุฒ ุดุจฺฉู ุฌูุงู ฺฉููุฏููุฑ ุจุง ุจุด ุงุฒ ณฐฐ ุฏุชุงุณูุชุฑ ุงุณุชูุงุฏู ฺฉูุฏ.
*   **ูุฏุฑุช ุจุฏูู ฺฉุฏ (No-Code Management)**: ูพุณ ุงุฒ ูุตุจุ ุชูุงู ุชูุธูุงุช (UUIDุ IPุ ูพุฑูุชฺฉูโูุง) ุงุฒ ุทุฑู ูพูู ฺฏุฑุงูฺฉ ูุจ ู ุฐุฎุฑูโุณุงุฒ KV ูุฏุฑุช ูโุดููุฏ. ุฏฺฏุฑ ูุงุฒ ุจู ูุฑุงุด ูุงู ฺฉุฏ ูุณุช.
*   **ุงุณุชุชุงุฑ ฺูุฏฺฏุงูู (Polymorphic Camouflage)**: ููุฒูุงู ฺฉ ุณุฑูุฑ VLESSุ ฺฉ ุณุฑูุฑ Trojan ู ฺฉ ูุจโุณุงุช ุนุงุฏ (ุดุจูโุณุงุฒ ุดุฏู) ุงุณุช.
*   **ูุณุฑุงุจ ููุดููุฏ (Intelligent Routing)**: ุจุง ุชุทุจู ุฌุบุฑุงูุง ุฎูุฏฺฉุงุฑุ ููุดู ุจู ูุฒุฏฺฉโุชุฑู ู ุณุฑุนโุชุฑู ุฏุชุงุณูุชุฑ ูุชุตู ูโุดูุฏ.

---

## ููุงูู ฺฉูุฏ: ูุซุงู ูพุณุชฺ (The Mailman Analogy)

ุจุฑุง ุฏุฑฺฉ ฺฉุงูู ูุญูู ฺฉุงุฑ ูพุฑูฺฉุณ ู ุนุจูุฑ ุงุฒ ููุชุฑูฺฏุ ุจุงุฏ ุขู ุฑุง ุจู ฺฉ **ุณุณุชู ูพุณุช** ุชุดุจู ฺฉูู.

### ููุดโูุง
*   **ุดูุง (Client)**: ูุฑุณุชูุฏู ูุงูู (ฺฉุงุฑุจุฑ ฺฉู ูโุฎูุงูุฏ ุณุงุช ููุชุฑ ุดุฏู ุฑุง ุจุงุฒ ฺฉูุฏ).
*   **ุณุงุช ููุตุฏ (Google/YouTube)**: ฺฏุฑูุฏู ูุงูู.
*   **ููุชุฑฺ (Firewall)**: ุจุงุฒุฑุณ ุณุฎุชโฺฏุฑ ุงุฏุงุฑู ูพุณุช ฺฉู "ูุณุช ุณุงู" ุฏุงุฑุฏ ู ูุงููโูุง ฺฏูฺฏู ุฑุง ูพุงุฑู ูโฺฉูุฏ.
*   **ูุฑฺฉุฑ (Cloudflare Worker)**: ฺฉุงุฑููุฏ ฺฉ ุดุฑฺฉุช ูพุณุช ูุนุชุจุฑ ุฏุฑ ููุทูู ุขุฒุงุฏ ุชุฌุงุฑ.
*   **ุดูุงุณู (UUID)**: ูููุฑ ูุฎุตูุต ุง ฺฏุฐุฑูุงูู ุดูุง (ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุณูุกุงุณุชูุงุฏู ุบุฑุจูโูุง).
*   **ุขโูพ ูุงุณุท (ProxyIP)**: ููุณุงู ุฏูุงุฑ ุจู ุฏูุงุฑ ุณุงุช ููุตุฏ (ูพฺฉ ููุชูุฑ ูุฎู).

### ูุฑุงุญู ุงูุฌุงู ฺฉุงุฑ

#### ฑ. ุจุณุชูโุจูุฏ (The Envelope)
ุดูุง ูโุฎูุงูุฏ ุจู ฺฏูฺฏู ูุงูู ุจููุณุฏุ ุงูุง ููโุชูุงูุฏ ุฑู ูพุงฺฉุช ุจููุณุฏ "ฺฏุฑูุฏู: ฺฏูฺฏู".
*   **ุงูุฏุงู**: ุดูุง ูุงูู ุงุตู (ุฏุงุฏูโูุง ุฑูุฒฺฏุฐุงุฑ ุดุฏู) ุฑุง ุฏุงุฎู ฺฉ ูพุงฺฉุช ุงุฏุงุฑ ูุนููู ูโฺฏุฐุงุฑุฏ ฺฉู ุฑู ุขู ููุดุชู ุดุฏู **"ฺฏุฑูุฏู: ุดุฑฺฉุช Cloudflare"**.
*   **ุงุญุฑุงุฒ ููุช**: ุฑู ุฏุฑ ูพุงฺฉุชุ **ูููุฑ UUID** ุฎูุฏ ุฑุง ูโุฒูุฏ. ููุท Worker ฺฉู ูุณุช ูููุฑูุง ุฑุง ุฏุงุฑุฏ ูโูููุฏ ุงู ูุงูู ูุนุชุจุฑ ุงุณุช.
*   **ูพุฑูุชฺฉู**: ุงู ุฏููุงู ฺฉุงุฑ ุงุณุช ฺฉู ูพุฑูุชฺฉูโูุง **VLESS/Trojan** ุงูุฌุงู ูโุฏููุฏุ ูุฎูโุณุงุฒ ู ุจุณุชูโุจูุฏ.

#### ฒ. ุชุญูู ุจู ูพุณุช (Transmission)
*   **ุงูุฏุงู**: ูุงูู ุฑุง ุจู ุตูุฏูู ูพุณุช ูโุงูุฏุงุฒุฏ.
*   **ุจุงุฒุฑุณ**: ููุชุฑฺ ูุงูู ุฑุง ูโุจูุฏ. ฺูู ฺฏุฑูุฏู "Cloudflare" (ฺฉ ุดุฑฺฉุช ูุนุชุจุฑ ุงูุชุฑูุช) ุงุณุช ู ุธุงูุฑ ูุงูู ฺฉุงููุงู ุฑุณู ู ุงูู (HTTPS/TLS) ุงุณุชุ ุจู ุขู ุดฺฉ ููโฺฉูุฏ ู ุงุฌุงุฒู ุนุจูุฑ ูโุฏูุฏ.
*   **ูุชุฌู**: ูุงูู ุดูุง ุงุฒ ุณุฏ ููุชุฑูฺฏ ุนุจูุฑ ูโฺฉูุฏ ู ุจู ุงูุจุงุฑ ุฌูุงู Cloudflare ูโุฑุณุฏ.

#### ณ. ุชูฺฉฺฉ (Sorting - The Worker)
*   **ุฏุฑุงูุช**: ุณุณุชู Worker ูุงูู ุฑุง ุชุญูู ูโฺฏุฑุฏ.
*   **ุจุฑุฑุณ**: ุงุจุชุฏุง **ูููุฑ UUID** ุฑุง ฺฺฉ ูโฺฉูุฏ.
    *   *ูููุฑ ุงุดุชุจุงู ุงุณุชุ* -> ูุงูู ุฏูุฑ ุฑุฎุชู ูโุดูุฏ (ูุทุน ุงุชุตุงู).
    *   *ูููุฑ ุฏุฑุณุช ุงุณุชุ* -> ูพุงฺฉุช ุจุฑูู ุฑุง ุจุงุฒ ูโฺฉูุฏ.
*   **ุฎูุงูุฏู**: ุณูพุณ Worker ูุงูู ุงุตู ุฑุง ูโุจูุฏ ู ูุชูุฌู ูโุดูุฏ ฺฏุฑูุฏู ูุงูุน **"Google"** ุงุณุช.

#### ด. ุชูุฒุน (Delivery Methods)
ุญุงูุง Worker ุฏู ุฑูุด ุจุฑุง ุฑุณุงูุฏู ูุงูู ุฏุงุฑุฏ (ุจุณุชู ุจู ุชูุธูุงุช ุดูุง):

*   **๐ฐ๏ธ ุชุญูู ูุณุชูู (Native Mode)**
    *   ุฎูุฏ Worker ุดุฎุตุงู ุงุฒ ุงูุจุงุฑ ุฎุงุฑุฌ ูโุดูุฏุ ุจู ุฏูุชุฑ ฺฏูฺฏู ูโุฑูุฏ ู ูุงูู ุฑุง ุชุญูู ูโุฏูุฏ.
    *   *ูฺฺฏ*: ุณุฑุนุช ุจุงูุงุ ุงูุง ฺฏูฺฏู ฺูุฑู Worker (ุขโูพ ฺฉููุฏููุฑ) ุฑุง ูโุจูุฏ. ุจุฑุฎ ุณุงุชโูุง (ูุซู ูุชููฺฉุณ) ููฺฉู ุงุณุช Worker ุฑุง ุฑุงู ูุฏููุฏ.

*   **๐ฑ๏ธ ูพฺฉ ูุฎู (ProxyIP Mode)**
    *   ุงุจุชุฏุง Worker ูฺฉุฑ ูโฺฉูุฏ ุฑูุชู ูุณุชูู ุฎุทุฑูุงฺฉ ุงุณุช.
    *   ุณูพุณ Worker ูุงูู ุฑุง ุจู ฺฉ **ูพฺฉ ููุชูุฑ ูุฎู (ProxyIP)** ูโุฏูุฏ.
    *   ูพฺฉ ูุงูู ุฑุง ุจู ฺฏูฺฏู ูโุฑุณุงูุฏ.
    *   *ูฺฺฏ*: ฺฏูฺฏู ููุท ฺูุฑู ูพฺฉ (ุขโูพ ูุณฺฉูู/ูุญู) ุฑุง ูโุจูุฏ. ุนุงู ุจุฑุง ุฑูุน ุชุญุฑูโูุง.

#### ต. ุจุงุฒฺฏุดุช ูุงูู (The Return Journey)
*   ฺฏูฺฏู ุฌูุงุจ ูุงูู ุฑุง ูโููุณุฏ ู ุจู ูพฺฉ ุง Worker ูโุฏูุฏ.
*   ุฏุฑ ููุงุช Worker ุฌูุงุจ ุฑุง ุฏุฑ ฺฉ ูพุงฺฉุช ุจุง ูููุฑ **"ูุฑุณุชูุฏู: Cloudflare"** ูโฺฏุฐุงุฑุฏ.
*   ูุงูู ุจู ุฏุณุช ุดูุง ูโุฑุณุฏ. ููุชุฑฺ ููุท ูโุจูุฏ ฺฉู ุดูุง ฺฉ ูุงูู ุงุฏุงุฑ ุงุฒ Cloudflare ุฏุฑุงูุช ฺฉุฑุฏูโุงุฏ ู ุงุฒ ูุญุชูุง ุขู ุจโุฎุจุฑ ุงุณุช.

### ถ. ุชูุณุนู ูุซุงู: ููุงูู ุฏฺฏุฑ (Further Concepts)

ุจุงุฏ ุงู ุณุณุชู ูพุณุช ุฑุง ุจุง ุฌุฒุฆุงุช ฺฉุงููโุชุฑ ู ุนููโุชุฑ ุจุฑุฑุณ ฺฉูู ุชุง ุฏุฑฺฉ ุจูุชุฑ ุงุฒ ูฺฉุงูุฒูโูุง ูพฺุฏู ุงูุชุฑูุช ุขุฒุงุฏ ุฏุงุดุชู ุจุงุดุฏ:

#### ุงููุงุน ุฑูุดโูุง ุญููโูููู (Protocols)
ุงูโูุง ุฑูุดโูุง ูุฎุชูู ูุณุชูุฏ ฺฉู ูุงููโ ุดูุง (ุฏุงุฏูโูุง) ุงุฒ ุฎุงูู ุจู ููุตุฏ ูโุฑุณุฏ.

*   **ุฑูุด ุงุณุชุงูุฏุงุฑุฏ (TCP)**: ูุซู ฺฉุงูููโูุง ูพุณุช ุฏููุช ุงุณุช. ฺฉูุฏุ ูุทูุฆูุ ู ุจุฑุง ูุฑ ุจุณุชู ุฑุณุฏ ูโฺฏุฑุฏ. ุงฺฏุฑ ุจุณุชูโุง ฺฏู ุดูุฏุ ุฏูุจุงุฑู ูโูุฑุณุชุฏ.
    *   **HTTP/TLS**: ูุงููโูุง ูุนููู ฺฉู ุฏุฑ ูพุงฺฉุชโูุง ุงุฏุงุฑ ุงูู ุงุฑุณุงู ูโุดููุฏ.
*   **ุฑูุด ุณุฑุน (UDP)**: ูุซู ูพฺฉ ููุชูุฑ ุง ูพููพุงุฏ ุงุณุช. ุณุฑุน ูโุฑูุฏ ู ููุชุธุฑ ุฑุณุฏ ููโูุงูุฏ.
    *   **Hysteria 2 / TUIC**: ุงูโูุง ูุซู **ูพููพุงุฏูุง ูุณุงุจููโุง** ูุณุชูุฏ. ุขูโูุง ุงุฒ ุชุฑุงูฺฉ ุฌุงุฏูโูุง (TCP) ุฑุฏ ููโุดููุฏุ ุจูฺฉู ุงุฒ ุขุณูุงู (UDP) ูพุฑูุงุฒ ูโฺฉููุฏ. ุจุฑุง ููู ุจุฑุง ุจุงุฒ ุขููุงู ุนุงู ูุณุชูุฏ. ุณุณุชู "ฺฉูุชุฑู ุงุฒุฏุญุงู" ุขููุง ูุซู ฺฉ ุฎูุจุงู ูุงูุฑ ุงุณุช ฺฉู ููุช ููุง ุจุฏ ุงุณุชุ ุณุฑุนุช ุฑุง ฺฉู ูโฺฉูุฏ ุชุง ุณููุท ูฺฉูุฏ.
    *   **WireGuard**: ูุซู ฺฉ **ูููู ฺฉุด ุงุฎุชุตุงุต ู ูุงูุฑุฆ** ุงุณุช. ฺฉ ฺฉุงุจู ูุณุชูู ุงุฒ ฺฉุงููพูุชุฑ ุดูุง ุจู ุณุฑูุฑ ููุตุฏ ฺฉุดุฏู ุดุฏู ฺฉู ูฺฺฉุณ ุขู ุฑุง ููโุจูุฏ. ุจุณุงุฑ ุณุฑุน ู ุงูู ุงุณุชุ ุงูุง ฺูู ููููโุงุด ุซุงุจุช ุงุณุชุ ููุชุฑฺโูุง ุฑุงุญุชโุชุฑ ูโุชูุงููุฏ ุขู ุฑุง ูพุฏุง ู ูุณุฏูุฏ ฺฉููุฏ.
*   **ุฑูุดโูุง ูุฏู (Legacy)**:
    *   **VMess / Shadowsocks**: ุดุจู ุจู ุงู ุงุณุช ฺฉู ูุงูู ุฑุง ุจู ุฌุง ุงุฏุงุฑู ูพุณุชุ ุจู **ูพุณุฑุฎุงููโุชุงู** (ฺฉ ุณุฑูุฑ ุดุฎุต) ุจุฏูุฏ ุชุง ุงู ูุงูู ุฑุง ูพุณุช ฺฉูุฏ. ุงู ูุงููโูุง ุฑุง ุจุง ุฑูุด ุฑูุฒ ฺฉู ููุท ุดูุง ู ุงู ูโุฏุงูุฏ ูโููุณุฏ.
*   **ุชูููโุฒู (Tunneling)**:
    *   **WARP**: ฺฉ **ุชููู ุฒุฑุฒูู ุงุฎุชุตุงุต** ุงุณุช ฺฉู ุดุฑฺฉุช Cloudflare ูุณุชููุงู ุงุฒ ุฎุงูู ุดูุง ุจู ุงูุชุฑูุช ุขุฒุงุฏ ุญูุฑ ฺฉุฑุฏู ุงุณุช. ุดูุง ูุงุฑุฏ ุชููู ูโุดูุฏ ู ุฏุฑ ุขู ุณู ูุฑุฒ ุจุฑูู ูโุขุฏ.

#### ุฏูุชุฑฺู ุชููู ู ุขุฏุฑุณโุฏู (DNS)
ูุจู ุงุฒ ุงูฺฉู ูุงูู ุจูุฑุณุชุฏุ ุจุงุฏ ุขุฏุฑุณ ุฎุงูู ฺฏุฑูุฏู ุฑุง ูพุฏุง ฺฉูุฏ.

*   **DNS (Domain Name System)**: ูุซู ุฏูุชุฑฺู ุชููู ุดูุฑ ุงุณุช. ุดูุง ูโูพุฑุณุฏ "ูุชูุจ ฺฉุฌุงุณุชุ" ู ุฏูุชุฑฺู ุจู ุดูุง ูโฺฏูุฏ "ุฎุงุจุงู ุขุฒุงุฏุ ูพูุงฺฉ ฑฐ".
*   **DNS Poisoning (ูุณูููุช)**: ููุชุฑฺโูุง ุจุฏุฌูุณ ุฏูุชุฑฺู ุชูููโูุง ุดูุฑ ุฑุง ุฏุณุชฺฉุงุฑ ฺฉุฑุฏูโุงูุฏ. ููุช ุขุฏุฑุณ "YouTube" ุฑุง ูโฺฏุฑุฏุฏุ ุขุฏุฑุณ "ฺฉูุงูุชุฑ ูุญู" ุง "ุณุงุช ูพููุฏูุง" ุฑุง ุจู ุดูุง ูโุฏููุฏ!
*   **DoH (DNS over HTTPS)**: ุจุฑุง ุฌููฺฏุฑ ุงุฒ ูุฑุจ ุฎูุฑุฏูุ ุดูุง ุฏุฑุฎูุงุณุช ุขุฏุฑุณ ุฑุง ุฏุฑ ฺฉ **ูพุงฺฉุช ุฏุฑุจุณุชู ู ุถุฏฺฏูููู** ูโฺฏุฐุงุฑุฏ ู ุจุง ูพุณุช ูพุดุชุงุฒ ุจู ฺฉ ุจุงุฌู ุงูู ุฏุฑ ุฎุงุฑุฌ ุงุฒ ฺฉุดูุฑ ูโูุฑุณุชุฏ. ูฺฺฉุณ ููโุชูุงูุฏ ุฏุฑุฎูุงุณุช ุดูุง ุฑุง ุจุจูุฏ ุง ุขุฏุฑุณ ุบูุท ุจู ุดูุง ุจุฏูุฏ.
*   **DNSTt (Tunneling)**: ุงู ฺฉ ุชุฑููุฏ ูููโุงูุนุงุฏู ุงุณุช. ุดูุง ุงุตูุง ูุงูู ููโูุฑุณุชุฏ! ุดูุง ูุงูู ุงุตูโุชุงู ุฑุง ุชฺฉู ุชฺฉู ูโฺฉูุฏ ู ุฏุฑ ูุงูุจ "ุณูุงูโูุง ุจโุฑุจุท ุงุฒ ุฏูุชุฑฺู ุชููู" ูุฎู ูโฺฉูุฏ. ููุชุฑฺ ูฺฉุฑ ูโฺฉูุฏ ุดูุง ููุท ุฏุงุฑุฏ ุฏูุจุงู ุดูุงุฑู ุชููู ูโฺฏุฑุฏุฏุ ุฏุฑ ุญุงู ฺฉู ุฏุงุฑุฏ ุงุทูุงุนุงุช ุฑุฏ ู ุจุฏู ูโฺฉูุฏ.

#### ุชุฑููุฏูุง ุงุณุชุชุงุฑ ู ูุฑุงุฑ (Evasion Techniques)
ฺฺฏููู ุจุงุฒุฑุณุงู ุฑุง ฺฏูู ุจุฒููุ

*   **Mux (Multiplexing)**: ุจู ุฌุง ุงูฺฉู ุจุฑุง ูุฑ ุจุฑฺฏ ฺฉุงุบุฐ ฺฉ ูพุงฺฉุช ู ุชูุจุฑ ุฌุฏุงฺฏุงูู ูุตุฑู ฺฉูุฏ (ฺฉู ูู ฺฏุฑุงู ุงุณุช ู ูู ฺฉูุฏ)ุ **ฺูุฏู ูุงูู ุฑุง ุฏุฑ ฺฉ ุฌุนุจู ุจุฒุฑฺฏ** ูโฺฏุฐุงุฑุฏ ู ฺฉุฌุง ูโูุฑุณุชุฏ. ุงู ฺฉุงุฑ ุจุงุนุซ ูโุดูุฏ ุชุนุฏุงุฏ ุฑูุช ู ุขูุฏูุง ุจู ุงุฏุงุฑู ูพุณุช ฺฉู ุดูุฏ ู ุณุฑุนุช ุจุงูุง ุจุฑูุฏ.
*   **Padding (ูพุฏูฺฏ - ูพูุจูโฺฏุฐุงุฑ)**: ููุชุฑฺโูุง ุจู ุงูุฏุงุฒู ูพุงฺฉุชโูุง ุญุณุงุณ ูุณุชูุฏ. ุงฺฏุฑ ูุงูู ุฎู ฺฉูฺฺฉ ุจุงุดุฏ (ูุซูุง ููุท ฺฏูุชุฏ "ุณูุงู")ุ ูุดฺฉูฺฉ ูโุดููุฏ. ุดูุง ุฏุงุฎู ูพุงฺฉุช **ฺฉุงุบุฐ ุจุงุทูู ุง ูพูุจู** ูโฺฏุฐุงุฑุฏ ุชุง ููู ูพุงฺฉุชโูุง ููโูุฒู ู ููโุงูุฏุงุฒู ุดููุฏ. ุญุงูุง ููุชุฑฺ ููโุชูุงูุฏ ุงุฒ ุฑู ูุฒู ู ุงูุฏุงุฒู ูพุงฺฉุช ุญุฏุณ ุจุฒูุฏ ุฏุงุฎูุด ฺุณุช.
*   **Fragmentation (ุชฺฉูโุชฺฉู ฺฉุฑุฏู)**: ูุงูู ุฑุง ุจุง ูฺ ุจู **ุชฺฉูโูุง ฺฉูฺฺฉ** ูโุจุฑุฏ ู ูุฑ ุชฺฉู ุฑุง ุฏุฑ ฺฉ ุฒูุงู ูุชูุงูุช ูโูุฑุณุชุฏ. ููุชุฑฺ ุจุง ุฏุฏู ฺฉ ุชฺฉู ฺฉุงุบุฐ ูพุงุฑู ฺฉู ุฑูุด ููุดุชู "ู..." ฺุฒ ููโูููุฏ ู ุงุฌุงุฒู ุนุจูุฑ ูโุฏูุฏ. ฺฏุฑูุฏู ุฏุฑ ููุตุฏ ุชฺฉูโูุง ุฑุง ("...ุชูุจ") ฺฉูุงุฑ ูู ูโฺฏุฐุงุฑุฏ ู ูโุฎูุงูุฏ.
*   **SNI (Server Name Indication)**: ุงู ููุงู ฺุฒ ุงุณุช ฺฉู ุฑู ูพุงฺฉุช ูโููุณุฏ "ฺฏุฑูุฏู: ฺฏูฺฏู".
*   **ESNI / ECH (Encrypted SNI)**: ุงู ุชฺฉููููฺ ุฌุฏุฏุ ูุงู ฺฏุฑูุฏู ุฑุง ูู **ุฏุงุฎู ูพุงฺฉุช** ูโฺฏุฐุงุฑุฏ. ุฑู ูพุงฺฉุช ููุท ููุดุชู "ุจู: ุดุฑฺฉุช Cloudflare". ููุชุฑฺ ูโุฏุงูุฏ ููุตุฏ ฺฉููุฏููุฑ ุงุณุชุ ุงูุง ููโุฏุงูุฏ ููุงุชุงู ูุงูู ุจู ุฏุณุช ฺฏูฺฏู ูโุฑุณุฏ ุง ูุงฺฉุฑูุณุงูุช.

---

## ูุนูุงุฑ ุณุณุชู ู ุฌุฑุงู ุชุฑุงูฺฉ (System Architecture)

### ฑ. ุญุงูุช ุจูู (Native Mode)
*ููุงุณุจ ุจุฑุง: VLESS, Trojan, VLESS gRPC, xhttp*
ุฏุฑ ุงู ุญุงูุช Worker ูุณุชููุงู ุชุฑุงูฺฉ ุฑุง ูพุฑุฏุงุฒุด ูโฺฉูุฏ. ฺฉูุชุฑู ุชุงุฎุฑ.

```mermaid
graph LR
    Client[ฺฉุงุฑุจุฑ] -->|ุฑูุฒูฺฏุงุฑ TLS| CF[ูุจู Cloudflare]
    CF -->|ุงุฌุฑุง| Worker[ุงุณฺฉุฑูพุช CFnew]
    Worker -->|ุฑูุฒฺฏุดุง| Target[ุณุงุช ูุฏู]
    Target -->|ูพุงุณุฎ| Worker
    Worker -->|ุฑูุฒูฺฏุงุฑ| Client
```

### ฒ. ุญุงูุช ProxyIP (ุฑูู)
*ููุงุณุจ ุจุฑุง: VLESS, Trojan (ุจุง ูุชุบุฑ p)*
ุฏุฑ ุงู ุญุงูุช Worker ุชุฑุงูฺฉ ุฑุง ุงุฒ ุทุฑู TCP ุจู ฺฉ ุณุฑูุฑ ูุงุณุท ุฑูู ูโฺฉูุฏ.

```mermaid
graph LR
    Client --> CF
    CF --> Worker
    Worker -->|ุงุชุตุงู TCP| ProxyIP[ุณุฑูุฑ ูุงุณุท]
    ProxyIP -->|ุฏุฑุฎูุงุณุช| Target
    Target --> ProxyIP
    ProxyIP --> Worker
```

### ณ. ุฌุฑุงู ููุฏุดฺฉ ECH (ECH Flow)
*ููุงุณุจ ุจุฑุง: ุฒูุงู ฺฉู ECH ุฑูุดู ุงุณุช*
ูุงู ุฏุงููู (SNI) ุฑูุฒฺฏุฐุงุฑ ูโุดูุฏ ุชุง ููุชุฑฺ ููุตุฏ ุฑุง ูุจูุฏ.

```mermaid
graph TD
    Client -->|"ฑ. ุฏุฑุงูุช ุชูุธูุงุช ECH"| DoH[ุณุฑูุฑ DoH]
    DoH -->|"ฒ. ุจุงุฒฺฏุดุช ฺฉูุฏ ุนููู"| Client
    Client -->|"ณ. ClientHello (SNI ุฑูุฒ ุดุฏู)"| CF
    CF -->|"ด. ุฑูุฒฺฏุดุง SNI"| Worker
    Worker --> Target
```

---

## ุฏุงูุดูุงูู ูพฺฉุฑุจูุฏ (Configuration Encyclopedia)

ุฏุฑ ุงูุฌุง ุชูุงู ูุชุบุฑูุง ููุฌูุฏ ุฏุฑ ฺฉุฏ ุฑุง ุจุฑุฑุณ ูโฺฉูู.
**ุงูููุช**: ุชูุธูุงุช KV (ูพูู ฺฏุฑุงูฺฉ) > ูุชุบุฑูุง ูุญุท (Settings).

### ฑ. ููุช ู ุงุญุฑุงุฒ ููุช (Identity)

<div dir="rtl">

| ูุงู ูุชุบุฑ | ููุน | ูพุดโูุฑุถ | ุชูุถุญุงุช | ฺุฑุง ุงุณุชูุงุฏู ฺฉููุ |
| :--- | :--- | :--- | :--- | :--- |
| **`u`** | String | (ุงูุฒุงู) | **UUID**. ุดูุงุณู ฺฉุชุง ฺฉุงุฑุจุฑ. ุฑูุฒ ุนุจูุฑ ุงุชุตุงู ุดูุง. ุจุงุฏ ูุฑูุช ุงุณุชุงูุฏุงุฑุฏ UUID ุจุงุดุฏ. | **ุงููุช**. ุฌููฺฏุฑ ุงุฒ ุณุฑูุช ุชุฑุงูฺฉ ุชูุณุท ุฏฺฏุฑุงู. |
| **`tp`** | String | `u` | **ุฑูุฒ Trojan**. ุฑูุฒ ุงุฎุชุตุงุต ุจุฑุง ูพุฑูุชฺฉู ุชุฑูุฌุงู. ุงฺฏุฑ ุฎุงู ุจุงุดุฏ ุงุฒ UUID ุงุณุชูุงุฏู ูโุดูุฏ. ฺฉูุงูุช ุขู ุฑุง ูุด (SHA224) ูโฺฉูุฏ. | **ุณุงุฒฺฏุงุฑ**. ุจุฑุฎ ฺฉูุงูุชโูุง ูุฏู Trojan ุจุง ูุฑูุช UUID ูุดฺฉู ุฏุงุฑูุฏ. |

</div>

### ฒ. ุดุจฺฉู ู ุฑูู (Network & Relay)

<div dir="rtl">

| ูุงู ูุชุบุฑ | ููุน | ูพุดโูุฑุถ | ุชูุถุญุงุช | ฺุฑุง ุงุณุชูุงุฏู ฺฉููุ |
| :--- | :--- | :--- | :--- | :--- |
| **`p`** | String | (ุฎุงู) | **ProxyIP**. ููุตุฏ ููุฑูุงุฑุฏ ุชุฑุงูฺฉ (IP:Port). ุจุฑุง ุฑูุน ุชุญุฑู ุง ูุฎูโุณุงุฒ. | **ุฑูุน ุชุญุฑู/ูุฎูโุณุงุฒ**. ุจุงุฒ ฺฉุฑุฏู ุณุงุชโูุง ฺฉู IP ฺฉููุฏููุฑ ุฑุง ุจุณุชูโุงูุฏ (ูุซู ูุชููฺฉุณ). |
| **`s`** | String | (ุฎุงู) | **SOCKS5**. ูุฑูุช `user:pass@host:port`. ุงูููุช ุจุงูุงุชุฑ ุงุฒ `p` ุฏุงุฑุฏ. | **ุฎุฑูุฌ ุฎุงุต**. ุงุณุชูุงุฏู ุงุฒ IP ฺฉ ฺฉุดูุฑ ุฎุงุต ุจุฑุง ฺฉุงุฑูุง ุญุณุงุณ. |
| **`d`** | String | (ุฎุงู) | **ูุณุฑ ูุฎู**. ุจุง ุชูุธู ุงูุ ูพูู ููุท ุงุฒ `domain.com/path` ุจุงุฒ ูโุดูุฏ. | **ุถุฏ ุงุณฺฉู**. ูุฎู ฺฉุฑุฏู ูพูู ุงุฒ ุฏุฏ ุฑุจุงุชโูุง ุงุณฺฉูุฑ ุงูุชุฑูุช. |
| **`wk`** | String | (ุฎูุฏฺฉุงุฑ) | **ููุทูู Worker**. ุงุฌุจุงุฑ Worker ุจู ุงุฌุฑุง ุฏุฑ ููุทูู ุฎุงุต (ูุซู SG, US). | **ฺฉุงูุด ูพูฺฏ**. ุงุชุตุงู ุงุฌุจุงุฑ ุจู ูุฒุฏฺฉโุชุฑู ุณุฑูุฑ ฺฉููุฏููุฑ ุจู ุงุฑุงู. |

</div>

### ณ. ุชูุธู ูพุฑูุชฺฉูโูุง (Protocols)

ุจุฑุง ูุนุงูโุณุงุฒ `yes` ู ุจุฑุง ุบุฑูุนุงูโุณุงุฒ `no` ูุฑุงุฑ ุฏูุฏ.

<div dir="rtl">

| ูุงู ูุชุบุฑ | ูพุฑูุชฺฉู | ููุน | ุชูุถุญุงุช | ุณูุงุฑู ุงุณุชูุงุฏู |
| :--- | :--- | :--- | :--- | :--- |
| **`ev`** | VLESS | Native | ุณุจฺฉโุชุฑูุ ุจุฏูู ูุถุนุช (Stateless)ุ ุจูุชุฑู ุนููฺฉุฑุฏ. | ูุจโฺฏุฑุฏ ุฑูุฒุงููุ ุชูุงุดุง ูุฏู (4K). |
| **`et`** | Trojan | Native | ุดุจูโุณุงุฒ ุชุฑุงูฺฉ HTTPSุ ููุงูู ุฏุฑ ุจุฑุงุจุฑ ุงุฎุชูุงู. | ูุญุทโูุง ุจุง ููุชุฑูฺฏ ุดุฏุฏ ู ุญุณุงุณ. |
| **`ex`** | xhttp | Native | ูพุฑูุชฺฉู ูุฎูโุณุงุฒ ูุจุชู ุจุฑ HTTP POST. | ูุงุฒ ุจู ุงุณุชุชุงุฑ ุจุงูุง (ุงุฒ ุทุฑู gRPC). |
| **`eg`** | VLESS gRPC | Native | ุงูุชูุงู ุงุฒ ุทุฑู gRPC. | ุดุจฺฉูโูุง ฺฉู ุจุง ูพุงุฏุงุฑ gRPC ุณุงุฒฺฏุงุฑุชุฑูุฏ. |
| **`evm`** | VMess | Relay | ููุท ุชููุฏ ููฺฉ. ูุงุฒ ุจู ุณุฑูุฑ ุจฺฉโุงูุฏ ุฏุงุฑุฏ. | ุฏุงุดุชู VPS ุดุฎุต ู ุงุณุชูุงุฏู ุงุฒ CF ุจู ุนููุงู ุชุงูู. |
| **`ess`** | Shadowsocks| Relay | ููุท ุชููุฏ ููฺฉ. ูุงุฒ ุจู ุณุฑูุฑ ุจฺฉโุงูุฏ ุฏุงุฑุฏ. | ุฏุณุชฺฏุงูโูุง ูุฏู ุง ุฑูุชุฑูุง ฺฉู ููุท SS ุฏุงุฑูุฏ. |
| **`etu`** | TUIC | Direct | ููุท ุชููุฏ ููฺฉ. ูพุฑูุชฺฉู UDP. | ุจุงุฒ ุขููุงูุ ฺฉุงูุด ูพูฺฏ (ูุงุฒ ุจู ุณุฑูุฑ ุจฺฉโุงูุฏ). |
| **`ehy`** | Hysteria 2 | Direct | ููุท ุชููุฏ ููฺฉ. ูพุฑูุชฺฉู UDP. | ุณุฑุนุช ุจุงูุง ุฏุฑ ุดุจฺฉูโูุง ุจุง ุงุฎุชูุงู ุดุฏุฏ (ูุงุฒ ุจู ุณุฑูุฑ ุจฺฉโุงูุฏ). |
| **`ech`** | ECH | - | ูุนุงูโุณุงุฒ Encrypted Client Hello. | ุฌููฺฏุฑ ุงุฒ ููุชุฑูฺฏ SNIุ ุจุงูุงุชุฑู ุณุทุญ ุงููุช. |

</div>

### ด. ฺฉูุชุฑู ููุทู (Logic Control)

<div dir="rtl">

| ูุงู ูุชุบุฑ | ุนููฺฉุฑุฏ | ูพุดโูุฑุถ | ุชูุถุญุงุช ุฏูู |
| :--- | :--- | :--- | :--- |
| **`rm`** | Region Match | `yes` | **ุชุทุจู ููุทูู**. ุขุง Worker ุจู ุทูุฑ ููุดููุฏ ุจู ูุฒุฏฺฉโุชุฑู ููุฏ ูุชุตู ุดูุฏุ ุงฺฏุฑ `no` ุจุงุดุฏุ ุชุตุงุฏู ุงุณุช. |
| **`qj`** | Downgrade | `yes` | **ฺฉูุชุฑู ุงูุช**. ุงฺฏุฑ `no` ุจุงุดุฏุ ูุงูโุจฺฉ ุฎูุฏฺฉุงุฑ ูุนุงู ูโุดูุฏ (ุงูู ูุณุชููุ ุงฺฏุฑ ูุดุฏ SOCKS5ุ ุงฺฏุฑ ูุดุฏ ProxyIP). |
| **`dkby`** | Port Filter | `no` | **ููุชุฑ ูพูุฑุช**. ุงฺฏุฑ `yes` ุจุงุดุฏุ ููุท ููุฏูุง TLS (443) ุณุงุฎุชู ูโุดููุฏ ู ูพูุฑุชโูุง 80 ุญุฐู ูโุดููุฏ. ุจุง ECH ุงุฌุจุงุฑ ูโุดูุฏ. |
| **`yxby`** | Prefer Filter | `no` | **ููุชุฑ ุชุฑุฌุญ**. ุงฺฏุฑ `yes` ุจุงุดุฏุ ุชูุงู IPูุง ุชูุฒ **ุบุฑูุนุงู** ูโุดููุฏ ู ููุท ุฎูุฏ Worker ูโูุงูุฏ. |
| **`ae`** | API Enable | `no` | **ูุฏุฑุช API**. ุงฺฏุฑ `yes` ุจุงุดุฏุ ุฏุณุชุฑุณ REST API ุจุงุฒ ูโุดูุฏ. ููุท ุฏุฑ ุตูุฑุช ูุงุฒ ุฑูุดู ฺฉูุฏ. |
| **`scu`** | SubConverter | (ุฏุงุฎู) | **ูุจุฏู ุงุดุชุฑุงฺฉ**. ุขุฏุฑุณ ุณุฑูุณ ุชุจุฏู ููฺฉ VLESS ุจู Clash/Surge. ูพุดโูุฑุถ `url.v1.mk` ุงุณุช. |
| **`homepage`** | Camouflage | (ุฎุงู) | **ุงุณุชุชุงุฑ**. ุขุฏุฑุณ ุณุงุช ฺฉู ุฏุฑ ุฑุดู ุฏุงููู `/` ููุงุด ุฏุงุฏู ูโุดูุฏ. Worker ูุญุชูุง ุงู ุณุงุช ุฑุง ุฏุงูููุฏ ู ููุงุด ูโุฏูุฏ. |

</div>

### ต. ุชุฑุฌุญุงุช ู ูพุดุฑูุชู (Preferred & Advanced)

<div dir="rtl">

| ูุงู ูุชุบุฑ | ุชูุถุญุงุช | ูพุดโูุฑุถ | ููุทู ููุชุฑ |
| :--- | :--- | :--- | :--- |
| **`yx`** | **ูุณุช ุฏุณุช IPูุง ุชูุฒ**. KV. ูุฑูุช: `IP:Port#Name`. | - | ุจุงูุงุชุฑู ุงูููุชุ ุจุฏูู ููุชุฑ ุงูพุฑุงุชูุฑ. |
| **`yxURL`** | **ููุจุน ุฑุงู ุฏูุฑ IP**. ุฌุงฺฏุฒู ููุจุน ูพุดโูุฑุถ ูโุดูุฏ. ููฺฉ ูุงู TXT. | (ุฏุงุฎู) | ุฏุงูููุฏ ูุณุช ุงุฒ ุงูุชุฑูุช. |
| **`ipv4`** | ุฏุฑุงูุช IPูุง IPv4 ุชูุฒ. | `yes` | ุงฺฏุฑ `no` ุจุงุดุฏุ IPv4ูุง ุญุฐู ูโุดููุฏ. |
| **`ipv6`** | ุฏุฑุงูุช IPูุง IPv6 ุชูุฒ. | `yes` | ุงฺฏุฑ `no` ุจุงุดุฏุ IPv6ูุง ุญุฐู ูโุดููุฏ. |
| **`ispMobile`** | ุดุงูู ฺฉุฑุฏู IPูุง ููุงุณุจ **ููุฑุงู ุงูู**. | `yes` | ููุชุฑ ุจุฑ ุงุณุงุณ ูุงู ุฏุฑ ูุณุช wetest. |
| **`ispTelecom`**| ุดุงูู ฺฉุฑุฏู IPูุง ููุงุณุจ **ูุฎุงุจุฑุงุช**. | `yes` | ููุชุฑ ุจุฑ ุงุณุงุณ ูุงู ุฏุฑ ูุณุช wetest. |
| **`ispUnicom`** | ุดุงูู ฺฉุฑุฏู IPูุง ููุงุณุจ **ุงุฑุงูุณู/ุฑุงุชู**. | `yes` | ููุชุฑ ุจุฑ ุงุณุงุณ ูุงู ุฏุฑ ูุณุช wetest. |
| **`customDNS`** | ุขุฏุฑุณ DoH ุจุฑุง ุงุณุชุนูุงู ECH (ููุท HTTPS). | (ุฏุงุฎู) | ุจุฑุง ุฏุฑุงูุช ฺฉุงููฺฏ ECH. ูพูุฑุช ตณ ูพุดุชุจุงู ููโุดูุฏ. |
| **`customECHDomain`**| ุฏุงููู ูุฏู ุจุฑุง ุฏุฑุงูุช ฺฉุงููฺฏ ECH. | (ุฏุงุฎู) | ุฏุฑุงูุช ฺฉูุฏ ุนููู ุงุฒ ุงู ุฏุงููู. |

</div>

---

## ุชุญูู ุนูู ู ููุงุณู ูพุฑูุชฺฉูโูุง (Protocol Deep Dive)

<div dir="rtl">

| ูฺฺฏ | VLESS (Native) | Trojan (Native) | VMess (Relay) | TUIC/Hysteria (Direct) |
| :--- | :--- | :--- | :--- | :--- |
| **ููุน** | ุณุจฺฉ ู ุจุฏูู ูุถุนุช | ุดุจูโุณุงุฒ HTTPS | ูพุฑูุชฺฉู ฺฉูุงุณฺฉ | ูพุฑูุชฺฉู ุณุฑุน UDP |
| **ููุด Worker** | ุณุฑูุฑ ูพุฑูฺฉุณ | ุณุฑูุฑ ูพุฑูฺฉุณ | ุฑูู WebSocket | ููุท ุณุงุฒูุฏู ููฺฉ (ุนุจูุฑ ููโฺฉูุฏ) |
| **ูุงุฒ ุจู ุจฺฉโุงูุฏ** | ุฎุฑ (Serverless) | ุฎุฑ (Serverless) | ุจูู (VPS) | ุจูู (VPS) |
| **ููุงููุช** | โญโญโญโญ | โญโญโญโญโญ | โญโญโญ | โญโญโญโญโญ (ฺฉูุชุฑู ุงุฒุฏุญุงู) |
| **ุชุงุฎุฑ (Ping)** | ๐ข ุจุณุงุฑ ฺฉู | ๐ข ฺฉู | ๐ก ูุชูุณุท (ฺฉ ูพุฑุด ุงุถุงูู) | ๐ข ุจุณุงุฑ ฺฉู (UDP) |
| **ูุตุฑู ููุงุจุน** | ๐ข ุจุณุงุฑ ฺฉู | ๐ก ฺฉู | ๐ด ุจุงูุง | ๐ก ูุชูุณุท |
| **ฺฉุงุฑุจุฑุฏ** | ูุฏู 4Kุ ูุจโฺฏุฑุฏ | ุดุฑุงุท ุงููุช ุญุณุงุณ | ุณุงุฒฺฏุงุฑ ุจุง ุฏุณุชฺฏุงู ูุฏู | ุจุงุฒ ุขููุงูุ ุงูุชุฑูุช ูุงูพุงุฏุงุฑ |

</div>

### ุชฺฉููููฺ ECH ฺุณุชุ
**Encrypted Client Hello (ECH)** ุชฺฉููููฺ ุฌุฏุฏ ุงุณุช ุจุฑุง ุฑูุฒฺฏุฐุงุฑ ูุฑุญูู ุฏุณุช ุฏุงุฏู TLS (Client Hello)ุ ุจู ูฺู ุฑูุฒฺฏุฐุงุฑ **SNI (Server Name Indication)**.
1.  **ูุดฺฉู**: ุฏุฑ TLS ุณูุชุ ูุงู ุฏุงููู (SNI) ุจู ุตูุฑุช ูุชู ุจุงุฒ ุงุฑุณุงู ูโุดูุฏ. ููุชุฑฺ ูโุจูุฏ ุดูุง ุจู `google.com` ูุตู ุดุฏูโุงุฏ ู ุขู ุฑุง ูุทุน ูโฺฉูุฏ.
2.  **ุฑุงู ุญู**: ECH ูุงู ุฏุงููู ุฑุง ุฑูุฒฺฏุฐุงุฑ ูโฺฉูุฏ. ููุชุฑฺ ููุท ูโุจูุฏ ุดูุง ุจู Cloudflare ูุตู ุดุฏูโุงุฏุ ุงูุง ููโุฏุงูุฏ ฺฉุฏุงู ุณุงุช.
3.  **ูพุงุฏูโุณุงุฒ**: ุงุณฺฉุฑูพุช Worker ููุด "ุชูุฒุน ฺฉููุฏู" ฺฉูุฏูุง ECH ุฑุง ุจุงุฒ ูโฺฉูุฏ ู ุขููุง ุฑุง ุงุฒ ุทุฑู DoH ุฏุฑุงูุช ู ุฏุฑ ููฺฉ ุงุดุชุฑุงฺฉ ูุฑุงุฑ ูโุฏูุฏ.

---

## ุณูุงุฑููุง ุงุณุชูุงุฏู ู ุจูุชุฑู ุฑูุดโูุง (Scenarios)

### ุณูุงุฑู ฑ: ุจูููโุณุงุฒ ูุฎุตูุต ุงูพุฑุงุชูุฑ (ISP Optimization)
**ูุฏู**: ุดูุง ฺฉุงุฑุจุฑ ุงูุชุฑูุช ููุฑุงู ุงูู ูุณุชุฏ ู ูโุฎูุงูุฏ ฺฉูุชุฑู ูุทุน ุฑุง ุฏุงุดุชู ุจุงุดุฏ.
1.  ูุงุฑุฏ ูพูู ุชูุธูุงุช ุดูุฏ.
2.  ฺฏุฒูู `ispMobile` ุฑุง ุฑู `yes` ุจฺฏุฐุงุฑุฏ.
3.  ฺฏุฒููโูุง `ispTelecom` ู `ispUnicom` ุฑุง ุฑู `no` ุจฺฏุฐุงุฑุฏ.
4.  ฺฏุฒูู `epi` (IP ูพูุง) ุฑุง ุฑูุดู ฺฉูุฏ.
5.  **ูุชุฌู**: ููฺฉ ุงุดุชุฑุงฺฉ ุดูุง ููุท ุดุงูู IPูุง ุฎูุงูุฏ ุจูุฏ ฺฉู ุฑู ุดุจฺฉู ููุฑุงู ุงูู ุชุณุช ุดุฏู ู ุณุงูู ูุณุชูุฏ.

### ุณูุงุฑู ฒ: ุญุงูุช ุจุงุฒ (Gaming Mode)
**ูุฏู**: ุจุงุฒ ุขููุงู ุฎุงุฑุฌุ ูุงุฒ ุจู ูพูฺฏ ูพุงู ู UDP.
1.  ุดูุง ูุงุฒ ุจู ฺฉ ุณุฑูุฑ ุดุฎุต (VPS) ุฏุงุฑุฏ ฺฉู Hysteria 2 ุฑู ุขู ูุตุจ ุจุงุดุฏ.
2.  ุฏุฑ ุชูุธูุงุช Workerุ ฺฏุฒูู `ehy = yes` ุฑุง ุฑูุดู ฺฉูุฏ.
3.  ุณูพุณ Worker ููฺฉ ูโุณุงุฒุฏ ฺฉู ูุณุชููุงู ุจู VPS ุดูุง ูุตู ูโุดูุฏ.
4.  ฺฉูุงูุช ุงุฒ ุงู ููฺฉ ุงุณุชูุงุฏู ูโฺฉูุฏ. ฺูู Hysteria 2 ุจุฑ ูพุงู UDP ุงุณุชุ ูพูฺฏ ุจุงุฒ ุจุณุงุฑ ุจูุชุฑ ุงุฒ TCP ุฎูุงูุฏ ุจูุฏ.

### ุณูุงุฑู ณ: ุงููุช ู ุงุณุชุชุงุฑ ุญุฏุงฺฉุซุฑ (Paranoid Mode)
**ูุฏู**: ุฌููฺฏุฑ ุงุฒ ุดูุงุณุง ุชูุณุท ุฑุจุงุชโูุง ู ููุชุฑูฺฏ SNI.
1.  ุชูุธู `d = /my-super-secret-path`.
2.  ุชูุธู `ech = yes`. ุฑูุฒฺฏุฐุงุฑ SNI.
3.  ุชูุธู `homepage = https://www.microsoft.com`. ุจุงุฒุฏุฏ ุงุฒ ุฑุดู ุฏุงูููุ ุณุงุช ูุงฺฉุฑูุณุงูุช ุฑุง ูุดุงู ูโุฏูุฏ.
4.  **ูุชุฌู**: ุญุช ุงฺฏุฑ ููุชุฑฺ ุฏุงูู ุดูุง ุฑุง ุจุงุฒุฑุณ ฺฉูุฏุ ููุท ุณุงุช ูุงฺฉุฑูุณุงูุช ุฑุง ูโุจูุฏ. ุชุญูู ุชุฑุงูฺฉ ูู ููุตุฏ ูุงูุน ุฑุง ูุดุงู ููโุฏูุฏ.

---

## ุฑุงูููุง ูุตุจ ุงุฒ ุตูุฑ (Zero to Hero)

### ฑ. ุงุณุชูุฑุงุฑ Worker
1.  ูุงุฑุฏ [ุฏุงุดุจูุฑุฏ Cloudflare](https://dash.cloudflare.com) ุดูุฏ.
2.  ูุณุฑ **Workers & Pages** -> **Create Worker**.
3.  ูุงู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ (ูุซูุงู `cf-proxy`) ู **Deploy** ุฑุง ุจุฒูุฏ.
4.  ุฑู **Edit Code** ฺฉูฺฉ ฺฉูุฏ.
5.  **ููู**: ูุงู `ๅฐๅนดไฝ็ธไฟกๅๅ` ุฑุง ุงุฒ ุงู ูพุฑูฺู ุจุงุฒ ฺฉูุฏ ู ุชูุงู ฺฉุฏ ุฑุง ฺฉูพ ฺฉูุฏ.
6.  ฺฉุฏ ููุฌูุฏ ุฏุฑ ุงุฏุชูุฑ Cloudflare ุฑุง ูพุงฺฉ ฺฉูุฏ ู ฺฉุฏ ฺฉูพ ุดุฏู ุฑุง ุฌุงฺฏุฒู ฺฉูุฏ.
7.  **Save and deploy**.

### ฒ. ูพฺฉุฑุจูุฏ KV (ุงูุฒุงู!)
ุจุฏูู KVุ ูพูู ฺฏุฑุงูฺฉ ฺฉุงุฑ ููโฺฉูุฏ.
1.  ูุณุฑ **Workers & Pages** -> **KV** -> **Create Namespace** -> ูุงู `CONFIG` -> **Add**.
2.  ุจุงุฒฺฏุดุช ุจู Worker -> **Settings** -> **Variables** -> **KV Namespace Bindings**.
3.  **Add binding**:
    *   Variable name: `C` (ุญุชูุงู ุจุง ุญุฑู ุจุฒุฑฺฏ).
    *   Namespace: ููุงู `CONFIG` ฺฉู ุณุงุฎุชุฏ.
4.  **Save and deploy**.

### ณ. ุฑุงูโุงูุฏุงุฒ ุงููู
1.  ูุณุฑ **Settings** -> **Variables** -> **Environment Variables**.
2.  **Add variable**:
    *   Variable name: `u`
    *   Value: `ฺฉุฏ UUID ุดูุง` (ุจุง ุงุจุฒุงุฑ ุชููุฏ UUID ุจุณุงุฒุฏ).
3.  **Save and deploy**.

### ด. ุจุฑุฑุณ ููุง
ุจู ุขุฏุฑุณ `https://your-domain/YOUR-UUID` ุจุฑูุฏ. ุงฺฏุฑ ุตูุญู ุชุฑููุงู ุจุง ุงูฺฉุช ูุงุชุฑฺฉุณ ุฑุง ุฏุฏุฏุ ููู ฺุฒ ุฏุฑุณุช ุงุณุช!

---

## ุฑุงูููุง ุชูุธูุงุช ฺฉูุงูุช (Client Configuration)

### Sing-box
*   **Outbound**: ูพุดููุงุฏ ูโุดูุฏ ุงุฒ `vless` ุง `trojan` ุงุณุชูุงุฏู ฺฉูุฏ.
*   **ECH**: ุฏุฑ ุจุฎุด `tls`ุ ุฎุท `ech: { enabled: true }` ุฑุง ุงุถุงูู ฺฉูุฏ.
*   **Multiplex**: ุจุฑุง ุณุฑุนุช ุจูุชุฑุ `multiplex: { enabled: true }` ุฑุง ูุนุงู ฺฉูุฏ.

### v2rayNG (ุงูุฏุฑูุฏ)
*   **Sniffing**: ุญุชูุงู ุฑูุดู ุจุงุดุฏ (ฺฏุฒูู "ุงุณุชุดูุงู ุชุฑุงูฺฉ") ุชุง ุณุงุชโูุง ุฏุงุฎู ู ุฎุงุฑุฌ ุชูฺฉฺฉ ุดููุฏ.
*   **Mux**: ุจูุชุฑ ุงุณุช ุฎุงููุด ุจุงุดุฏ. ุฏุฑ ุงูุชุฑูุช ูุงูพุงุฏุงุฑ ุจุงุนุซ ูุทุน ฺฉู ุงุชุตุงู ูโุดูุฏ.

### Surge (iOS/Mac)
*   **Skip-cert-verify**: ุงฺฏุฑ ุงุฒ IPูุง ุชูุฒ (ProxyIP) ุงุณุชูุงุฏู ูโฺฉูุฏุ ุงู ฺฏุฒูู ุจุงุฏ `true` ุจุงุดุฏ.
*   **SNI**: ูุทูุฆู ุดูุฏ ฺฉู SNI ุจุฑุงุจุฑ ุจุง ุฏุงููู Worker ุดูุงุณุช.

---

## ุนุจโุงุจ ู ูุงฺฏโูุง (Troubleshooting & Logs)

### ฺฺฏููู ูุงฺฏ Worker ุฑุง ุจุจููุ
ุงฺฏุฑ ุงุชุตุงู ุจุฑูุฑุงุฑ ููโุดูุฏ:
1.  ุฏุฑ ุฏุงุดุจูุฑุฏ Cloudflareุ ุฏุงุฎู Workerุ ุจู ุชุจ **Logs** ุจุฑูุฏ.
2.  ุฑู **Begin log stream** ฺฉูฺฉ ฺฉูุฏ.
3.  ุจุง ฺฏูุด ุฎูุฏ ุณุน ฺฉูุฏ ูุตู ุดูุฏ.
4.  ูุงฺฏโูุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ:
    *   `Status 200`: ุงุชุตุงู ูููู.
    *   `Status 403`: ุฎุทุง UUID ุง ูุณุฑ ุงุดุชุจุงู.
    *   `Status 502`: ูุดฺฉู ุฏุฑ ุงุชุตุงู ุจู ProxyIP.

### ฺฉุฏูุง ุฎุทุง ุฑุงุฌ

<div dir="rtl">

| ฺฉุฏ | ูพุงู ุฎุทุง | ุนูุช | ุฑุงู ุญู |
| :--- | :--- | :--- | :--- |
| **1101** | Worker Threw Exception | ุฎุทุง ฺฉุฏ ุง ุนุฏู ุงุชุตุงู KV | KV ุฑุง ฺฺฉ ฺฉูุฏ ฺฉู ุจู ูุชุบุฑ `C` ูุชุตู ุจุงุดุฏ. ฺฉุฏ ุฑุง ุฏูุจุงุฑู ฺฉูพ ฺฉูุฏ. |
| **1033** | Argo Tunnel Error | ุฎุทุง ุฏุงุฎู ฺฉููุฏููุฑ | ูุนูููุงู ูููุช ุงุณุช. ุตุจุฑ ฺฉูุฏ. |
| **1000** | DNS points to prohibited IP | ุฎุทุง DNS / ูููพ | ProxyIP ุงุญุชูุงูุงู ุจู ุฎูุฏ ฺฉููุฏููุฑ ุงุดุงุฑู ูโฺฉูุฏ (ฺุฑุฎู). ProxyIP ุฑุง ุนูุถ ฺฉูุฏ. |
| **1020** | Access Denied | ูุณุฏูุฏ ุชูุณุท ูุงุฑูุงู | ููุงูู WAF ฺฉููุฏููุฑ ููฺฉู ุงุณุช IP ุดูุง ุฑุง ุจุณุชู ุจุงุดุฏ. |
| **502** | Bad Gateway | ุนุฏู ุงุชุตุงู ุจู ุจุงูุง ุฏุณุช | **ProxyIP ุฎุฑุงุจ ุงุณุช**. ูุฑฺฉุฑ ููโุชูุงูุฏ ุจู `p` ูุตู ุดูุฏ. ุขู ุฑุง ุนูุถ ฺฉูุฏ. |
| **522** | Connection Timed Out | ุชุงูโุงูุช ุงุชุตุงู | ุณุงุช ููุตุฏ ุง ProxyIP ููุชุฑ ุดุฏู ุง ูพูุฑุช ุจุณุชู ุงุณุช. |

</div>

---

## ุฑุงูููุง ูุฏุฑุช API

**ุขุฏุฑุณ ูพุงู**: `https://your-domain/path/api/preferred-ips`
**ุงููุช**: ูุนูุงู ุจุฑ ุงุณุงุณ UUID ููุฌูุฏ ุฏุฑ ูุณุฑ URL ูุญุงูุธุช ูโุดูุฏ.

### ฑ. ุฏุฑุงูุช ูุณุช (GET)
```bash
curl -X GET https://domain.com/uuid/api/preferred-ips
```

### ฒ. ุงูุฒูุฏู IP ุฌุฏุฏ (POST)
ุงุถุงูู ฺฉุฑุฏู IP ุจู ูุณุช ุนูุงููโููุฏโูุง. ุชฺฉุฑุงุฑโูุง ุญุฐู ูโุดููุฏ.
```bash
curl -X POST https://domain.com/uuid/api/preferred-ips \
  -H "Content-Type: application/json" \
  -d '{"ip": "1.2.3.4", "port": 443, "name": "SG-Optimized"}'
```

### ณ. ุญุฐู IP (DELETE)
```bash
curl -X DELETE https://domain.com/uuid/api/preferred-ips \
  -H "Content-Type: application/json" \
  -d '{"ip": "1.2.3.4"}'
```

### ด. ูพุงฺฉุณุงุฒ ฺฉุงูู (DELETE)
ุญุฐู ุชูุงู IPูุง ุฏุณุช ู ุจุงุฒฺฏุดุช ุจู ุญุงูุช ูพุดโูุฑุถ.
```bash
curl -X DELETE https://domain.com/uuid/api/preferred-ips \
  -H "Content-Type: application/json" \
  -d '{"all": true}'
```

---

## ุชุงุฑุฎฺู ุณุชุงุฑู

[![Star History Chart](https://api.star-history.com/svg?repos=byJoey/cfnew&type=Timeline)](https://www.star-history.com/#byJoey/cfnew&Timeline&LogScale)
