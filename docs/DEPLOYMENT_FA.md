# ุฑุงูููุง ุงุณุชูุฑุงุฑ (Deployment Guide) ๐ง

ุงู ุฑุงูููุง ุฏุณุชูุฑุงูุนููโูุง ฺฏุงูโุจูโฺฏุงู ุจุฑุง ุงุณุชูุฑุงุฑ ุงุณฺฉุฑูพุช Cloudflare Worker VLESS Proxy & DoH Ultimate ุฑุง ุงุฑุงุฆู ูโุฏูุฏ.

---

## ุฑูุด ฑ: ุฏุงุดุจูุฑุฏ Cloudflare (ุขุณุงู) ๐ฅ๏ธ

### ฑ. ุณุงุฎุช Worker
1.  ูุงุฑุฏ [ุฏุงุดุจูุฑุฏ Cloudflare](https://dash.cloudflare.com/) ุฎูุฏ ุดูุฏ.
2.  ุจู ูุณุฑ **Workers & Pages** > **Create Application** ุจุฑูุฏ.
3.  ุฑู **Create Worker** ฺฉูฺฉ ฺฉูุฏ.
4.  ฺฉ ูุงู ุจุฑุง ูุฑฺฉุฑ ุฎูุฏ ุงูุชุฎุงุจ ฺฉูุฏ (ูุซูุงู `vless-proxy`) ู ุฑู **Deploy** ฺฉูฺฉ ฺฉูุฏ.

### ฒ. ูุตุจ ฺฉุฏ
1.  ุฑู **Edit Code** ฺฉูฺฉ ฺฉูุฏ.
2.  ูุญุชูุง ููุฌูุฏ ุฏุฑ `worker.js` ุฑุง ูพุงฺฉ ฺฉูุฏ.
3.  ฺฉู ูุญุชูุง ูุงู `worker.js` ุงุฑุงุฆู ุดุฏู (ุฏุฑ ุงู ูุฎุฒู) ุฑุง ฺฉูพ ฺฉุฑุฏู ู ุฏุฑ ูุฑุงุดฺฏุฑ ุฌุงฺฏุฐุงุฑ ฺฉูุฏ.
4.  ุฑู **Save and Deploy** ฺฉูฺฉ ฺฉูุฏ.

### ณ. ุชูุธู ูุชุบุฑูุง (ููู!) ๐
1.  ุจู ุตูุญู ุชูุธูุงุช Worker ุฎูุฏ ุจุฑฺฏุฑุฏุฏ.
2.  ุจู ูุณุฑ **Settings** > **Variables and Secrets** ุจุฑูุฏ.
3.  ูุชุบุฑูุง ุฒุฑ ุฑุง ุงุถุงูู ฺฉูุฏ:

<div dir="rtl">

| ูุชุบุฑ | ููุน | ุชูุถุญุงุช | ููุฏุงุฑ ููููู |
| :--- | :--- | :--- | :--- |
| `u` | **Environment Variable** | **ุงูุฒุงู.** ุดูุงุณู ฺฉุงุฑุจุฑ VLESS/Trojan (UUID). | `de305d54-75b4-431b-adb2-eb6b9e546014` |
| `p` | Text | *(ุงุฎุชุงุฑ)* ุขโูพ ุง ุฏุงููู ุณูุงุฑุด ProxyIP. | `ts.hpc.tw` |
| `s` | Secret | *(ุงุฎุชุงุฑ)* ูพุฑูฺฉุณ SOCKS5 ุจุฑุง ูุงูโุจฺฉ. | `user:pass@1.2.3.4:1080` |

</div>

> [!WARNING]
> **ุฎุทุฑ ุงููุช**: ุงุฒ UUID ูพุดโูุฑุถ ุงุณุชูุงุฏู ูฺฉูุฏ. ุจุง ุงุณุชูุงุฏู ุงุฒ ุงุจุฒุงุฑ ูุงููุฏ `uuidgenerator.net` ุง ุฏุณุชูุฑ `uuidgen` ุฏุฑ ุชุฑููุงูุ ฺฉ UUID ุฌุฏุฏ ุจุณุงุฒุฏ.

### ด. ุชูุธู ุฐุฎุฑูโุณุงุฒ KV (ุงุฎุชุงุฑ ุงูุง ูพุดููุงุฏ) ๐พ
ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏ "Save Config" ุฏุฑ ุฑุงุจุท ฺฉุงุฑุจุฑ ู ููุชุฑ ูพุดุฑูุชู IP:
1.  ุจู **Workers & Pages** > **KV** ุจุฑูุฏ.
2.  ุฑู **Create a Namespace** ฺฉูฺฉ ฺฉูุฏ.
    *   *ูพุดููุงุฏ*: ูุงู ุขู ุฑุง `CONFIG` (ุง `WORKER_CONFIG`) ุจฺฏุฐุงุฑุฏ.
    *   ุฑู **Add** ฺฉูฺฉ ฺฉูุฏ.
3.  ุจู Worker ุฎูุฏ ุจุฑฺฏุฑุฏุฏ > **Settings** > **Variables and Secrets**.
4.  ุจู ุจุฎุด **KV Namespace Bindings** ุงุณฺฉุฑูู ฺฉูุฏ.
5.  ุฑู **Add Binding** ฺฉูฺฉ ฺฉูุฏ.
    *   **Variable name**: `C` (ุจุงุฏ ุฏููุงู `C` ุจุงุดุฏ).
    *   **KV Namespace**: ูุถุง ฺฉู ุณุงุฎุชุฏ (ูุซูุงู `CONFIG`) ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.
6.  ุฑู **Save and Deploy** ฺฉูฺฉ ฺฉูุฏ.

### ต. ุฏุณุชุฑุณ ุจู ุฑุงุจุท ฺฉุงุฑุจุฑ ๐
ุงุฒ ุขุฏุฑุณ ูุฑฺฉุฑ ุฎูุฏ ููุฑุงู ุจุง UUID ุจุงุฒุฏุฏ ฺฉูุฏ:
`https://<your-worker-name>.<your-subdomain>.workers.dev/<YOUR_UUID>`

---

## ุฑูุด ฒ: ุงุณุชูุงุฏู ุงุฒ Wrangler CLI (ูพุดุฑูุชู) ๐ป

ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู ฺฉู ุฎุท ูุฑูุงู ุฑุง ุชุฑุฌุญ ูโุฏููุฏ.

1.  **ูุตุจ Wrangler**:
    ```bash
    npm install -g wrangler
    ```

2.  **ูุฑูุฏ ุจู ุญุณุงุจ**:
    ```bash
    wrangler login
    ```

3.  **ุงุณุชูุฑุงุฑ (Deploy)**:
    ุงู ุฏุณุชูุฑ ุฑุง ุฏุฑ ูพูุดู ูพุฑูฺู ุงุฌุฑุง ฺฉูุฏ:
    ```bash
    wrangler deploy worker.js --name my-proxy-worker
    ```

4.  **ุชูุธู ุฑุงุฒูุง (Secrets)**:
    ```bash
    wrangler secret put u
    # ููุช ูพุฑุณุฏุ UUID ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ
    ```

---

## ุชูุธู ุฏุงููู ุณูุงุฑุด ๐

ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ุฏุงููู ุงุฎุชุตุงุต (ูุซูุงู `proxy.yourdomain.com`) ุจู ุฌุง `workers.dev`:

1.  ุฏุงููู ุฎูุฏ ุฑุง ุจู Cloudflare ุงุถุงูู ฺฉูุฏ.
2.  ุจู Worker ุฎูุฏ ุจุฑูุฏ > **Settings** > **Triggers**.
3.  ุฑู **Add Custom Domain** ฺฉูฺฉ ฺฉูุฏ.
4.  ุฒุฑุฏุงูููโุง ฺฉู ูโุฎูุงูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ (ูุซูุงู `vpn.example.com`).
5.  ฺฉููุฏููุฑ ุจู ุทูุฑ ุฎูุฏฺฉุงุฑ ุฑฺฉูุฑุฏูุง DNS ู ฺฏูุงู SSL ุฑุง ูุฏุฑุช ูโฺฉูุฏ.

---

## ุจูููโุณุงุฒ: ูพุฏุง ฺฉุฑุฏู ProxyIP (ุขโูพ ุชูุฒ) โก

ุงฺฏุฑ ุงุชุตุงู ูพุดโูุฑุถ ฺฉูุฏ ุง ูุณุฏูุฏ ุงุณุชุ ุดูุง ุจู ฺฉ "ุขโูพ ุชูุฒ" (ProxyIP) ูุงุฒ ุฏุงุฑุฏ.
ุงู ฺฉ ุขุฏุฑุณ IP ุงุณุช ฺฉู ฺฉููุฏููุฑ ุจู ุขู ุงุนุชูุงุฏ ุฏุงุฑุฏ ุงูุง ุชูุณุท ISP ุดูุง ูุณุฏูุฏ ูุดุฏู ุงุณุช.

1.  **ฺุณุชุ**: ฺฉ ุขุฏุฑุณ IP ุจฺฉโุงูุฏ ฺฉู Worker ุดูุง ุชุฑุงูฺฉ ุฑุง ุงุฒ ุทุฑู ุขู ุฑูู ูโฺฉูุฏ.
2.  **ฺุทูุฑ ูพุฏุง ฺฉููุ**:
    *   ุฏุฑ ฺฏุชโูุงุจ ุง ุชูฺฏุฑุงู ุนุจุงุฑุช "Cloudflare clean IP" ุง "ุข ูพ ุชูุฒ ฺฉููุฏููุฑ" ุฑุง ุฌุณุชุฌู ฺฉูุฏ.
    *   ุงุฒ ุงุจุฒุงุฑูุง ูุซู `CloudflareSpeedTest` ุงุณุชูุงุฏู ฺฉูุฏ.
3.  **ฺุทูุฑ ุงุณุชูุงุฏู ฺฉููุ**:
    *   ูุชุบุฑ `p` ุฑุง ุฏุฑ ุชูุธูุงุช Worker ุฎูุฏ ุจู ุขู ุขุฏุฑุณ IP ุชุบุฑ ุฏูุฏ (ูุซูุงู `104.16.x.x` ุง `domain.com`).

---

## ุนุจโุงุจ ๐๏ธ

<div dir="rtl">

| ฺฉุฏ ุฎุทุง | ูุนู | ุฑุงูโุญู |
| :--- | :--- | :--- |
| **1101** | ุฎุทุง Worker | ฺฉุฏ ฺฉุฑุด ฺฉุฑุฏู ุงุณุช. ุจุฑุฑุณ ฺฉูุฏ ฺฉู `worker.js` ุฑุง ุงุดุชุจุงู ุชุบุฑ ูุฏุงุฏู ุจุงุดุฏ. ูุงฺฏโูุง ุฑุง ฺฺฉ ฺฉูุฏ. |
| **1033** | ุฎุทุง Tunnel | ุชููู Cloudflare ุดฺฉุณุช ุฎูุฑุฏ. ูุนูููุงู ูุดฺฉู ุดุจฺฉู ุง ProxyIP (`p`) ุฎุฑุงุจ ุงุณุช. `p` ุฑุง ุญุฐู ฺฉูุฏ. |
| **522** | ุงููุถุง ุฒูุงู ุงุชุตุงู | Worker ููโุชูุงูุฏ ุจู ููุตุฏ ุจุฑุณุฏ. ููุตุฏ ููฺฉู ุงุณุช Cloudflare ุฑุง ูุณุฏูุฏ ฺฉุฑุฏู ุจุงุดุฏ. |
| **UUID Invalid** | ุฎุทุง ุงุญุฑุงุฒ ููุช | ูุทูุฆู ุดูุฏ UUID ุฏุฑ URL ุฏููุงู ุจุง ูุชุบุฑ `u` ูุทุงุจูุช ุฏุงุฑุฏ. |
| **KV Error** | ูุจูุฏ ูุถุง ุฐุฎุฑูโุณุงุฒ | ุดูุง ูุถุง ูุงู KV `C` ุฑุง ุจุงูุฏ ูฺฉุฑุฏูโุงุฏ. ูุฑุญูู ด ุฏุฑ ุฑูุด ฑ ุฑุง ุจุจูุฏ. |

</div>

**ุฑุงูโุญูโูุง ุฑุงุฌ:**
*   **"ฺฏูฺฏู ุจุงุฒ ููโุดูุฏ":** ููฺฉู ุงุณุช ProxyIP ุดูุง ุฎุฑุงุจ ุจุงุดุฏ. ูุชุบุฑ `p` ุฑุง ูพุงฺฉ ฺฉูุฏ ู ุชุณุช ฺฉูุฏ.
*   **"ุณุฑุนุช ูพุงู ุงุณุช":** ISP ุดูุง ุฏุงุฑุฏ Cloudflare ุฑุง ูุญุฏูุฏ ูโฺฉูุฏ. ฺฉ ProxyIP ุจูุชุฑ ูพุฏุง ฺฉูุฏ ุง ุงุฒ ุฏุงููู ุณูุงุฑุด ุงุณุชูุงุฏู ฺฉูุฏ.

---

**ุงุนุชุจุงุฑ**:
-   ุงุณฺฉุฑูพุช ุงุตู VLESS ุชูุณุท `3Kmfi6HP`.
-   ููุทู DoH Proxy ุชูุณุท `Hossein Pira`.
-   ุฑุงุจุท ฺฉุงุฑุจุฑ ู ฺฉูพุงุฑฺูโุณุงุฒ ุชูุณุท `Tehran Network` ู ูุดุงุฑฺฉุชโฺฉููุฏฺฏุงู.
